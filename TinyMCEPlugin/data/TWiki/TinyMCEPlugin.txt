---+!! !TinyMCEPlugin
<!--
One line description, required for extensions repository catalog.
   * Set SHORTDESCRIPTION = Integration of the TinyMCE Wysiwym Editor
-->
%SHORTDESCRIPTION%

%TOC%
This is an integration of the <a href="http://tinymce.moxiecode.com?id=powered_by_tinymce_mini"><img src="http://tinymce.sourceforge.net/buttons/tinymce_button.png" border="0" width="80" height="15" alt="TinyMCE" /></a> WYSIWYG editor. This is great little editor, fast and highly functional, and supporting a wide range of browsers, including Firefox, IE and Safari. At the time of writing it doesn't work with Opera or Konqueror.

The integration uses the TWiki:Plugins.WysiwygPlugin to translate text to and from a format that !TinyMCE can edit.

Unlike the other editor integrations in TWiki, which install "Word in a Browser" style editors, this plugin is able to swap out the _standard_ text areas in an edit and replace them with WYSIWYG editors. This means you get WYSIWYG editors for textareas in forms, as well as for the main text of the topic. It can also co-exist alongside other WYSIWYG editors, such as Kupu.

The editor automatically "switches itself off" (i.e. reverts to the old text-only window) when editing topics that contain TWiki content it can't handle, such as complex TWiki variables.

---++ Editor Notes
The editor functions on normal topic text exactly like any other HTML editor. It uses a translator module to convert from TWiki markup language (TML) to HTML and back. The translator converts special TWiki tags - such as %<nopVARIABLES% - to plain text, and encloses it withn HTML span using a special style called =WYSIWYG_PROTECTED=. In this way the client editor can detect text that is not meant to be HTML formatted. This style is _also_ used to protect special text you enter into the editor from being interpreted when the topic is translated back into TML. If you want to add any special TWiki features that are sensitive to formatting, such as =Set= statements, then you have to paint the =PROTECTED= style (from the styles menu) over those regions.

---++ Installation Instructions

__NOTE:__ this plugin requires the very latest revision of WysiwygPlugin. It will *not* work with the version shipped with TWiki 4.1.2.

First follow the installation instructions to install the Plugin:

%$INSTALL_INSTRUCTIONS%

   * *Disable* the WysiwygPlugin in =configure=, unless you also want to use another WYSIWYG editor by cicking the 'WYSIWYG' button.
   * *Enable* the TinyMCEPlugin in =configure=.
   * *Click* on edit of any topic.

---++ Settings
This setting contains all the options passed to the TinyMCE editor on startup. 
For a full explanation of the available options, and guidance on reconfiguring TinyMCE, see the [[http://wiki.moxiecode.com/index.php/TinyMCE:Configuration][Moxicode TinyMCE Wiki]]. Note the inclusion of the Pattern Skin standard CSS files in the =content_css= setting.
   * Set INIT = mode : "textareas",
   cleanup : false,
   theme : "advanced",
   convert_urls : false,
   relative_urls : false,
   remove_script_host : false,
   plugins : "table,searchreplace,autosave",
   setupcontent_callback : "tinymce_plugin_setUpContent",
   theme_advanced_toolbar_align : "left",
   theme_advanced_buttons1 : "bold,italic,separator,bullist,numlist,separator,outdent,indent,separator,undo,redo,separator,search,replace,separator,link,unlink,removeformat,hr,separator,styleselect,formatselect,anchor,image,help,code,charmap",
   theme_advanced_buttons2: "tablecontrols",
   theme_advanced_buttons3: "",
   theme_advanced_toolbar_location: "top",
   theme_advanced_styles : "NOAUTOLINK=WYSIWYG_NOAUTOLINK;VERBATIM=TMLverbatim;PROTECTED=WYSIWYG_PROTECTED",
   content_css : "%PUBURLPATH%/%TWIKIWEB%/TinyMCEPlugin/wysiwyg.css,%PUBURLPATH%/%TWIKIWEB%/TWikiTemplates/base.css,%TWIKISTYLEURL%,%TWIKICOLORSURL%"
You can override this setting in the same way as any other TWiki variable, by setting =TINYMCEPLUGIN_INIT= in the site, web or topic preferences. You are *not* recommended to edit the setting here.
   * You can *disable* the plugin in any web or topic, or for any specific user, by setting the =TINYMCEPLUGIN_DISABLE= variable to 1.
   * Some browsers don't support !TinyMCE. You can prevent the editor from
     being invoked on these browsers by setting =TINYMCEPLUGIN_BAD_BROWSERS= to a regular expression that matches the user-agent string for any broken browsers. The default is =(?i-xsm:Konqueror|Opera)=.

%INCLUDE{"%SYSTEMWEB%.WysiwygPluginSettings"}%

---++ Plugin Info

This extension is brought to you by a [[http://wikiring.com][WikiRing <a href="http://wikiring.com"><img src="%PUBURLPATH%/%SYSTEMWEB%/WysiwygPlugin/wikiringlogo20x20.png" title="WikiRing: Professional Wiki Innovation and Support" /></a>]] partner - working together to improve your wiki experience!

|  Plugin Author(s): | TWiki:Main.CrawfordCurrie |
|  Plugin Version: | %$VERSION% |
|  Copyright: | &copy; 2007 Crawford Currie http://c-dot.co.uk |
|             | This package also includes the complete sources for version 2.1.1.1 of the !TinyMCE editor |
|  License: | [[http://www.gnu.org/licenses/gpl.html][GPL (Gnu General Public License)]] |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  14543 | Added PROTECTED style, to allow protection of special text. Disable on unsupported browsers (untested) |
|  14538 | First release |
|  Dependencies: | %$DEPENDENCIES% |
|  Plugin Home: | http://twiki.org/cgi-bin/view/Plugins/TinyMCEPlugin |
|  Feedback: | http://twiki.org/cgi-bin/view/Plugins/TinyMCEPluginDev |
|  Appraisal: | http://twiki.org/cgi-bin/view/Plugins/TinyMCEPluginAppraisal |

<!-- Do _not_ attempt to edit this topic; it is auto-generated. Please add comments/questions/remarks to the Dev topic instead. -->

%META:FILEATTACHMENT{name="tinymce.gif" attr="h" comment="screenshot"}%
