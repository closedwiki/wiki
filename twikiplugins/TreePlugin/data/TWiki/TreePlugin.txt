%META:TOPICINFO{author="TWikiContributor" date="1159730103" format="1.1" reprev="1.1" version="1.1"}%
---+!! Tree Plugin

Renders topics' parent-child relationships as hierarchical tree view. Useful for dynamic sitemaps and threads.

%TOC%


---++ Syntax Rules

=%<nop>TREEVIEW{}%= displays topic children in a hierarchical tree

Attributes:
   * *web* - specify web
   * *topic* - specify tree's root topic (if none, will do the entire web)
   * *formatting* - specify the formatting method
      * =ullist= is a &lt;ul&gt;-list, see [[Sandbox.TreePluginSamples#UlList][sample UL lists]]
      * =ollist= is a &lt;ol&gt;-list, see [[Sandbox.TreePluginSamples#OlList][sample OL lists]]
      * =outline= is an outline list, see [[Sandbox.TreePluginSamples#SampleOutlines][sample Outlines]]
      * =hlist= is a &lt;h<i>n</i>&gt;-list of section heads, see [[Sandbox.TreePluginSamples#SampleHList][sample Headlines]]
      * =coloroutline:colorlist= is an outline formatting with level values turned into colors, see [[Sandbox.TreePluginSamples#SampleNestedTables][sample Nested tables]]. Example: =formatting="coloroutline:#ffeeff,#eeffee,#ffffee,#eeeeff,#ffeeee,#eeffff"=
      * =imageoutline:mode= is a way to incorporate images into the outline format, specifically to display thread-like and folder views, see [[Sandbox.TreePluginSamples#SampleImageTrees][sample Image Trees]]. The general format is: imageoutline: _mode_ : _images_ : _imageformat_. Example: =formatting="imageoutline:thread"= or =formatting="imageoutline:thread:I.gif,white.gif,T.gif,L.gif:&lt;img src=\"$image\" border=\"0\">"=.
   * *startlevel* - the depth of the tree to start showing nodes from. To hide the root node, supply =startlevel="1"= (root is level 0). The displayed node depths are relative to the root topic.
   * *stoplevel* - the depth of the tree to show, relative to start level 
   * *header* - header output
   * *bookview* - list topics in BookView form 
   * *format* - specify the format for each node (=outline= & =coloroutline=). Format variable options:
      * =$topic= - the topic name
      * =$web= - the topic's web
      * =$spacetopic= - the topic with spaces
      * =$summary= - the topic's summary
      * =$text= - the topic's text (which will get rendered)
      * =$author= - the topic's last author 
      * =$modTime= - the topic's modification time
      * =$level= - the tree depth of the topic (in whatever format)
      * =$count= - the topic's child position
      * =$index= - the index of the topic in the tree. Starts from one. Most useful when used in combination with [[TWiki:Plugins.TreeBrowserPlugin][TreeBrowserPlugin]]
      * =$onum= - outline number for the topic (eg, 1.3.4.2) 
      * =$url= - the current topic's URL
   * *formatbranch* - specify the format for a group of children (=outline= & =coloroutline=)
      * =$parent= - the text of a node
      * =$children= - the text of all the node's children (if any)
   * *levelprefix* - specify a prefix to a node format. The prefix is inserted =$level= times at the beginning of the rendered node format (=outline=). It allows generation of trees using TWiki bullet list syntax thus enabling usage of !TreePlugin [[#Combination_with_TreeBrowserPlug][in combination with TreeBrowserPlugin]].


---++ Samples
See the following pages for sample usage and output.
   * [[Sandbox.TreePluginSamples]]
   * [[Sandbox.HeadingOutlineSample]]
   * [[Sandbox.TreeBookviewOutlineSample]]

<!-- The Plugins.<nop>TreePluginHelp topic in the installation contains complete help information. -->



---+++ Combination with [[TWiki:Plugins.TreeBrowserPlugin][TreeBrowserPlugin]]

=%<nop>TREEBROWSER{"file" title="%<nop>WEB%"}%= %BR%
=%<nop>TREEVIEW{web="%<nop>WEB%" topic="GrandParent" formatting="outline" format="* $topic" levelprefix="   "}%=



---++ Plugin Settings

Plugin settings are stored as preferences variables.%BR%
To reference
a plugin setting write ==%<nop>&lt;plugin&gt;_&lt;setting&gt;%==, for example, ==%<nop>INTERWIKIPLUGIN_SHORTDESCRIPTION%==
<!--
   * Set SHORTDESCRIPTION = Dynamic generation of TWiki topic trees 
-->
   * Set DEBUG to 1 to get debug messages in =data/debug.txt=.  Default: =0=
      * Set DEBUG = 0



---++ Installation Instructions

   * Download the ZIP file from the Plugin web (see below)
   * Unzip ==%TOPIC%.zip== in your ($TWIKI_ROOT) directory.
   * Alternatively,
      * Manually resolve the dependencies listed below.
      %$DEPENDENCIES%
      
      
      
---++ Plugin Info

| Authors: | TWiki:Main.SlavaKozlov (alpha release), TWiki:Main.StephaneLenclud (2006)  |
| Copyright&nbsp;&copy;: | Copyright (C) 2002 Slava Kozlov. All Rights Reserved. |
| License: | [[http://www.gnu.org/copyleft/gpl.html][GPL]] |
| Dependencies: | %$DEPENDENCIES% |
| CPAN&nbsp;Dependencies: | none _(test package relies on Wiki:PerlUnit)_ |
| Perl Version: | 5.0, 5.6.1, 5.8.7 |
| Change&nbsp;History: | <!-- specify latest version first -->&nbsp; |
| 14 Mar 2007 | 0.7.1 - Arthur Clemens: Made =startlevel= and =stoplevel= relative to the root topic. | 
| 14 Mar 2007 | 0.7 - Arthur Clemens: =web= parameter is now actually used. Added parameter =startlevel=. | 
| 01 Oct 2006 | 0.6 - TWiki:Main.StephaneLenclud: adding =$index= format subsitution. Useful when used in combination with TWiki:Plugins/TreeBrowserPlugin. Also attempting to restore compatibility with Cairo, but still waiting for someone to test it.  |
| 16 Sep 2006 | 0.5 - TWiki:Main.StephaneLenclud: adding =levelprefix= parameter to unable usage in combination with TWiki:Plugins/TreeBrowserPlugin. |
| 26 Jul 2006: | 0.4 - TWiki:Main.SteffenPoulsen: Ported to TWiki 4 (Dakar). Leading text removed, less warnings, no double bracket links, CSS classnames around output. |
| 15 Feb 2002 | Alpha (0.2) release |
| 08 Feb 2002 | Internal (0.1) release |
| Home: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC% |
| Feedback: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev |
| Appraisal: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal |

__Related Topics:__ %TWIKIWEB%.TWikiPreferences, %TWIKIWEB%.TWikiPlugins


%META:FILEATTACHMENT{name="oT.gif" attr="h" autoattached="1" comment="" date="1158432770" path="oT.gif" size="879" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="I.gif" attr="h" autoattached="1" comment="" date="1158432770" path="I.gif" size="869" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="white.gif" attr="h" autoattached="1" comment="" date="1158432770" path="white.gif" size="56" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="pL.gif" attr="h" autoattached="1" comment="" date="1158432770" path="pL.gif" size="880" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="oL.gif" attr="h" autoattached="1" comment="" date="1158432770" path="oL.gif" size="874" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="L.gif" attr="h" autoattached="1" comment="" date="1158432770" path="L.gif" size="864" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="T.gif" attr="h" autoattached="1" comment="" date="1158432770" path="T.gif" size="873" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="pT.gif" attr="h" autoattached="1" comment="" date="1158432770" path="pT.gif" size="883" user="UnknownUser" version=""}%
