%META:TOPICINFO{author="TWikiContributor" date="1132760168" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="TopicFunction"}%
---+ Function: %TOPIC%
%FORMFIELD{"TopicDescription"}%

The maximum age of a BlogComment to be displayed is hardcoded below in epoch seconds.
See the =age="2592000"= parameter below. Customize it to

   1 month: 2592000 
   2 months: 5184000 
   3 months: ... 

as you like. The reason for that is to fade out old comments and even don't display
the comments section in the sidebar at all if your blog grows lonely. It is no good 
advertisement to display very old comments in this prominent position with obiously
no newer comments than that.

---++ Parameters
   * LIMIT: maximal number of comments to list
   * CAT: restrict scope to the given SubjectCategory

---++ Implementation
<verbatim>
%STARTINCLUDE%%~~ RECENTCOMMENTS{
~~~  category="%CAT%"
~~~  format="   * [[$web.$topic][$headline]]
~~~    <span class=\"blogCommentCount\">
~~~      <a href=\"$percntSCRIPTURL{\"view\"}$percnt/$web.$topic#topComment\">$percntCOUNTCOMMENTS{\"$web.$topic\" hidenull=\"on\"}$percnt</a>
~~~    </span><br/>
~~~    <span class=\"blogSideBarCommenter\">
~~~      $percntTIMESINCE{\"$date\" format=\"$time ago\"}$percnt
~~~      $commenter replied
~~~    </span>"
~~~  limit="%LIMIT%" age="2592000"
~~~  header="$n<noautolink>$n
*~~     <div class=\"blogSideBarSection blogSideBarComments\">$n
*~~     ---+ Comments$percntREDDOT{\"%WEB%.%TOPIC%\"}$percnt$n"
~~~  footer="</div>$n</noautolink>"
~~~ }%%STOPINCLUDE%
</verbatim>


---++ Test
<div class="alt">
%DBCALL{"%TOPIC%" LIMIT="10" CAT="BlogDev"}%
</div>

%DBCALL{"RenderFunctionCallers"}%

<!--
   * Set ALLOWTOPICCHANGE = %MAINWEB%.BlogAdminGroup
   * Set SIDEBAR = Admin
   * Set SIDEBARARG = TopicFunction
-->


%META:FORM{name="TopicForm"}%
%META:FIELD{name="TopicType" attributes="M" title="TopicType" value="TopicFunction"}%
%META:FIELD{name="TopicDescription" attributes="M" title="TopicDescription" value="Render the list of recent comments in the WebSideBar"}%
