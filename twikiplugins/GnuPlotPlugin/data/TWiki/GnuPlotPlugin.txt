%META:TOPICINFO{author="TWikiContributor" date="1145306949" format="1.1" reprev="1.10" version="1.10"}%
---+!! <nop>%TOPIC% 

A plugin that allows the display of !GnuPlot graphs. See GnuPlotHelp.

%TOC%

---

---++ Syntax Rules 

	* Just add =%<nop>GNUPLOT{"PlotName"}%= anywhere in the page where you want the plot to appear and save the topic<br />
	* Multiple plots can be displayed within one topic
	* Any CSV (Comma Seperated Variable) files attached to the topic can be used with the plot or splot commands.

---++ Examples 

	* The following images are examples of plots generated by !GnuPlot:
	

<table width="1700">
<tr>
<td>
Pre-rendered sample (<nop>TestInstall):<br />
<img src="%ATTACHURLPATH%/TestInstallSample.png" alt="TestInstallSample.png" width='639' height='517' />
</td>
<td>
Plugin (<nop>TestInstall):<br />
%GNUPLOT{"TestInstall"}%
</td>
<td>
Verbatim (<nop>TestInstall):<br />
<verbatim>
%GNUPLOT{"TestInstall"}%

Plot settings:
set title "TestInstall"
set datafile separator ","
set terminal png
plot sin(x), cos(x), x*x/10
</verbatim>
</td>
</tr>
</table>

---

<table width="1700">
<tr>
<td>
Pre-rendered sample (<nop>MultigraphWithErrorbars):<br />
<img src="%ATTACHURLPATH%/MultigraphWithErrorbarsSample.png" alt="MultigraphWithErrorbarsSample.png" width='631' height='517' />
</td>
<td>
Plugin (<nop>MultigraphWithErrorbars):<br />
%GNUPLOT{"MultigraphWithErrorbars"}%
</td>
<td>
Verbatim (<nop>MultigraphWithErrorbars):<br />
<verbatim>
%GNUPLOT{"MultigraphWithErrorbars"}%

Plot settings:
set title "MultigraphWithErrorbars"
set xlabel "X Axis Label"
set ylabel "Y Axis Label"
set term gif
set data style lp
set terminal png
plot [.8:4.2] "MultigraphWithErrorbarsData.data" using 1:2 t "Curve Title", \
"MultigraphWithErrorbarsData.data" using 1:2:3:4 notitle with errorbars ps 0, \
"MultigraphWithErrorbarsData.data" using 1:5 t "Other Curve", \
"MultigraphWithErrorbarsData.data" using 1:5:6:7 notitle with errorbars ps 0
</verbatim>
</td>
</tr>
</table>

---

<table width="1700">
<tr>
<td>
Pre-rendered sample (<nop>DampedSinus):<br />
<img src="%ATTACHURLPATH%/DampedSinusSample.png" alt="DampedSinusSample.png" width='647' height='516' />
</td>
<td>
Plugin (<nop>DampedSinus):<br />
%GNUPLOT{"DampedSinus"}%
</td>
<td>
Verbatim (<nop>DampedSinus):<br />
<verbatim>
%GNUPLOT{"DampedSinus"}%

Plot settings:
set title "DampedSinus"
set xlabel "X Axis Label"
set ylabel "Y Axis Label"
set terminal png
plot 'DampedSinusData.data'
</verbatim>
</td>
</tr>
</table>

---

<table width="1700">
<tr>
<td>
Pre-rendered sample (<nop>CIAWorldDataBankIIDenmark):<br />
<img src="%ATTACHURLPATH%/CIAWorldDataBankIIDenmarkSample.png" alt="CIAWorldDataBankIIDenmarkSample.png" width='635' height='518' />
</td>
<td>
Plugin (<nop>CIAWorldDataBankIIDenmark):<br />
%GNUPLOT{"CIAWorldDataBankIIDenmark"}%
</td>
<td>
Verbatim (<nop>CIAWorldDataBankIIDenmark):<br />
<verbatim>
%GNUPLOT{"CIAWorldDataBankIIDenmark"}%

Plot settings:
set title "CIAWorldDataBankIIDenmark"
set noxtics
set noytics
set noborder
set data style dots
set terminal png
plot "CIAWorldDataBankIIDenmarkData.data" title "" with lines 
</verbatim>
</td>
</tr>
</table>


---++ Plugin Settings 

	* One line description, is shown in the %TWIKIWEB%.TextFormattingRules topic:
	* Set SHORTDESCRIPTION = Allows users to plot data and functions using [[GnuPlotHelp][GnuPlot]]

	* Debug plugin: (See output in =data/debug.txt=)
	* Set DEBUG = 0

	* Path to gnuplot executable:
	* Set GNUPLOTPATH = /usr/bin/gnuplot

---++ Plugin Installation Instructions 

__Note:__ You do not need to install anything on the browser to use this plugin. The following instructions are for the administrator who installs the plugin on the server where TWiki is running. 

	* Download the ZIP file from the Plugin web (see below)
	* Unzip ==%TOPIC%.zip== in your twiki installation directory. <br />Content:
<table cellspacing="1" cellpadding="0" border="1">		<tbody><tr><td> *File:* </td><td> *Description:* </td></tr>		<tr><td> ==data/TWiki/%TOPIC%.txt== </td><td> Plugin topic </td></tr>		<tr><td> ==data/TWiki/%TOPIC%.txt,v== </td><td> Plugin topic repository </td></tr>		<tr><td> ==lib/TWiki/Plugins/%TOPIC%.pm== </td><td> Plugin Perl module </td></tr> </tbody></table><br />
	* Edit the *GNUPLOTPATH* setting above to point to the gnuplot executable. *Note* -- you can specify an absolute or relative path. Relative path is specified relative to the twiki/bin directory. Absolute path will depend on your webserver configuration (whether or not it runs with chroot or not).
If your plugin is correctly installed you should have fully interactive editable plots in the examples section

---++ Known issues

	* Plot names are not checked for validity yet. This might have a security impact
	* If the plot name is a WikiWord it will show up as a link. (Maybe this is ok?)
	* Path to datafiles used for plotting are always relative to current topic.
	* A <PlotName>.err file appears in the list of attachments if there is a serious error
	* set title / show title does show the title but the 'show title' line disappears when the plot is edited afterwards

---++ Planned improvements

	* TWiki compatible syntax for using datafiles from any topic.
	* Form based editing of plot settings to make it easier for users that are not familiar with [[GnuPlotHelp][GnuPlot]]

---++ Plugin Info 

| Plugin Author: | TWiki:Main.AbieSwanepoel |
| Plugin Version: | 17 Apr 2006: (V1.010) |
| Change History: ||
| 17 Apr 2006: | Doc update, changed working dir to ATTACHURLPATH (TWiki:Main.SteffenPoulsen) |
| 27 Jan 2006: | Initial version |
| TWiki Dependency: | $TWiki::Plugins::VERSION 1.1 |
| CPAN Dependencies: | none |
| Other Dependencies: | !GnuPlot (available from http://www.gnuplot.info) with support for a PNG terminal |
| Perl Version: | 5.005 |
| License: | GPL ( [[http://www.gnu.org/copyleft/gpl.html][GNU General Public License]]) |
| [[TWiki:Plugins/Benchmark][Benchmarks]]: | %TWIKIWEB%.GoodStyle nn%, %TWIKIWEB%.FormattedSearch nn%, %TOPIC% nn% |
| Plugin Home: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC% |
| Feedback: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev |
| Appraisal: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal |

__Related Topics:__ %TWIKIWEB%.TWikiPreferences, %TWIKIWEB%.TWikiPlugins

-- TWiki:Main.AbieSwanepoel - 27 Jan 2006


%META:FILEATTACHMENT{name="DampedSinusSample.png" attr="h" autoattached="1" comment="Pre-rendered graphics for <nop>DampedSinusSample example" date="1145304238" path="DampedSinusSample.png" size="9541" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="DampedSinusData.data" attr="h" autoattached="1" comment="Data for <nop>DampedSinusData example" date="1145303780" path="DampedSinusData.data" size="4091" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbarsData.data" attr="h" autoattached="1" comment="Data for <nop>MultigraphWithErrorbarsData example" date="1145303814" path="MultigraphWithErrorbarsData.data" size="66" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbars.png" attr="h" autoattached="1" comment="" date="1145306907" path="MultigraphWithErrorbars.png" size="4919" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbars.err" attr="h" autoattached="1" comment="" date="1145306907" path="MultigraphWithErrorbars.err" size="0" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="TestInstall.gnu" attr="h" autoattached="1" comment="" date="1145302552" path="TestInstall.gnu" size="100" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmark.png" attr="h" autoattached="1" comment="" date="1145306907" path="CIAWorldDataBankIIDenmark.png" size="8657" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="TestInstallSample.png" attr="h" autoattached="1" comment="Pre-rendered graphics for <nop>TestInstallSample example" date="1145304306" path="TestInstallSample.png" size="9309" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbars.gnu" attr="h" autoattached="1" comment="" date="1145304112" path="MultigraphWithErrorbars.gnu" size="434" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="DampedSinus.err" attr="h" autoattached="1" comment="" date="1145306907" path="DampedSinus.err" size="0" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="MultigraphWithErrorbarsSample.png" attr="h" autoattached="1" comment="Pre-rendered graphics for <nop>MultigraphWithErrorbarsSample example" date="1145304264" path="MultigraphWithErrorbarsSample.png" size="9082" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="DampedSinus.gnu" attr="h" autoattached="1" comment="" date="1145306006" path="DampedSinus.gnu" size="126" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmarkData.data" attr="h" autoattached="1" comment="Data for <nop>CIAWorldDataBankIIDenmark example" date="1145303850" path="CIAWorldDataBankIIDenmarkData.data" size="403115" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="TestInstall.png" attr="h" autoattached="1" comment="" date="1145306907" path="TestInstall.png" size="5060" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmarkSample.png" attr="h" autoattached="1" comment="Pre-rendered graphics for <nop>CIAWorldDataBankIIDenmark example" date="1145304212" path="CIAWorldDataBankIIDenmarkSample.png" size="15279" user="Main.TWikiContributor" version="1"}%
%META:FILEATTACHMENT{name="DampedSinus.png" attr="h" autoattached="1" comment="" date="1145306907" path="DampedSinus.png" size="4659" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmark.gnu" attr="h" autoattached="1" comment="" date="1145304158" path="CIAWorldDataBankIIDenmark.gnu" size="182" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="CIAWorldDataBankIIDenmark.err" attr="h" autoattached="1" comment="" date="1145306907" path="CIAWorldDataBankIIDenmark.err" size="0" user="Main.TWikiContributor" version=""}%
%META:FILEATTACHMENT{name="TestInstall.err" attr="h" autoattached="1" comment="" date="1145306907" path="TestInstall.err" size="0" user="Main.TWikiContributor" version=""}%
