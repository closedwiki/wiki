<html><head>
<title>TWikiDocumentation</title>
</head><body>
<h3>Documentation of the TWiki Implementation (version 16 Mar 2000)</h3>
<UL>
<LI> <A href="#login">(1)</A> Login Username vs. Wiki Username
<LI> <A href="#variables">(2)</A> Wiki Variables
<LI> <A href="#notification">(3)</A> Notification of Changes by Email
<LI> <A href="#category">(4)</A> TWiki Category Table
<LI> <A href="#implementation">(5)</A> Implementation Notes
<LI> <A href="#installation">(6)</A> Installation Notes
</UL>
<p> 
Related Topics: <A href="/crew/scharf/TWiki/bin/view/Main/TWikiHistory">TWikiHistory</A>, <A href="/crew/scharf/TWiki/bin/view/Main/TWikiPlannedFeatures">TWikiPlannedFeatures</A>, <A href="/crew/scharf/TWiki/bin/view/Main/TWikiEnhancementRequests">TWikiEnhancementRequests</A>.
<p> 
<A name="login">
<HR>
<STRONG>(1) Login Username vs. Wiki Username</STRONG>
<p> 
TWiki manages internally two usernames: Login username and Wiki username. 
<UL>
<LI> <STRONG>Login username:</STRONG> When you login to the Intranet you use your login username, e.g. <code>thoeny</code>. TWiki uses this name internally to log who changed topics.
<LI> <STRONG>Wiki username:</STRONG> Is your name in <A href="/crew/scharf/TWiki/bin/view/Main/WikiNotation">WikiNotation</A>, e.g. <code>PeterThoeny</code>. When you create your own home page topic, you should use your <A href="/crew/scharf/TWiki/bin/view/Main/WikiName">WikiName</A> for the topic name. Like that, your name will be linked automatically where ever it is used. Please create your home page in TWiki.Main, not any other TWiki web. 
</UL>
<p> 
<STRONG>Note:</STRONG> When you write a <A href="/crew/scharf/TWiki/bin/view/Main/WikiName">WikiName</A> of a user (your own or somebody else's) be sure to specify the Main web in front of the Wiki user name, e.g. write it as Main.wikiUsername. This assures that the name will be linked automatically to the TWiki.Main web, even if the text is written in a different Wiki web.
<p> 
TWiki can map the Intranet username to the Wiki username automatically, provided that the Login username and Wiki username pair has been entered in the <A href="/crew/scharf/TWiki/bin/view/Main/TWikiUsers">TWikiUsers</A> topic.
<p> 
<p> 
<A name="variables">
<HR>
<STRONG>(2) Wiki Variables</STRONG>
<p> 
TWiki expands the following variables enclosed in % percent signs:
<p> 
<table border="1"><tr>
  <th> Variable: </th><th> Expanded to: </th>
</tr><tr>
  <td> <CODE>%<nop>WIKIHOMEURL%</CODE> </td>
  <td> The base script URL of TWiki, link of Home icon in upper left corner is <b>http://starship.python.net/crew/scharf/TWiki/</b> </td>
</tr><tr>
  <td> <CODE>%<nop>SCRIPTURL%</CODE> </td>
  <td> The script URL of TWiki, is <b>http://starship.python.net/crew/scharf/TWiki/bin</b></td>
</tr><tr>
  <td> <CODE>%<nop>SCRIPTURLPATH%</CODE> </td>
  <td> The path of the script URL of TWiki, is <b>/crew/scharf/TWiki/bin</b></td>
</tr><tr>
  <td> <CODE>%<nop>PUBURL%</CODE> </td>
  <td> The public URL of TWiki, is <b>http://starship.python.net/crew/scharf/TWiki/pub</b> </td>
</tr><tr>
  <td> <CODE>%<nop>PUBURLPATH%</CODE> </td>
  <td> The path of the public URL of TWiki, is <b>/crew/scharf/TWiki/pub</b> </td>
</tr><tr>
  <td> <CODE>%<nop>ATTACHURL%</CODE> </td>
  <td> The attachment URL of the current topic, is <b>http://starship.python.net/crew/scharf/TWiki/pub/Main/TWikiDocumentation</b> <br> Example: If you attach a file you can refer to it as <CODE><b>%<nop>ATTACHURL%/image.gif</b></CODE> </td>
</tr><tr>
  <td> <CODE>%<nop>ATTACHURLPATH%</CODE> </td>
  <td> The path of the attachment URL of the current topic, is <b>/crew/scharf/TWiki/pub/Main/TWikiDocumentation</b> </td>
</tr><tr>
  <td> <CODE>%<nop>WIKITOOLNAME%</CODE> </td>
  <td> Name of wiki tool, is <b>TWikibeta</b> </td>
</tr><tr>
  <td> <CODE>%<nop>WIKIVERSION%</CODE> </td>
  <td> Wiki tool version, is <b>16 Mar 2000</b> </td>
</tr><tr>
  <td> <CODE>%<nop>USERNAME%</CODE> </td>
  <td> Your login username, is <b>guest</b> </td>
</tr><tr>
  <td> <CODE>%<nop>WIKIUSERNAME%</CODE> </td>
  <td> Your Wiki username, if defined in <A href="/crew/scharf/TWiki/bin/view/Main/TWikiUsers">TWikiUsers</A>. Same as %<nop>USERNAME% if not defined. Is <b>Main.TWikiGuest</b> </td>
</tr><tr>
  <td> <CODE>%<nop>WEB%</CODE> </td>
  <td> The current web, is <b>Main</b> </td>
</tr><tr>
  <td> <CODE>%<nop>TOPIC%</CODE> </td>
  <td> The current topic name, is <b>TWikiDocumentation</b> </td>
</tr><tr>
  <td> <CODE>%<nop>DATE%</CODE> </td>
  <td> Todays date, is <b>17 Mar 2000</b> </td>
</tr><tr>
  <td> <CODE>%<nop>INCLUDE{"file.ext"}%</CODE> </td>
  <td> Server side include, includes the text of a file. The default directory is the current Wiki web. Example: <CODE><b>%<nop>INCLUDE{"../Know/TopicName.txt"}%</b></CODE> </td>
</tr><tr>
  <td> <CODE>%<nop>SEARCH{"str" ...}%</CODE> </td>
  <td> Inline search, shows a search result embedded in a topic. Parameter is composed of the search string, followed by optional <CODE>name="value"</CODE> pairs:
<TABLE border="1"><TR><TD> <STRONG>Pair:</STRONG>  </TD><TD>  <STRONG>Description:</STRONG>  </TD><TD>  <STRONG>Default:</STRONG>  </TD></TR>
<TR><TD> <CODE>web="Name"</CODE>  </TD><TD>  Specify Wiki web to search  </TD><TD>  Current web  </TD></TR>
<TR><TD> <CODE>scope="topic"</CODE>  </TD><TD>  Search topic name (title)  </TD><TD>  Topic text (body)  </TD></TR>
<TR><TD> <CODE>regex="on"</CODE>  </TD><TD>  <A href="/crew/scharf/TWiki/bin/view/Main/RegularExpression">RegularExpression</A> search  </TD><TD>  Literal search  </TD></TR>
<TR><TD> <CODE>casesensitive="on"</CODE>  </TD><TD>  Case sensitive search  </TD><TD>  Ignore case  </TD></TR>
<TR><TD> <CODE>nosummary="on"</CODE>  </TD><TD>  Show topic title only  </TD><TD>  Show topic summary  </TD></TR>
<TR><TD> <CODE>nosearch="on"</CODE>  </TD><TD>  Suppress search string  </TD><TD>  Show search string  </TD></TR>
<TR><TD> <CODE>nototal="on"</CODE>  </TD><TD>  Do not show number of topics found  </TD><TD>  Show number  </TD></TR>
</TABLE>
Example: <CODE><b>%<nop>SEARCH{"wiki" web="Main" scope="topic"}%</b></CODE> </td>
</tr></table>
<p> 
Additional variables are defined in the preferences ( site-level ( <STRONG><EM>SL</EM></STRONG> ) in <A href="/crew/scharf/TWiki/bin/view/Main/TWikiPreferences">TWikiPreferences</A>, web-level ( <STRONG><EM>WL</EM></STRONG> ) in <A href="/crew/scharf/TWiki/bin/view/Main/WebPreferences">WebPreferences</A> of each web, and user level ( <STRONG><EM>UL</EM></STRONG> ) preferences in individual user topics):
<p> 
<table border="1"><tr>
  <th> Variable: </th><th> Level: </th><th> What: </th>
</tr><tr>
  <td> <CODE>%<nop>WIKIWEBMASTER%</CODE> </td>
  <td> <STRONG><EM>SL</EM></STRONG> </td>
  <td> Webmaster email address (sender of email notifications) , is <b>peter.thoeny@attglobal.net</b> </td>
</tr><tr>
  <td> <CODE>%<nop>WIKIWEBLIST%</CODE> </td>
  <td> <STRONG><EM>SL</EM></STRONG> </td>
  <td> List of TWikibeta webs (in upper right corner of topics) </td>
</tr><tr>
  <td> <CODE>%<nop>WEBTOPICLIST%</CODE> </td>
  <td> <STRONG><EM>WL</EM></STRONG> </td>
  <td> Common links of web (second line of topics) </td>
</tr><tr>
  <td> <CODE>%<nop>WEBCOPYRIGHT%</CODE> </td>
  <td> <STRONG><EM>SL</EM></STRONG> , <STRONG><EM>WL</EM></STRONG> </td>
  <td> Copyright notice (bottom right corner of topics) </td>
</tr><tr>
  <td> <CODE>%<nop>WEBBGCOLOR%</CODE> </td>
  <td> <STRONG><EM>WL</EM></STRONG> </td>
  <td> Background color of web </td>
</tr><tr>
  <td> <CODE>%<nop>EDITBOXWIDTH%</CODE> </td>
  <td> <STRONG><EM>SL</EM></STRONG> , <STRONG><EM>UL</EM></STRONG> </td>
  <td> Horizontal size of edit box, is <b> <CODE>70</CODE> </b> </td>
</tr><tr>
  <td> <CODE>%<nop>EDITBOXHEIGHT%</CODE> </td>
  <td> <STRONG><EM>SL</EM></STRONG> , <STRONG><EM>UL</EM></STRONG> </td>
  <td> Vertical size of edit box, is <b> <CODE>17</CODE> </b> </td>
</tr></table>
<p> 
<p> 
<p> 
<A name="notification">
<HR>
<STRONG>(3) Notification of Changes by Email</STRONG>
<p> 
Each TWiki web does an automatic email notification of recent changes. Users can subscribe / unsubscribe themselves in <A href="/crew/scharf/TWiki/bin/view/Main/WebNotify">WebNotify</A> of each TWiki web. The Perl script <code> mailnotify </code> is called by a deamon once every 60 minutes. For each Twiki web <code> mailnotify </code> is sending an automated email to subscribed users in case some topics changed within these 60 minutes. 
<p> 
Implementation note: Edit the cron table so that <code> mailnotify </code> is called every 60 minutes. Please consult <code> man crontab </code> of how to modify the table that schedules program execution at certain intervals. Example:
<pre>
% crontab -e
15,45 * * * * (cd ~twiki/public_html/bin; ./mailnotify)
</pre>
The above line will call mailnotify at 15 minutes and 45 minutes passed every hour.
<p> 
<A name="category">
<HR>
<STRONG>(4) TWiki Category Table</STRONG>
<p> 
It is possible to add a category table to a TWiki web. This permits storing and searching for more structured information. Editing a topic shows a HTML form with the usual text area and a table with selectors, checkboxes, radio buttons and text fields. The category table is shown at the end of a topic. The format of the category table can be defined per TWiki web.
<p> 
If you want to use a Category Table in a TWiki web you need to have the following three files in the twiki/templates/{Yourweb} directory:
<UL>
<LI> twikicatitems.tmpl : Defines the items in the table
<LI> twikicatedit.tmpl : Defines the look of the table when editing a topic
<LI> twikicatview.tmpl : Defines the look of the table when viewing a topic
</UL>
<p> 
<STRONG><EM>Format of category definition template twikicatitems.tmpl</EM></STRONG>
<p> 
Valid lines:
<pre>
select|{name}|{selSize}|{val1}|{val2}|{val3}...
checkbox|{name}|{checkFlag}|{itemsPerLine}|{val1}|{val2}|{val3}...
radio|{name}|{itemsPerLine}|{val1}|{val2}|{val3}...
text|{name}|{charSize}
# comments start with a # character
</pre>
<p> 
Explanation:
<pre>
  {name}             name of tag
  {selSize}          vertical size of SELECT tag
  {val1}|{val2}...   values
  {checkFlag}        set to true for [Set] [Clear] buttons, else set to false
  {itemsPerLine}     input items per line before wrap around, 0 if no wrap around
  {charSize}         number of characters for text fields
</pre>
<p> 
<STRONG><EM>Remark:</EM></STRONG> Line <code> radio|UseCategory|0|Yes|No </code> has a special meaning. If present, it is possible to choose in "edit" if the category table is included in the topic or not
<p> 
Example file:
<pre>
radio|UseCategory|0|Yes|No, delete this category table
select|TopicClassification|1|Select one...|NoDisclosure|PublicSupported|PublicFAQ
checkbox|OperatingSystem|true|5|OsSolaris|OsSunOS|OsHPUX|OsWin
text|OsVersion|16
</pre>
<p> 
<STRONG><EM>Format of twikicatedit.tmpl and twikicatview.tmpl</EM></STRONG>
<p> 
Use the example below and customize if needed. twikicatedit.tmpl and twikicatview.tmpl can be identical, but they do not have to be.
<p> 
<STRONG><EM>Attention:</EM></STRONG> <code> &lt;!--TWikiCat--&gt; </code> is needed at the beginning and end as markers. Do not delete them!
<p> 
Example:
<pre>
&lt;!--TWikiCat--&gt; &lt;h4&gt; TWikiCategory &lt;/h4&gt;
&lt;table border="2" cellspacing="1" cellpadding="1"&gt;
%REPEAT%&lt;tr&gt;
&lt;td valign="top" align="right"&gt; %CATNAME%: &nbsp;&lt;br&gt;%CATMODIFIER%&lt;/td&gt;&lt;td&gt;&nbsp; %CATVALUE% &lt;/td&gt;
&lt;/tr&gt;%REPEAT%
&lt;/table&gt;&lt;!--TWikiCat--&gt;
</pre>
<p> 
Above template files will result in the following category table when <STRONG><EM>viewing</EM></STRONG> a topic:
<p> 
<h4> <A href="">TWikiCategory</a> </h4>
<table border="2" cellspacing="1" cellpadding="1">
<tr>
<td valign="top" align="right"> <A href="">TopicClassification</a>:  <br></td><td>  <A href="">PublicFAQ</A> </td>
</tr><tr>
<td valign="top" align="right"> <A href="">OperatingSystem</a>:  <br></td><td>  <A href="">OsSolaris</A> </td>
</tr><tr>
<td valign="top" align="right"> <A href="">OsVersion</a>:  <br></td><td>  <!---->2.5<!---->&nbsp; </td>
</tr>
</table>
<p> 
Above template files will result in the following table when <STRONG><EM>editing</EM></STRONG> a topic:
<p> 
<form>
<h4><A href="">TWikiCategory</a></h4>
<table border="2" cellspacing="1" cellpadding="1">
<tr>
<td valign="top" align="right"> <A href="">UseCategory</a>
:  <br></td><td>  
<table cellspacing="0" cellpadding="0"><tr>
<td><input type="radio" name="UseCategory" value="Yes" checked>Yes &nbsp;&nbsp;</td>
<td><input type="radio" name="UseCategory" value="Nodeletethiscategorytable" >No, delete this category table &nbsp;&nbsp;</td>
</tr></table>
 </td>
</tr><tr>
<td valign="top" align="right"> <A href="">TopicClassification</a>
:  <br></td><td>  <select name="TopicClassification" size="1">
<option value="Selectone" >Select one...
<option value="NoDisclosure" >NoDisclosure
<option value="PublicSupported" >PublicSupported
<option value="PublicFAQ" selected>PublicFAQ
</select> </td>
</tr><tr>
<td valign="top" align="right"> <A href="">OperatingSystem</a>
:  <br>
<input type="button" value=" Set " onClick="">&nbsp;
<input type="button" value="Clear" onClick="">&nbsp;</td><td>  
<table cellspacing="0" cellpadding="0"><tr>
<td><input type="checkbox" name="OperatingSystemOsSolaris" checked>OsSolaris &nbsp;&nbsp;</td>
<td><input type="checkbox" name="OperatingSystemOsSunOS" >OsSunOS &nbsp;&nbsp;</td>
<td><input type="checkbox" name="OperatingSystemOsHPUX" >OsHPUX &nbsp;&nbsp;</td>
<td><input type="checkbox" name="OperatingSystemOsWin" >OsWin &nbsp;&nbsp;</td>
</tr></table>
 </td>
</tr><tr>
<td valign="top" align="right"> <A href="">OsVersion</a>
:  <br></td><td>  <input type="text" name="OsVersion" size="16" value="2.5" > </td>
</tr>
</table>
</form>
<p> 
<STRONG><EM>Note:</EM></STRONG> It is possible to force the values of a category table when creating a new topic. This is useful to create new topics using a form for the topic name. The default values of the category table can be specified as hidden fields if needed, i.e. <CODE>&lt;input type="hidden" name="someCategory" value="someValue"&gt;</CODE> 
<p> 
Example (edit this page to see the source) :
<UL>
<LI> <form action="/crew/scharf/TWiki/bin/edit/Know/"> New <A href="/crew/scharf/TWiki/bin/view/Know/PublicFAQ">PublicFAQ</A> topic: <input type="text" name="topic" size="32"> <input type="hidden" name="TopicClassification" value="PublicFAQ"> <input type="hidden" name="OperatingSystem" value="OsSolaris,OsSunOS"> <input type="hidden" name="OsVersion" value="Just testing..."> <input type="hidden" name="onlywikiname" value="on"> <input type="submit" value="Create Topic"> </form>
</UL>
<p> 
<p> 
<A name="implementation">
<HR>
<STRONG>(5) Implementation Notes</STRONG>
<p> 
<STRONG><EM>Platform</EM></STRONG>
<p> 
TWiki is written in PERL 5, but it uses also many shell command. The current implementation runs only on a Unix machine. RCS for revision control must be installed on the system.
<p> 
<STRONG><EM>Directories</EM></STRONG>
<p> 
<TABLE border="1"><TR><TD> <STRONG>Directory:</STRONG>     </TD><TD>  <STRONG>Used for:</STRONG>  </TD></TR>
<TR><TD> twiki/bin        </TD><TD>  TWiki PERL scripts  </TD></TR>
<TR><TD> twiki/pub        </TD><TD>  Public files (<A href="/crew/scharf/TWiki/bin/view/Main/FileAttachment">FileAttachments</A>, images)  </TD></TR>
<TR><TD> twiki/data       </TD><TD>  source text  </TD></TR>
<TR><TD> twiki/templates  </TD><TD>  HTML templates, used by TWiki scripts  </TD></TR>
</TABLE>
<p> 
<STRONG><EM>Files in twiki/bin</EM></STRONG>
<p> 
<TABLE border="1"><TR><TD> <STRONG>File:</STRONG>        </TD><TD>  <STRONG>Used for:</STRONG>  </TD></TR>
<TR><TD> .htaccess.txt  </TD><TD>  Authentication. Rename to .htaccess and customize if used  </TD></TR>
<TR><TD> attach         </TD><TD>  Script that shows the attach file page (<A href="/crew/scharf/TWiki/bin/view/Main/FileAttachment">FileAttachment</A>)  </TD></TR>
<TR><TD> changes        </TD><TD>  Script that shows recent changes  </TD></TR>
<TR><TD> delete         </TD><TD>  (not used yet)  </TD></TR>
<TR><TD> edit           </TD><TD>  Script to edit a topic  </TD></TR>
<TR><TD> geturl         </TD><TD>  Script to fetch URL data  </TD></TR>
<TR><TD> mailnotify     </TD><TD>  Script called by cron job to notify users of changes  </TD></TR>
<TR><TD> oops           </TD><TD>  Script that shows a OK or oops dialog  </TD></TR>
<TR><TD> preview        </TD><TD>  Script to preview topic after edit  </TD></TR>
<TR><TD> rdiff          </TD><TD>  Script to see differences of topics  </TD></TR>
<TR><TD> register       </TD><TD>  Script to register new users  </TD></TR>
<TR><TD> save           </TD><TD>  Script that saves a topic, called by preview  </TD></TR>
<TR><TD> search         </TD><TD>  Script that displays search results  </TD></TR>
<TR><TD> statistics     </TD><TD>  Script to create statistics topic  </TD></TR>
<TR><TD> testenv        </TD><TD>  Script to test CGI environment variables  </TD></TR>
<TR><TD> upload         </TD><TD>  Script that does file upload (<A href="/crew/scharf/TWiki/bin/view/Main/FileAttachment">FileAttachment</A>)  </TD></TR>
<TR><TD> view           </TD><TD>  Script to view a topic ( <STRONG>the</STRONG> script )  </TD></TR>
<TR><TD> viewfile       </TD><TD>  Script to view an file attachment  </TD></TR>
<TR><TD> wiki.pm        </TD><TD>  main TWiki library  </TD></TR>
<TR><TD> wikicfg.pm     </TD><TD>  for initialization and configuration, used by wiki.pm  </TD></TR>
<TR><TD> wikisearch.pm  </TD><TD>  search engine, used by wiki.pm  </TD></TR>
</TABLE>
<p> 
<p> 
<A name="installation">
<HR>
<STRONG>(6) Installation Notes</STRONG>
<p> 
These installation steps use Apache web server on Linux as an example. TWiki should run on other web servers and Unix systems as well.
<p> 
<STRONG><EM>Note:</EM></STRONG> These installation notes assume user <CODE>nobody</CODE> for all files manupulated by the cgi scripts (executed by the web server), and user <CODE>twiki</CODE> for all other files. You need to replace user <CODE>nobody</CODE> with an other user in case the web server executes the script with a different user ( default for Debian is <CODE>www-data</CODE> ). Also, you can substitute user <CODE>twiki</CODE> with your own user name.
<p> 
<UL>
<LI> Request the TWiki distribution (in Unix ZIP format) from <A href="http://www.mindspring.net/~peterthoeny/twiki/index.html" target="_top">http://www.mindspring.net/~peterthoeny/twiki/index.html</A> .
<LI> Create directory <CODE>/home/httpd/twiki</CODE> and unzip the TWiki distribution to this directory.
<LI> The <CODE>twiki/bin</CODE> directory of TWiki must be set as a cgi-bin directory. Add <CODE>/home/httpd/twiki/bin</CODE> to <CODE>/etc/httpd/conf/access.conf</CODE> with only <CODE>ExecCGI</CODE> option.
<LI> The <CODE>twiki/pub</CODE> directory of TWiki must be set so that it is visible as a URL. Add <CODE>/home/httpd/twiki/pub</CODE> to <CODE>/etc/httpd/conf/access.conf</CODE> with normal access options (copy from /home/httpd/html).
<LI> Now add <CODE>Alias</CODE> for <CODE>/twiki/pub</CODE> and <CODE>ScriptAlias</CODE> for <CODE>/twiki/bin</CODE> to <CODE>/etc/httpd/conf/srm-conf</CODE> .
<LI> Restart Apache by <CODE>/etc/rc.d/rc5.d/S85httpd restart</CODE> .
<LI> Test if the <CODE>twiki/bin</CODE> directory is cgi-enabled:
<UL>
<LI> Enter the URL of that directory into your browser ( <CODE>http://your.domain.com/twiki/bin</CODE> ). It is not set correctly as cgi-bin in case you get something like <CODE>"Index of /twiki/bin"</CODE> . It is OK if you get a message like <CODE>"Forbidden. You don't have permission to access /twiki/bin/ on this server."</CODE>
<LI> Execute the <CODE>testenv</CODE> script from your browser ( <CODE>http://your.domain.com/twiki/bin/testenv</CODE> ). It should show a table of all CGI environment variables.
</UL>
<LI> Make sure PERL and the PERL CGI library is installed on your system. Default location of PERL executable is <CODE>/usr/bin/perl</CODE> . In case PERL is installed in a different location, the first line of all perl scripts in the <CODE>twiki/bin</CODE> directory need to be changed (alternatively you can create a symbolic link from <CODE>/usr/bin/perl</CODE> ).
<LI> To be able to edit the perl scripts and .tmpl files it is necessary to <CODE>chown</CODE> and <CODE>chgrp -R twiki</CODE> so all the files have the owner you want.
<LI> The scripts execute as <CODE>nobody</CODE> . Set the file permission of all Perl scripts in the <CODE>twiki/bin</CODE> directory as executable to <CODE>-rw-r-xr-x</CODE> .
<LI> Set the file permission of all files below <CODE>twiki/data</CODE> to 666 ( <CODE>-rw-rw-rw-</CODE> ).
<LI> Set the file permission of the <CODE>twiki/data</CODE> directory and all its subdirectories to 777 ( <CODE>drwxrwxrwx</CODE> ).
<LI> Set the file permission of the <CODE>twiki/pub</CODE> directory to 777 ( <CODE>drwxrwxrwx</CODE> ).
<LI> Edit the file <CODE>twiki/bin/wikicfg.pm</CODE> and set the variables at the beginning of the file to your needs.
<LI> Make sure RCS is installed. In case RCS is not in the <CODE>path</CODE> environment variable, add it to <CODE>path</CODE> . Alternatively, add the full path name to the <CODE>rcs, ci, co, rlog, rcsdiff</CODE> commands in the variables of <CODE>twiki/bin/wikicfg.pm</CODE> .
<LI> Point your browser at <A href="http://your.domain.com/twiki/bin/view" target="_top">http://your.domain.com/twiki/bin/view</A> and start wiki-ing away! 
<LI> Note in case cgi user is <STRONG><EM>not</EM></STRONG> <CODE>nobody</CODE> : The <CODE>*,v</CODE> RCS repository files delivered with the installation package are locked by user <CODE>nobody</CODE> . In case the user is different (e.g. <CODE>www-data</CODE> ), it is not possible to check in files, this has the effect that the topic version number does not increase when saving a topic. In this case you need to unlock all repository files and lock them as user <CODE>www-data</CODE> (check the rcs man pages), or simply delete all the repository files.
<LI> Security issue: Directories <CODE>twiki/data</CODE> , <CODE>twiki/templates</CODE> and all its subdirectories should be set so that they are <STRONG>not</STRONG> visible as a URL. (Alternatively, move the directries to a place where they are not visible, and change the variables in <CODE>twiki/bin/wikicfg.pm</CODE> accordingly)
</UL>
<p> 
<UL>
<LI> Optional: You can add new rendering rules or new %variables%. To insure an easy upgrade of TWiki it is recommended to do this customization in <CODE>twiki/bin/wikicfg.pm</CODE> , not <CODE>twiki/bin/wiki.pm</CODE> .
</UL>
<p> 
<UL>
<LI> Optional: If you are on a public server and you would like to authenticate users you need to rename file <CODE>.htaccess.txt</CODE> in the <CODE>twiki/bin</CODE> directory to <CODE>.htaccess</CODE> and change it to your needs. For details consult the HTTP server documentation (for Apache server: <a href="http://www.scs.nevada.edu/cs/documents/web/htaccess.html">[1]</a>, <a href="http://www.mcs.kent.edu/system/web_help/htaccess/introduction.html">[2]</a>, <a href="http://www.apache.org/docs/mod/directives.html">[3]</a>). <STRONG><EM>Note:</EM></STRONG> In case <CODE>.htaccess</CODE> does not have any effect you need to enable it: Add "AllowOverride All" to the Directory section of <CODE>access.conf</CODE> for your <CODE>twiki/bin</CODE> directory.
</UL>
<p> 
<UL>
<LI> Optional: You can automatically generate usage statistics for all webs. To enable this:
<UL>
<LI> Make sure variable <CODE>$doLogTopicView, $doLogTopicSave and $doLogTopicUpload</CODE> in <CODE>wikicfg.pm</CODE> are set. This will generate log entries in file <CODE>twiki/data/log&lt;date&gt;.txt</CODE> .
<LI> Topic <A href="/crew/scharf/TWiki/bin/view/Main/WebStatistics">WebStatistics</A> must be present in all webs where you want to have statistics. You can use the topic in the Main web as a template.
<LI> Call the <CODE>twiki/bin/statistics</CODE> script from a cron job, once a day is recommended. This will update the <A href="/crew/scharf/TWiki/bin/view/Main/WebStatistics">WebStatistics</A> topics in all webs.
<LI> <STRONG><EM>Attention:</EM></STRONG> The script must run as the same user as the CGI scripts are running, which is user <CODE>nobody</CODE> on most systems. Example crontab entry: <br> <CODE>0 0 * * * (cd /path/to/TWiki/bin; ./statistics &gt;/dev/null 2&gt;&amp;1)</CODE>
<LI> There is a workaround in case you can't run the script as user <CODE>nobody</CODE> : Run the utility <CODE>twiki/bin/geturl</CODE> in your cron job and specify the URL of the <CODE>twiki/bin/statistics</CODE> script as a parameter. Example: <br> <CODE>0 0 * * * (cd /path/to/TWiki/bin; ./geturl mydomain.com /urlpath/to/TWiki/bin/statistics &gt;/dev/null 2&gt;&amp;1)</CODE>
<LI> The <CODE>twiki/bin/statistics</CODE> script can also be executed as a CGI script, just enter the URL in your browser. Examples:
<UL>
<LI> Update current month for all webs: <br> <CODE>http://mydomain.com/twiki/bin/statistics</CODE>
<LI> Update current month for Main web only: <br> <CODE>http://mydomain.com/twiki/bin/statistics/Main</CODE>
<LI> Update January 2000 for Main web: <br> <CODE>http://mydomain.com/twiki/bin/statistics/Main?logdate=200001</CODE>
</UL>
</UL>
</UL>
<p> 
<UL>
<LI> To create a new web:
<UL>
<LI> Use a name for the web consisting of characters <CODE>A..Z</CODE> , <CODE>a..z</CODE> but <STRONG>not</STRONG> in <A href="/crew/scharf/TWiki/bin/view/Main/WikiNotation">WikiNotation</A>.
<LI> Create a new template directory under <CODE>twiki/templates</CODE> .
<LI> Create a new data directory under <CODE>twiki/data</CODE> and check the file permission of the directory.
<LI> Copy the files <CODE>WebHome.txt</CODE> , <CODE>WebPreferences.txt</CODE> , <CODE>WebNotify.txt</CODE> , <CODE>WebSearch.txt</CODE> and <CODE>WebStatistics.txt</CODE> from the <CODE>twiki/data/Main</CODE> directory to the new data directory, preserving the original files' owner, group and permissions ( on Unix use <CODE>cp -p</CODE> ). The data files must be writable by the owner the CGI scripts are running on ( usually <CODE>nobody</CODE> ). Hint: You can set permissions of <CODE>.txt</CODE> and <CODE>.txt,v</CODE> files to <CODE>-rw-rw-rw-</CODE> and then edit the topic using your browser, RCS will restore the file permission correctly when saving the topic.
<LI> Add the new web to the web list (on top of each topic) by editing the site-level preferences <A href="/crew/scharf/TWiki/bin/view/Main/TWikiPreferences">TWikiPreferences</A>:
<UL>
<LI> Add the new web to the WIKIWEBLIST variable.
</UL>
<LI> Add the new web to the web table (at the bottom of each <A href="/crew/scharf/TWiki/bin/view/Main/WebHome">WebHome</A> topic) by editing the <A href="/crew/scharf/TWiki/bin/view/Main/TWikiWebsTable">TWikiWebsTable</A> topic.
<LI> Change the web preferences by editing the <nop>WebPreferences topic of the new web:
<UL>
<LI> Set the WEBBGCOLOR variable to a color of your taste. The number represents the unique color for the web (consult an HTML book for colors.)
<LI> Customize the WEBTOPICLIST variable to contain the web specific links you prefer.
<LI> Optional: Set the WEBCOPYRIGHT variable to have a web-specific copyright text (at the bottom of each topic).
</UL>
<LI> If needed, create customized templates in the new templates directory. (Non existing templates are inherited from <CODE>twiki/templates</CODE> )
<LI> If you want to use a category table, copy the three files <CODE>twikicatitems.tmpl</CODE> , <CODE>twikicatedit.tmpl</CODE> and <CODE>twikicatview.tmpl</CODE> from the <CODE>twiki/templates/Know</CODE> directory to the new templates directory, and customize it. The TWiki Category Table section has more.
<LI> In case you want usage statistics for this web: Copy file <CODE>WebStatistics.txt</CODE> from the <CODE>twiki/data/Main</CODE> directory to the new data directory. Edit topic <nop>WebStatistics in the new web and delete old usage entries.
</UL>
</UL>
<p> 
<p> 
Here are contents of directories with file permissions. Please note that this is for debugging reasons only and does not exactly reflect the distribution:
<p> 
directory <CODE>twiki/bin</CODE> :
<p> 
<pre>
drwxr-xr-x   2 twiki   twiki       1024 Feb 18 18:31 .
drwxr-xr-x   8 twiki   twiki       1024 Feb 26 04:20 ..
-rw-rw-r--   1 twiki   twiki        770 Feb 10 12:10 .htaccess
-rw-r-xr-x   1 twiki   twiki       3968 Feb 18 00:26 attach
-rwxr-xr-x   1 twiki   twiki       3033 Feb 17 23:57 changes
-rw-r-xr-x   1 twiki   twiki       1377 Feb  8 18:18 delete
-rw-r-xr-x   1 twiki   twiki       8785 Feb 17 23:58 edit
-rwxr--r--   1 twiki   twiki       1811 Feb  4 14:31 geturl
-rwxr-xr-x   1 twiki   twiki       5047 Feb  8 20:33 mailnotify
-rw-r-xr-x   1 twiki   twiki       1825 Feb  8 18:29 oops
-rw-r-xr-x   1 twiki   twiki       6932 Feb 11 02:06 preview
-rw-r-xr-x   1 twiki   twiki       7804 Feb 17 23:59 rdiff
-rw-r-xr-x   1 twiki   twiki       7010 Feb 18 00:03 register
-rw-r-xr-x   1 twiki   twiki       2501 Jan 25 19:39 save
-rwxr-xr-x   1 twiki   twiki       1778 Feb 18 00:04 search
-rw-r-xr-x   1 twiki   twiki       9810 Feb  8 18:43 statistics
-rwxr-xr-x   1 twiki   twiki        509 Feb  7 18:55 testenv
-rw-r-xr-x   1 twiki   twiki       6856 Feb 18 00:11 upload
-rw-r-xr-x   1 twiki   twiki       4922 Feb 17 23:54 view
-rw-r-xr-x   1 twiki   twiki       1606 May 21  1999 viewfile
-rw-r-xr-x   1 twiki   twiki      27794 Feb 26 06:03 wiki.pm
-rw-r-xr-x   1 twiki   twiki      10143 Feb 27 04:03 wikicfg.pm
-rw-r-xr-x   1 twiki   twiki       5440 Feb  7 04:36 wikisearch.pm
</pre>
<p> 
directory <CODE>twiki/templates/</CODE> :
<p> 
<pre>
drwxr-xr-x   7 twiki   twiki       1024 Jan 16 19:39 .
drwxr-xr-x   8 twiki   twiki       1024 Feb 26 04:20 ..
drwxr-xr-x   2 twiki   twiki       1024 Jun  8  1999 Know
drwxr-xr-x   2 twiki   twiki       1024 Dec  9  1998 Main
-rw-r--r--   1 twiki   twiki       2286 Feb 24 21:50 attach.tmpl
-rw-r--r--   1 twiki   twiki       1272 Feb  8 16:07 attachtable.tmpl
-rw-r--r--   1 twiki   twiki       1884 Feb 24 21:54 changes.tmpl
-rw-r--r--   1 twiki   twiki       2242 Feb 24 21:33 edit.tmpl
-rw-r--r--   1 twiki   twiki        965 Feb  8 16:07 mailnotify.tmpl
-rw-r--r--   1 twiki   twiki         30 Jan 14  1999 notedited.tmpl
-rw-r--r--   1 twiki   twiki        934 Feb  8 16:07 notext.tmpl
-rw-r--r--   1 twiki   twiki        899 Feb  8 16:07 notwiki.tmpl
-rw-r--r--   1 twiki   twiki        299 Feb 24 21:58 noweb.tmpl
-rw-r--r--   1 twiki   twiki        957 Feb 24 22:17 oops.tmpl
-rw-r--r--   1 twiki   twiki        871 Feb 24 22:17 oopsdel.tmpl
-rw-r--r--   1 twiki   twiki       1330 Feb 24 22:17 oopslocked.tmpl
-rw-r--r--   1 twiki   twiki       1024 Feb 24 22:17 oopsregexist.tmpl
-rw-r--r--   1 twiki   twiki        912 Feb 24 22:17 oopsregpasswd.tmpl
-rw-r--r--   1 twiki   twiki        923 Feb 24 22:17 oopsregrequ.tmpl
-rw-r--r--   1 twiki   twiki       1125 Feb 24 22:17 oopsregthanks.tmpl
-rw-r--r--   1 twiki   twiki        942 Feb 24 22:17 oopsregwiki.tmpl
-rw-r--r--   1 twiki   twiki       1564 Feb 24 22:17 oopsrev.tmpl
-rw-r--r--   1 twiki   twiki        906 Feb 24 22:17 oopsupload.tmpl
-rw-r--r--   1 twiki   twiki       1535 Feb 24 22:02 preview.tmpl
-rw-r--r--   1 twiki   twiki       1661 Feb 24 22:04 rdiff.tmpl
-rw-r--r--   1 twiki   twiki        263 Aug  3  1999 register.tmpl
-rw-r--r--   1 twiki   twiki        936 Feb  8 16:08 registernotify.tmpl
-rw-r--r--   1 twiki   twiki       1779 Feb 24 22:06 search.tmpl
-rw-r--r--   1 twiki   twiki       1533 Feb 24 21:43 view.tmpl
</pre>
<p> 
directory <CODE>twiki/templates/Main</CODE> :
<p> 
<pre>
drwxr-xr-x   2 twiki   twiki       1024 Dec  9  1998 .
drwxr-xr-x   7 twiki   twiki       1024 Jan 16 19:39 ..
-rw-r--r--   1 twiki   twiki       2732 Feb 24 21:34 edit.tmpl
</pre>
<p> 
directory <CODE>twiki/templates/Know</CODE> (has a TWiki Category Table) :
<p> 
<pre>
drwxr-xr-x   2 twiki   twiki       1024 Jun  8  1999 .
drwxr-xr-x   7 twiki   twiki       1024 Jan 16 19:39 ..
-rw-rw-r--   1 twiki   twiki        446 Jun  8  1999 notedited.tmpl
-rw-rw-r--   1 twiki   twiki        206 Jun  8  1999 twikicatedit.tmpl
-rw-rw-r--   1 twiki   twiki       1060 Jul 16  1999 twikicatitems.tmpl
-rw-rw-r--   1 twiki   twiki        231 Jun  8  1999 twikicatview.tmpl
</pre>
<p> 
directory <CODE>twiki/data/</CODE> :
<p> 
<pre>
drwxrwxrwx   8 twiki   twiki       1024 Feb 26 04:17 .
drwxr-xr-x   8 twiki   twiki       1024 Feb 26 04:20 ..
-rw-r--r--   1 nobody  nobody      2241 Feb 25 20:18 .htpasswd
drwxrwxrwx   2 twiki   twiki       3072 Feb 27 01:15 Know
drwxrwxrwx   2 twiki   twiki       9216 Feb 27 18:16 Main
-rw-rw-rw-   1 twiki   twiki          1 Feb 26 06:01 debug.txt
-rw-r--r--   1 nobody  nobody   1263064 Jan 31 23:13 log200001.txt
-rw-r--r--   1 nobody  nobody   1063398 Feb 27 18:33 log200002.txt
</pre>
<p> 
part of directory <CODE>twiki/data/Main</CODE> :
<p> 
<pre>
drwxrwxrwx   2 twiki   twiki       9216 Feb 27 18:16 .
drwxrwxrwx   8 twiki   twiki       1024 Feb 26 04:17 ..
-rw-rw-rw-   1 twiki   twiki       5722 Feb 27 18:13 .changes
-rw-rw-rw-   1 twiki   twiki          9 Feb 27 18:15 .mailnotify
-rw-r--r--   1 nobody  nobody     26163 Feb 24 12:22 TWikiDocumentation.txt
-r--r--r--   1 nobody  nobody     44133 Feb 24 12:22 TWikiDocumentation.txt,v
-rw-r--r--   1 nobody  nobody     11661 Feb 27 18:13 TWikiHistory.txt
-r--r--r--   1 nobody  nobody     18877 Feb 27 18:13 TWikiHistory.txt,v
-rw-r--r--   1 nobody  nobody      3029 Feb 26 04:46 TWikiPreferences.txt
-r--r--r--   1 nobody  nobody      3219 Feb 26 04:46 TWikiPreferences.txt,v
-rw-r--r--   1 nobody  nobody      7188 Feb 11 21:39 TWikiRegistration.txt
-r--r--r--   1 nobody  nobody      7375 Feb 11 21:39 TWikiRegistration.txt,v
-rw-r--r--   1 nobody  nobody      3180 Feb 25 20:19 TWikiUsers.txt
-r--r--r--   1 nobody  nobody     16537 Feb 25 20:19 TWikiUsers.txt,v
-rw-r--r--   1 nobody  nobody      2613 Feb  7 04:47 TWikiVariables.txt
-r--r--r--   1 nobody  nobody      3125 Feb  7 04:47 TWikiVariables.txt,v
-rw-r--r--   1 nobody  nobody      2068 Feb 10 11:34 TWikiWeb.txt
-r--r--r--   1 nobody  nobody      3610 Feb 10 11:34 TWikiWeb.txt,v
-rw-r--r--   1 nobody  nobody      1677 Feb 26 05:11 TWikiWebsTable.txt
-r--r--r--   1 nobody  nobody      1866 Feb 26 05:11 TWikiWebsTable.txt,v
-rw-r--r--   1 nobody  nobody      2294 Feb 27 17:54 WebHome.txt
-r--r--r--   1 nobody  nobody      5282 Feb 27 17:54 WebHome.txt,v
-rw-r--r--   1 nobody  nobody       586 Jan 17 01:05 WebNotify.txt
-r--r--r--   1 nobody  nobody      1629 Jan 17 01:05 WebNotify.txt,v
-rw-r--r--   1 nobody  nobody      1834 Feb 25 14:13 WebPreferences.txt
-r--r--r--   1 nobody  nobody      2023 Feb 25 14:13 WebPreferences.txt,v
-rw-r--r--   1 nobody  nobody      4407 Feb 11 21:08 WebSearch.txt
-r--r--r--   1 nobody  nobody     10822 Feb 11 21:08 WebSearch.txt,v
-rw-r--r--   1 nobody  nobody      4416 Feb 27 00:00 WebStatistics.txt
-r--r--r--   1 nobody  nobody     27759 Feb 27 00:00 WebStatistics.txt,v
</pre>
<p> 
directory <CODE>twiki/pub/</CODE> :
<p> 
<pre>
drwxrwxrwx  11 twiki   twiki       1024 Feb  8 18:10 .
drwxr-xr-x   8 twiki   twiki       1024 Feb 26 04:20 ..
drwxrwxrwx   4 nobody  nobody      1024 Aug 28  1999 Know
drwxrwxrwx  19 nobody  nobody      1024 Feb 27 09:56 Main
-rw-r--r--   1 twiki   twiki       1078 Jan 14 20:24 favicon.ico
drwxr-xr-x   2 twiki   twiki       1024 Mar 27  1999 icn
-rw-r--r--   1 twiki   twiki       3016 Sep 10 04:27 twikilogo.gif
-rw-r--r--   1 twiki   twiki       5320 Sep 10 04:27 twikilogo1.gif
-rw-r--r--   1 twiki   twiki       6125 Sep 10 04:27 twikilogo2.gif
-rw-r--r--   1 twiki   twiki       7218 Sep 10 04:27 twikilogo3.gif
-rw-r--r--   1 twiki   twiki       6710 Sep 11 02:21 twikilogo4.gif
-rw-r--r--   1 twiki   twiki       2877 Jun 15  1999 wikiHome.gif
</pre>
<p> 
directory <CODE>twiki/pub/icn/</CODE> :
<p> 
<pre>
drwxr-xr-x   2 twiki   twiki       1024 Mar 27  1999 .
drwxrwxrwx  11 twiki   twiki       1024 Feb  8 18:10 ..
-rw-r--r--   1 twiki   twiki        801 Mar 27  1999 _filetypes.txt
-rw-r--r--   1 twiki   twiki        143 Mar 27  1999 bat.gif
-rw-r--r--   1 twiki   twiki        926 Mar 27  1999 bmp.gif
-rw-r--r--   1 twiki   twiki        141 Mar 27  1999 c.gif
-rw-r--r--   1 twiki   twiki        144 Mar 27  1999 dll.gif
-rw-r--r--   1 twiki   twiki        152 Mar 27  1999 doc.gif
-rw-r--r--   1 twiki   twiki        130 Mar 27  1999 else.gif
-rw-r--r--   1 twiki   twiki        876 Mar 27  1999 exe.gif
-rw-r--r--   1 twiki   twiki        147 Mar 27  1999 fon.gif
-rw-r--r--   1 twiki   twiki        142 Mar 27  1999 h.gif
-rw-r--r--   1 twiki   twiki        156 Mar 27  1999 hlp.gif
-rw-r--r--   1 twiki   twiki        186 Mar 27  1999 html.gif
-rw-r--r--   1 twiki   twiki        144 Mar 27  1999 java.gif
-rw-r--r--   1 twiki   twiki        148 Mar 27  1999 mov.gif
-rw-r--r--   1 twiki   twiki        150 Mar 27  1999 pdf.gif
-rw-r--r--   1 twiki   twiki        146 Mar 27  1999 pl.gif
-rw-r--r--   1 twiki   twiki        150 Mar 27  1999 ppt.gif
-rw-r--r--   1 twiki   twiki        148 Mar 27  1999 ps.gif
-rw-r--r--   1 twiki   twiki        148 Mar 27  1999 py.gif
-rw-r--r--   1 twiki   twiki        130 Mar 27  1999 ram.gif
-rw-r--r--   1 twiki   twiki        154 Mar 27  1999 reg.gif
-rw-r--r--   1 twiki   twiki        147 Mar 27  1999 sh.gif
-rw-r--r--   1 twiki   twiki        155 Mar 27  1999 sniff.gif
-rw-r--r--   1 twiki   twiki        149 Mar 27  1999 ttf.gif
-rw-r--r--   1 twiki   twiki        134 Mar 27  1999 txt.gif
-rw-r--r--   1 twiki   twiki        154 Mar 27  1999 wav.gif
-rw-r--r--   1 twiki   twiki        152 Mar 27  1999 wri.gif
-rw-r--r--   1 twiki   twiki        152 Mar 27  1999 xls.gif
-rw-r--r--   1 twiki   twiki        144 Mar 27  1999 zip.gif
</pre>
<p> 
-- <A href="/crew/scharf/TWiki/bin/view/Main/PeterThoeny">PeterThoeny</A> - 27 Feb 2000 <br>
<p> 
</body></html>
