%META:TOPICINFO{author="TWikiContributor" date="1311054640" format="1.1" version="$Rev$"}%
---+!! Release Notes of TWiki-5.1-rc1 (Istanbul), 2011-07-17

%TOC%

---++ Introduction

TWiki is an enterprise collaboration platform and application platform. TWiki has been downloaded over half a million times and is used by many leading Fortune 500 businesses and government agencies as an intranet, extranet or a public internet website.

TWiki Release 5.1 is a minor release that brings many usability enhancements (such as point and click user data management, more visual user profile pages with picture selector, and a backup feature that helps upgrade TWiki sites) and strengthens TWiki as an application platform (such as a new macro language with parameterized variables).

---++ New Features Highlights

   * *Usability Enhancements*
      * API and GUI for point and click user data management
      * Support disabled users in password manager
      * More visual user profile pages with in-place editing of form fields and picture selector
      * In-place editing of TWiki group settings using !PreferencesPlugin
      * Point and click bookmarks for better usability
      * Improved statistics showing overall site usage over time, such as total number of webs, topics, users, etc
   * *TWiki Application Platform Enhancements*
      * Macro language with parameterized variables
      * Ability to auto-create page on view if it does not exist
      * Relative heading levels for INCLUDE
      * Relative heading levels for SEARCH
   * *Security Enhancements*
      * Set a flag to force password change on next login
      * S/Mime support for notification e-mails
   * *Plugin Enhancements*
      * New BackupRestorePlugin to easily backup, restore and upgrade TWiki installations
      * New SetGetPlugin that can store variables persistently
      * New ColorPickerPlugin to pick a color in form fields
      * SpreadSheetPlugin: New functions BITXOR(), HEXDECODE(), HEXDECODE(), XOR()

See the full list of new features and bug fixes further below.

---++ Pre-installed Extensions

TWiki-5.1 ships with:

   * *Plugins:* BackupRestorePlugin, ColorPickerPlugin, CommentPlugin, EditTablePlugin, EmptyPlugin, HeadlinesPlugin, InterwikiPlugin, JQueryPlugin, PreferencesPlugin, RenderListPlugin, SetGetPlugin, SlideShowPlugin, SmiliesPlugin, SpreadSheetPlugin, TablePlugin, TagMePlugin, TinyMCEPlugin, TWikiNetSkinPlugin, TwistyPlugin, WysiwygPlugin
   * *Contribs:* BehaviourContrib, JSCalendarContrib, MailerContrib, TipsContrib, TWikiUserMappingContrib, TwistyContrib
   * *Skins:* ClassicSkin, PatternSkin, PlainSkin, PrintSkin, TopMenuSkin, TWikiNetSkin,

__Note:__ BackupRestorePlugin, ColorPickerPlugin, SetGetPlugin are new in TWiki-5.1.

---++ Supported User Interface Languages

The user interface of this TWiki version is localized to 19 languages:

English (default), Bulgarian (=bg=), Chinese simplified (=zh-cn=), Chinese traditional (=zh-tw=), Czechoslovakian (=cs=), Danish (=da=), Dutch (=nl=), German (=de=), Finnish (=fi=), French (=fr=), Italian (=it=), Japanese (=ja=), Korean (=ko=), Polish (=pl=), Portuguese (=pt=), Russian (=ru=), Slovakian (=sv=), Spanish (=es=), Ukrainian (=uk=).

__Note:__ TWiki needs to be configured properly to display user interface languages other than the default English language. Details in TWiki:TWiki.InstallationWithI18N and TWiki:TWiki.InternationalizationSupplement.

---++ Deprecation Notices

   * From TWiki 5.0 on, the ClassicSkin is deprecated and will be removed in a future release.

   * From TWiki 4.2 on, the %<nop>MAINWEB% and %<nop>TWIKIWEB% variables have been deprecated. For compatibility reasons they are unlikely to ever be removed completely, but you should use the %<nop>USERSWEB% and %<nop>SYSTEMWEB% variables instead.

   * From TWiki 4.2 on, functions TWiki::Func::getOopsUrl and TWiki::Func::permissionsSet have been declared deprecated. There is no plan to remove them yet. 

   * From TWiki 4.0 on, the syntax "* Set DENYTOPICVIEW = " (nothing) in a topic means deny noone. Even if ALLOWTOPICVIEW is set to people or group setting DENYTOPICCHANGE to nothing means allow anyone. You have to remove the DENYTOPICVIEW or comment it out to have the ALLOWTOPICVIEW working. The reason for this behavior is that it enables limiting access to an entire web by setting a blank DENYTOPICVIEW setting. Same rule applies for DENYTOPICCHANGE and DENYTOPICRENAME. The rule does not apply for access rights defined for webs. Ie. "*Set DENYWEBCHANGE = " does not allow anyone to edit topics in the web. There has been strong oppinions against the syntax "* Set DENYTOPICXXXX = " meaning giving all access. So please be warned that we will change the syntax to a more transparent and logical syntax in future but we will ensure that it is still possible to secure a web and open up individual topics in future also. 

---++ Notes for TWiki Administrators and Wiki Champions

---+++ Improved User Data Management API and GUI

FIXME

---+++ Improved Statistics Showing Overall Site Usage

TWiki used to generate just web statistics in each web. TWiki now generates also overall site usage statistics shown in [[%USERSWEB%.SiteStatistics]] (do not create that page, it is created automatically based on SiteStatisticsTemplate). TWikiSiteTools#WebStatistics explains how to enable automatic updates of the statistics pages. 

For each month, the following items are recorded using system data and TWiki log data across all webs: Total number of webs, number of webs viewed, number of webs updated, total number of topics, number of topics viewed, number of topics updated, number of attachments, number of topic views, number of topic updates, number of files uploads, data size, pub size, disk use, number of users, number of groups, number of plugins installed compared to number of plugins available, and 10 top contributors.

The statistics script contacts twiki.org to query the number of plugins available for the currently installed TWiki version via an http GET. It also sends anonymized site usage statistics to twiki.org via query string. Example http request:
=<br />  /cgi-bin/pluginstats?statSite=978B8B8FC5D0D0888888D18B97909A9186D1908D98;statDate=2011-04;=
=<br />  statWebs=20;statWebsViewed=15;statWebsUpdated=6;statTopics=1501;statTopicsViewed=724;=
=<br />  statTopicsUpdated=137;statAttachments=724;statViews=578;statSaves=223;statUploads=19;=
=<br />  statDataSize=46.4;statPubSize=238.4;statDiskUse=93%25;statUsers=31;statGroups=7;statPlugins=22;=
=<br />  statVersion=TWiki-5.1.0;=
<br />Example response:
=<br />  plugins: 196=
<br />The statistics script will not contact twiki.org if a ={Stats}{DontContactTWikiOrg}= configure setting is set.

---+++ Better usability and automation to create pages automatically on view

FIXME document TWiki:Codev.AutoCreatePageOnViewIfNotExist

---+++ Upgrade From Earlier Releases

Follow the TWikiUpgradeGuide to install TWiki and migrate data from your existing TWiki.

FIXME

---++ TWiki-5.1.0-rc1 Major Release - Details

TWiki-5.1.0-rc1 was built from SVN http://svn.twiki.org/svn/twiki/trunk revision r21776 (2011-07-17)

---+++ Enhancements

<noautolink>
| TWikibug:Item6511 | New PARENTTOPIC variable |
| TWikibug:Item6512 | Adjust the search order for WebTopicEditTemplate to also include the USERSWEB |
| TWikibug:Item6515 | Relative Heading Levels for INCLUDE |
| TWikibug:Item6516 | Hide TOC flag in INCLUDE |
| TWikibug:Item6528 | Set the Flag to Change Password in next Login  |
| TWikibug:Item6560 | Relative Heading Levels for SEARCH |
| TWikibug:Item6586 | User Data Management API and GUI |
| TWikibug:Item6587 | Support Disabled Users in Password Manager |
| TWikibug:Item6598 | Feature: Parameterized Variables |
| TWikibug:Item6599 | Add format parameter to var URLPARAM |
| TWikibug:Item6615 | Build: Add ColorPickerPlugin to Core TWiki Distribution |
| TWikibug:Item6620 | Add encode parameter to FORMFIELD |
| TWikibug:Item6639 | Add writeLog() to TWiki::Func |
| TWikibug:Item6640 | Add isValidWebName() and isValidTopicName() to TWiki::Func |
| TWikibug:Item6656 | Add meta data to attachment save handler |
| TWikibug:Item6670 | SetGetPlugin: Make variables persistent across topic invocations |
| TWikibug:Item6671 | Build: Add SetGetPlugin to Core TWiki Distribution |
| TWikibug:Item6672 | New HIDE variable |
| TWikibug:Item6680 | Add counter to session variables |
| TWikibug:Item6684 | Include parameters with default feature |
| TWikibug:Item6690 | SpreadSheetPlugin: New functions BITXOR(), HEXDECODE(), HEXDECODE(), XOR() |
| TWikibug:Item6724 | Feature Proposal: Pass text and meta data to registerTagHandler callback |
| TWikibug:Item6731 | InterwikiPlugin: Allow quotes in page pattern, and URL-encode quoted page patterns |
| TWikibug:Item6733 | TWikiUserMappingContrib: More Visual User Profile Pages |
| TWikibug:Item6747 | Set form field on file upload (for better usability of profile picture upload) |
| TWikibug:Item6748 | TWikiUserMappingContrib: Usability: Use PreferencesPlugin to edit TWiki group settings |
| TWikibug:Item6749 | S/Mime support for notification e-mails |
| TWikibug:Item6750 | Encode also space in encode="html" to preserve TML in HTML input fields |
| TWikibug:Item6759 | PatternSkin: User Bookmarks for better usability |
| TWikibug:Item6762 | Usability: Auto-create page on view if it does not exist |
| TWikibug:Item6768 | TagMePlugin: Allow login name or !WikiName for queries |
| TWikibug:Item6769 | Build: Add BackupRestorePlugin to core TWiki distribution |
</noautolink>
Total: 32

---+++ Fixes

<noautolink>
| TWikibug:Item6209 | WebTopicCreator: underscores in topic name with WebTopicCreator are not possible |
| TWikibug:Item6687 | Statistics: Statistics script leaves temp files behind |
| TWikibug:Item6715 | Better layout for checkboxes of TWiki forms while in edit mode |
| TWikibug:Item6732 | TagMePlugin: Administrator can't delete tag if Main web is renamed to User web |
| TWikibug:Item6751 | TopMenuSkin: Cutoff buttons in header when using IE7 |
| TWikibug:Item6754 | CommentPlugin: Action comment template in CommentPlugin is missing %<nop>ENDACTION% |
| TWikibug:Item6755 | Displayed search string shows expanded TWiki variables and text formatting |
| TWikibug:Item6757 | Configure: Unprofessional text in Configure utility |
| TWikibug:Item6763 | TopMenuSkin: WYSIWG editor corrupts TopMenuSkin system pages |
| TWikibug:Item6767 | TWiki statistics update not working properly on !CentOS 5 |
</noautolink>
Total: 10

__Related Topics:__ TWikiHistory, TWikiInstallationGuide, TWikiUpgradeGuide, %SEARCH{ "TWikiReleaseNotes" scope="topic" topic="TWikiReleaseNotes*" excludetopic="%TOPIC%" nonoise="on" format="$topic" separator=", " }%
