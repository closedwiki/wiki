---+ Orphans Plugin

This Plugin is designed to assist in the management of topics within a TWiki web. The Plugin will eventually provide a range of tools, but currently only one tool is supported, _viz_ the location and management of orphaned topics.

---++ Tools

	* ManageOrphanedPages: Discover and remove orphaned topics. Orphaned topics are any topics that don't have any direct references to them (except parent links) from within the current web or from within all public webs in the installation.

---++ Syntax Rules

This section is only of interest to administrators who want to customize this Plugin.

Write <code> %<nop>FINDORPHANS{ _parameters_ }% </code> anywhere in a topic.

Supported parameters:
| *Parameter and Values* | *Description* | *Default* |
| =web="..."= | TWiki web to search | Current web ="%WEB%"= |
| =allwebs="on"= %BR% =allwebs="off"= | Searches in all *public* webs for references to topic when detecting orphans | ="off"= |
| =allrefs="on"= %BR% =allrefs="off"= | Analyses count of references to each topic when searching for orphans, and includes them in the output table | ="off"= |

Example:
<verbatim>
FINDORPHANS{web="Myproject" allwebs="on" allrefs="off"}%
</verbatim>

When the topic is viewed the Plugin will generate a table of topics in the selected web, with reference counts if you requested them, and an _action link_ that allows you to delete the topic directly (prompts you to move it to the Trash web).

*Notes*
	1 Before you can delete a topic, a final check for any topics that reference it is performed. If you searched in all webs, then the check also searches in all webs, but if you searched in the current web only, then only the current web is searched for confirmation. If you want to be _absolutely_ sure that no useful references exist, always select allwebs.
	1 References from the WebStatistics topic are not counted.

<!--
---++ Settings
	* One line description, shown in the %TWIKIWEB%.TextFormattingRules topic:
		* Set SHORTDESCRIPTION = Locate orphaned topics in TWiki webs
-->

---++ Plugin Installation Instructions

__Note:__ You do not need to install anything on the browser to use this plugin. The following instructions are for the administrator who installs the plugin on the server where TWiki is running.
%$INSTALL_INSTRUCTIONS%
	* Test if the plugin is correctly installed:
		* Visit the %TWIKIWEB%.ManageOrphanedPages topic, select a web and see if the table is expanded correctly.

---++ Plugin Info

|  Plugin Author: | TWiki:Main.CrawfordCurrie |
|  Plugin Version: | 25 Mar 2004 (V1.000) |
|  Change History: | <!-- specify latest version first -->&nbsp; |
|  | Ported to TWiki-4 |
|  25 Mar 2004: | Initial version |
|  CPAN Dependencies: | none |
|  Other Dependencies: | none |
|  Perl Version: | 5.005 and up |
|  TWiki:Plugins/Benchmark: | %TWIKIWEB%.GoodStyle 99%, %TWIKIWEB%.FormattedSearch 99%, ManageOrphanedPages 95% |
|  Plugin Home: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC% |
|  Feedback: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev |

__Related Topics:__ %TWIKIWEB%.TWikiPreferences, %TWIKIWEB%.TWikiPlugins

-- TWiki:Main.CrawfordCurrie - 25 Mar 2004

