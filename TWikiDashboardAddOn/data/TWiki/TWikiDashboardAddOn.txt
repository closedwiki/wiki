%META:TOPICINFO{author="TWikiContributor" date="1349339331" format="1.1" version="$Rev$"}%
---+!! TWiki Dashboard Add-On
<!--
   Contributions to this add-on are appreciated. Please update the add-on page at
   http://twiki.org/cgi-bin/view/Plugins/TWikiDashboardAddOn or provide feedback at
   http://twiki.org/cgi-bin/view/Plugins/TWikiDashboardAddOnDev.
   If you are a TWiki contributor please update the add-on in the SVN repository.
-->
<sticky>
<div style="float:right; background-color:#EBEEF0; margin:0 0 20px 20px; padding: 0 10px 0 10px;">
%TOC{title="Page contents"}%
</div>
</sticky>
%SHORTDESCRIPTION%

---++ Introduction

FIXME

---++ Usage

FIXME

---++ Example

This example shows a simple dashboard. Write this:
<verbatim>
%DASHBOARD{ section="dashboard_start" }%
%DASHBOARD{ section="banner"
 image="%PUBURL%/%SYSTEMWEB%/TWikiDashboardImages/marin-headlands.jpg"
 title="Dashboard for %WIKIUSERNAME%"
 buttons="Help: %SYSTEMWEB%.WebHome, Plugins: %SYSTEMWEB%.TWikiPlugins"
}%
%DASHBOARD{ section="box_start" title="Box 1 title" }%
Box 1 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" title="Box 2 title" }%
Box 2 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" title="Box 2 title" }%
Box 3 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" title="Box 3 title" }%
Box 4 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="dashboard_end" }%
</verbatim>

To get this dashboard:

---+++ USING %<nop>INCLUDE:
%INCLUDE{ "TWikiDashboardAddOn" section="dashboard_start" }%
%INCLUDE{ "TWikiDashboardAddOn" section="banner"
 image="%PUBURL%/%SYSTEMWEB%/TWikiDashboardImages/marin-headlands.jpg"
 title="Dashboard for %WIKIUSERNAME%"
 buttons="Help: %SYSTEMWEB%.WebHome, Plugins: %SYSTEMWEB%.TWikiPlugins"
}%
%INCLUDE{ "TWikiDashboardAddOn" section="box_start" title="Box 1 title" }%
Box 1 content
%INCLUDE{ "TWikiDashboardAddOn" section="box_end" }%
%INCLUDE{ "TWikiDashboardAddOn" section="box_start" title="Box 2 title" }%
Box 2 content
%INCLUDE{ "TWikiDashboardAddOn" section="box_end" }%
%INCLUDE{ "TWikiDashboardAddOn" section="box_start" title="Box 3 title" }%
Box 3 content
%INCLUDE{ "TWikiDashboardAddOn" section="box_end" }%
%INCLUDE{ "TWikiDashboardAddOn" section="box_start" title="Box 3 title" }%
Box 4 content
%INCLUDE{ "TWikiDashboardAddOn" section="box_end" }%
%INCLUDE{ "TWikiDashboardAddOn" section="dashboard_end" }%

---+++ USING %<nop>INCLUDE with default (no params):
%INCLUDE{ "TWikiDashboardAddOn" section="dashboard" }%
%INCLUDE{ "TWikiDashboardAddOn" section="dashboard_start" }%
%INCLUDE{ "TWikiDashboardAddOn" section="banner" }%
%INCLUDE{ "TWikiDashboardAddOn" section="box_start" title="Box 1 title" }%
Box 1 content
%INCLUDE{ "TWikiDashboardAddOn" section="box_end" }%
%INCLUDE{ "TWikiDashboardAddOn" section="box_start" }%
Box 2 content (no title)
%INCLUDE{ "TWikiDashboardAddOn" section="box_end" }%
%INCLUDE{ "TWikiDashboardAddOn" section="dashboard_end" }%

---+++ USING %<nop>DASHBOARD:
%DASHBOARD{ section="dashboard_start" }%
%DASHBOARD{ section="banner"
 image="%PUBURL%/%SYSTEMWEB%/TWikiDashboardImages/marin-headlands.jpg"
 title="Dashboard for %WIKIUSERNAME%"
 buttons="Help: %SYSTEMWEB%.WebHome, Plugins: %SYSTEMWEB%.TWikiPlugins"
}%
%DASHBOARD{ section="box_start" title="Box 1 title" }%
Box 1 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" title="Box 2 title" }%
Box 2 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" title="Box 3 title" }%
Box 3 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" title="Box 3 title" }%
Box 4 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="dashboard_end" }%

---+++ USING %<nop>DASHBOARD with default (no params):
%DASHBOARD{ section="dashboard_start" }%
%DASHBOARD{ section="banner" }%
%DASHBOARD{ section="box_start" title="Box 1 title" }%
Box 1 content
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="box_start" }%
Box 2 content (no title)
%DASHBOARD{ section="box_end" }%
%DASHBOARD{ section="dashboard_end" }%

---++ Dashboard Logic

FIXME: Work in progress

This section defines the actual dashboard. View the [[%SCRIPTURL{view}%/%WEB%/%TOPIC%?raw=on][raw text]] of this topic to look under the hood.
<!--=========================================================
%STARTSECTION{ "dashboard_start" }%%ADDTOHEAD{
 "twiki_dashboard_addon"
 text="<style type='text/css' media='all'>
.twDashboardOuter {
 margin: 0;
 padding: 0;
 width: 1040px; /* = 1024 + 2*7 margin + 2 extra */
}
.twDashboardBanner {
 position: relative;
 margin: 0 7px 7px 7px;
 padding: 0;
 width: 1024px; /* = 3 * (300w+2*15p+2*1b) + 2*2*7m */
 height: 150px;
 -moz-box-shadow: 2px 2px 3px #e8e8e8;
 -webkit-box-shadow: 2px 2px 3px #e8e8e8;
 box-shadow: 2px 2px 3px #e8e8e8;
 -moz-border-radius: 4px;
 border-radius: 4px;
 background-color: #dddddd;
 background-image: url(%PUBURLPATH%/%SYSTEMWEB%/TWikiDashboardImages/golden-gate-sunset.jpg);
}
.twDashboardBannerTitle {
 position: absolute;
 margin: 10px 15px;
 padding: 0;
 font-size: 20px;
 font-weight: 600;
 color: #333333;
}
.twDashboardBannerButtonRow {
 position: absolute;
 bottom: 0;
 right: 0;
 margin: 0;
 padding: 10px 10px;
 color: #333333;
}
.twDashboardBannerButton {
 float:right;
}
.twDashboardBannerButton a {
 display: inline-block;
 margin: 5px 10px;
 padding: 3px 8px;
}
.twDashboardBox{
 float: left;
 padding: 7px;
}
</style>"
}%<nop>
%INCLUDE{ "%SYSTEMWEB%.ScrollBoxAddOn" section="scroll_box_engine" }%<nop>
<div class="twDashboardOuter">
<nop>%ENDSECTION{ "dashboard_start" }%
=========================================================-->

<!--=========================================================
%STARTSECTION{ "banner" }%<div class="twDashboardBanner" style="%IF{ "defined 'width'" then="width: %width%px; " }%%IF{ "defined 'image'" then="background-image: url(<nop>%image%); " }%">
<div class="twDashboardBannerTitle">
%IF{ "defined 'title'" then="$percnttitle$percnt" }%
</div>
<div class="twDashboardBannerButtonRow">
%IF{
 "defined 'buttons'"
 then="%CALCULATE{$LISTJOIN($sp, $LISTMAP(<div class='twDashboardBannerButton'>[[$LISTITEM(2, $SPLIT(: *, $item))][$LISTITEM(1, $SPLIT(: *, $item))]]</div>, %buttons%))}% <script> $('.twDashboardBannerButton a').addClass('twikiButton'); </script>"
 else="<nop>"
}%
</div>
</div>
<div style="clear: both;"></div>
<nop>%ENDSECTION{ "banner" }%
=========================================================-->

<!--=========================================================
%STARTSECTION{ "box_start" }%<div class="twDashboardBox">
%INCLUDE{ "%SYSTEMWEB%.ScrollBoxAddOn" section="static_box_start"
  %IF{ "defined 'title'" then="title=\"%title%\"" }% width="300"
  height="200"
  contentstyle="overflow:auto;"
}%
<nop>%ENDSECTION{ "box_start" }%
=========================================================-->

<!--=========================================================
%STARTSECTION{ "box_end" }%<nop>
%INCLUDE{ "%SYSTEMWEB%.ScrollBoxAddOn" section="static_box_end" }%
</div>%ENDSECTION{ "box_end" }%
=========================================================-->

<!--=========================================================
%STARTSECTION{ "dashboard_end" }%<div style="clear: both;"></div>
</div>%ENDSECTION{ "dashboard_end" }%
=========================================================-->

---++ Installation Instructions

__Note:__ You do not need to install anything on the browser to use this add-on. The following instructions are for the administrator who installs the add=on on the TWiki server.

   * For an __automated installation__, run the [[%SCRIPTURL{configure}%][configure]] script and follow "Find More Extensions" in the in the __Extensions__ section.

   * Or, follow these __manual installation__ steps:
      * Download the ZIP file from the Plugins home (see below).
      * Unzip ==%TOPIC%.zip== in your twiki installation directory. Content:
        | *File:* | *Description:* |
        | ==data/TWiki/%TOPIC%.txt== | Add-on topic |
        | ==data/TWiki/TWikiDashboardImages.txt== | Topic with dashboard banner images |
        | ==lib/TWiki/Contrib/%TOPIC%.pm== | Add-on Perl module |
        | ==pub/TWiki/TWikiDashboardImages/*== | Sample dashboard banner images |
      * Set the ownership of the extracted directories and files to the webserver user.

   * Add-on __configuration__:
      * If you use TWiki-5.1 or below add the following setting to %SYSTEMWEB%.TWikiPreferences:
<verbatim>
      * Set DASHBOARD = %INCLUDE{ "%SYSTEMWEB%.TWikiDashboardAddOn" section="%section%" %IF{ "'%height{ default="" }%'!=''" then="height=\"%height%\"" }% %IF{ "'%width{ default="" }%'!=''" then="width=\"%width%\"" }% %IF{ "'%ENCODE{ "%image{ default="" }%" type="entity" }%'!=''" then="image=\"%ENCODE{ "%image%" type="quote" }%\"" }% %IF{ "'%ENCODE{ "%title{ default="" }%" type="entity" }%'!=''" then="title=\"%ENCODE{ "%title%" type="quote" }%\"" }% %IF{ "'%ENCODE{ "%buttons{ default="" }%" type="entity" }%'!=''" then="buttons=\"%ENCODE{ "%buttons%" type="quote" }%\"" }% %IF{ "'%ENCODE{ "%style{ default="" }%" type="entity" }%'!=''" then="style=\"%style%\"" }% }%
</verbatim>

   * __Test__ if the installation was successful:
      * See if example above work

---++ Add-On Info

   * Set SHORTDESCRIPTION = Create professional dashboards for intranet home, teams, knowledge bases and more

|  Add-on Author: | TWiki:Main.PeterThoeny |
|  Copyright: | &copy; 2012, TWiki:Main.PeterThoeny |
|  License: | GPL ([[http://www.gnu.org/copyleft/gpl.html][GNU General Public License]]) |
|  Add-on Version: | 2012-10-03 |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  2010-10-03: | TWikibug:Item6954: Initial version |
|  TWiki Dependency: | $TWiki::Plugins::VERSION 1.1 (TWiki 5.0)%BR% TWiki:Plugins.ScrollBoxAddOn %BR% TWiki:Plugins.SpreadSheetPlugin version 2012-04-04 |
|  CPAN Dependencies: | none |
|  Other Dependencies: | none |
|  Perl Version: | 5.005 |
|  Add-on Home: | http://TWiki.org/cgi-bin/view/Plugins/TWikiDashboardAddOn |
|  Feedback: | http://TWiki.org/cgi-bin/view/Plugins/TWikiDashboardAddOnDev |
|  Appraisal: | http://TWiki.org/cgi-bin/view/Plugins/TWikiDashboardAddOnAppraisal |

__Related Topics:__ TWikiDashboardImages, ScrollBoxAddOn, %SYSTEMWEB%.TWikiAddOns
