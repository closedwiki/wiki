head	1.12;
access;
symbols;
locks
	webserv:1.12; strict;
comment	@# @;


1.12
date	2005.06.20.09.18.27;	author rohdedan;	state Exp;
branches;
next	1.11;

1.11
date	2005.06.20.07.53.08;	author rohdedan;	state Exp;
branches;
next	1.10;

1.10
date	2005.06.17.13.17.33;	author rohdedan;	state Exp;
branches;
next	1.9;

1.9
date	2005.06.17.09.32.55;	author rohdedan;	state Exp;
branches;
next	1.8;

1.8
date	2005.06.16.15.36.23;	author rohdedan;	state Exp;
branches;
next	1.7;

1.7
date	2005.06.16.14.04.01;	author rohdedan;	state Exp;
branches;
next	1.6;

1.6
date	2005.06.16.09.24.33;	author rohdedan;	state Exp;
branches;
next	1.5;

1.5
date	2005.06.16.07.31.48;	author rohdedan;	state Exp;
branches;
next	1.4;

1.4
date	2005.06.15.07.08.52;	author rohdedan;	state Exp;
branches;
next	1.3;

1.3
date	2005.06.14.14.41.27;	author rohdedan;	state Exp;
branches;
next	1.2;

1.2
date	2005.06.13.15.13.55;	author rohdedan;	state Exp;
branches;
next	1.1;

1.1
date	2005.06.10.16.12.52;	author rohdedan;	state Exp;
branches;
next	;


desc
@none
@


1.12
log
@none
@
text
@%META:TOPICINFO{author="rohdedan" date="1119259107" format="1.0" version="1.12"}%
---+!! <nop>HolidaylistPlugin</nop>

%TOC%

The !HolidaylistPlugin handles the tag %<nop>HOLIDAYLIST</nop>% that inserts a vacation list on the current page. Smilies are used to indicate if a person is in work or on holiday. 

The plugin creates a table filled with Smilies and today's date will be the first column. There is a row in the table for each person and each day is flagged as either: :mad: (in work), :ok: ( a day off) or 8-) (absent for some time), :-I (not at work; used if you type a location). You can also use other smilies (like :skull:).

*Example (image):*

<img src="%ATTACHURLPATH%/example.gif" alt="Example" title="Example" width="779" height="172"  />

---++ Syntax Rules
The syntax follows that of the !CalendarPlugin. See TWiki:Plugins.CalendarPlugin for more details.

To insert vacations into the table, create a bullet list. Three spaces and then a *.


Example1: To list that John will be away on 1-July-2005
<verbatim>
	* 01 Jul 2005 - John
</verbatim>
Example2: To list that Mary will be away from 3-Sep - 9-Sep 2005
<verbatim>
	* 03 Sep 2005 - 09 Sep 2005 - Mary 
</verbatim>
Example3: To list that Jill will be in Paris from 10-Sep - 11-Sep 2005 and in Tokyo on 15 Sep 2005
<verbatim>
	* 10 Sep 2005 - 11 Sep 2005 - Jill - Paris

	* 15 Sep 2005 - Jill - Tokyo
</verbatim>
Example4: To list that Eve will be ill from 12-Sep - 20-Sep 2005  with her's own 'smily'
<verbatim>
	* 12 Sep 2005 - 20 Sep 2005 - Eve - is ill - :scull:
</verbatim>

Example5: There are several attributes (see [[#AttriButes][Attributes]]) like =days= (defaults to 30days) and =tablecaption= (defaults to null). 

=%<nop>HOLIDAYLIST{days="90" tablecaption="Planned Holidays"}</nop>%=



*Note:*
	* At least one space character have to stay before and after a seperator ('-'). This allows you to use a '-' in names, locations or icons,
	  e.g. if you have a composite name like Eva-Maria.




#AttriButes
---++ Attributes
*Note:* Every attribute of %<nop>HOLIDAYLIST% can also be used as plugin setting. You only have to use capital letters.

| *Attribute* | *Comment* | *Default / Example* |
| adayofficon |a day off icon | adayofficon=":ok:" |
| border | table border | border="1" |
| cellpadding | table cell padding | cellpadding="1" |
| cellspacing | tabel cell spacing | cellspacing="0" |
| days | number of days to show |days="30" |
| holidayicon | holiday icon | holidayicon="8-)" |
| lang | language | lang="English" |
| month | set a month (e.g. Jan, Feb ...) or a month offset (e.g. +1, -2,...) *Note:* If you use this month attribute the days attribute will be ignored (days will be set to the duration of the month). | month="0" |
| name | header content of the first cell header |name="Name" |
| notatworkicon | not at work icon (only used if you type a location) | notatworkicon=":-I" |
| nwidth | cell width of the first column | nwidth="120px" |
| removeatwork | set to "1" to remove persons without calendar entries from table | removeatwork="0" |
| showweekends | show weekends if set to 1 | showweekends="0" |
| startdate | a start date (e.g. '1 Oct 2005') or a day offset (e.g. '10', '+30' or '-30') | startdate="+0" |
| tablebgcolor | table background color | tablebgcolor="white" |
| tablecaption | table caption | tablecaption="&amp;nbsp;" |
| tableheadercolor | color of the table header | tableheadercolor="%<nop>WEBBGCOLOR%" |
| tcwidth | width of the icon table cells | tcwidth="33px" |
| todaybgcolor | background color for today cells (usefull if you use startdate attribute) | todaybgcolor="white" |
| todayfgcolor | foreground color for today cells (usefull for a dark todaybgcolor) | todayfgcolor="black" |
| topic | a comma separated list of source topics | topic="%<nop>TOPIC%" |
| weekendbgcolor | background color of weekend header and data table cells | weekendbgcolor="%<nop>WEBBGCOLOR%" |
| workicon | in work icon | workicon="&amp;nbsp;" |
| year | set a year (e.g. 2005, 2006 ...) or a year offset (e.g. +1, -1, ...) | year="0" |

---++ Example

%HOLIDAYLIST{startdate="1 Jun 2005"}%

	* 02 Jan 2005 - 28 Feb 2005 - Bill
	* 27 Mar 2005 - 20 Apr 2005 - Bob
	* 10 May 2005 - 01 Jun 2005 - Mary
	* 13 Jun 2005 - 12 Jun 2006 - Jill's Motherhood 
	* 08 Jun 2005 - Bill
	* 10 Jun 2005 - 15 Jun 2005 - Bob
	* 12 Jun 2005 - 14 Jun 2005 - Alice - Paris
	* 17 Jun 2005 - Bob - is ill - :scull:
	* 10 Jul 2005 - Mary
	* 20 Jul 2005 - 02 Sep 2005 - Bob
	* 15 Sep 2005 - 15 Oct 2005 - Mary
	* 30 Oct 2005 - Jane
	* 19 Nov 2005 - Bob
	* 29 Nov 2005 - 20 Dec 2005 - Bill
	* 25 Dec 2005 - Bob

---++ Plugin Settings

	* One line description, is shown in the %TWIKIWEB%.TextFormattingRules topic:
		* Set SHORTDESCRIPTION = Create a table with a list of people on holidays

	* Days to show (default: 30)
		* # Set DAYS = 30

	* Language (default: English - *see manuale page of Date::Calc perl module, e.g: English, Deutsch, Franais, Espaol, Nederlands, Dansk, suomi, ...). 
		* # Set LANG = Deutsch

	* Content of the first cell (default: Name):
		* # Set NAME = Name

	* Set work icon (default: &amp;nbsp; - old behavior: <verbatim>:mad:</verbatim>):
		* # Set WORKICON = :mad:
  
*Note:* Every attribute of %<nop>HOLIDAYLIST% can also be used as plugin setting. You only have to use capital letters.

---++ Plugin Installation Instructions
	
	* Install required CPAN modules (e.g. <verbatim>perl -MCPAN -e "install Date::Calc"</verbatim>)
	* Download the ZIP file from the Plugin web (see below)
	* Unzip ==%TOPIC%.zip== in your twiki installation directory. Content:
	  | *File:* | *Description:* |
	  | ==data/TWiki/%TOPIC%.txt== | Plugin topic |
	  | ==lib/TWiki/Plugins/%TOPIC%.pm== | Plugin Perl module |
	* Test if the plugin is correctly installed: Copy the example above into a new topic and change
	  the year number to the current year.


---++ Plugin Info

|  Plugin Author: | TWiki:Main.PeterJones, TWiki:Main.DanielRohde |
|  Plugin Version: | v1.008 (beta) |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  v1.008 (beta): | new attributes (nwidth,tcwidth,removeatwork); performance fixes (TWiki:Main.DanielRohde) |
|  v1.007 (17 Jun 2005):  | personal icon support; new attributes (month,year); icon tooltips with dates/person/location/icon; fixed '-' bug (TWiki:Main.DanielRohde) |
|  v1.006 (16 Jun 2005): | added new features (location support; today(fg/bg)color) (TWiki:Main.DanielRohde) |
|  v1.005 (16 Jun 2005): | added new features (start date support; weekendbgcolor); fixed documentation bugs; (TWiki:Main.DanielRohde) |
|  v1.004 (14 Jun 2005): | some performance improvements; code cleanup; documentation (TWiki:Main.DanielRohde) |
|  v1.003 (13 Jun 2005): | fix plugin preference handling; rename some subroutines (TWiki:Main.DanielRohde) |
|  v1.002 (13 Jun 2005): | renders some options; fixes some documentation bugs and a white space bug (TWiki:Main.DanielRohde) |
|  v1.001 (10 Jun 2005): | A complete reimplementation with many bug fixes and some new features. (TWiki:Main.DanielRohde) |
|  v1.021 (01 Jun 2005): | Initial version (TWiki:Main.PeterJones) |
|  CPAN Dependencies: | CPAN:Date::Calc |
|  Other Dependencies: | %TWIKIWEB%.SmiliesPlugin |
|  Perl Version: | 5.0 and up|
|  TWiki:Plugins/Benchmark: | %TWIKIWEB%.GoodStyle 100%, %TWIKIWEB%.FormattedSearch 100%, %TOPIC% 99% |
|  Plugin Home: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC% |
|  Feedback: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev |
|  Appraisal: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal |

__Related Topics:__ %TWIKIWEB%.SmiliesPlugin, %TWIKIWEB%.TWikiPlugins, TWiki:Plugins.CalendarPlugin
 
-- TWiki:Main.PeterJones - 01 Jun 2005
%BR% -- TWiki:Main.DanielRohde - 10 Jun 2005
 

%META:FILEATTACHMENT{name="example.gif" attr="h" comment="Example" date="1119006048" path="example.gif" size="15447" user="rohdedan" version="1.1"}%
@


1.11
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1119253988" format="1.0" version="1.11"}%
d68 1
d138 1
a138 1
|  v1.008 (beta): | new attributes (nwidth,tcwidth) (TWiki:Main.DanielRohde) |
d150 1
a150 1
|  TWiki:Plugins/Benchmark: |  |
@


1.10
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1119014253" format="1.0" version="1.10"}%
d64 1
a64 1
| month | set a month (e.g. Jan, Feb ...) or a month offset (e.g. +1, -2,...) *Note:* If you use this month attribute the days attribute was ignored (days will be set to the duration of the month). | month="0" |
d109 1
a109 1
	* Language (*see manuale page of Date::Calc perl module, e.g: English, Deutsch, Franais, Espaol, Nederlands, Dansk, suomi, ...). 
d112 1
a112 1
	* Name of the first cell:
d115 1
a115 1
	* Set work icon (old behavior: <verbatim>:mad:</verbatim>):
@


1.9
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1119000775" format="1.0" version="1.9"}%
d67 1
d73 1
d135 1
a135 1
|  Plugin Version: | v1.007 (17 Jun 2005) |
d137 1
@


1.8
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118936183" format="1.0" version="1.8"}%
d8 5
a12 1
The plugin creates a table filled with Smilies and today's date will always be the first column. There is a row in the table for each person and each day is flagged as either: :mad: (in work), :ok: ( a day off) or 8-) (absent for some time), :-I (not at work; used if you type a location).
d34 4
d39 1
a39 1
Example4: There are several attributes (see [[#AttriButes][Attributes]]) like =days= (defaults to 30days) and =tablecaption= (defaults to null). 
d43 9
d64 1
d68 1
a68 1
| startdate |  a start date (e.g. '1 Oct 2005') or a day offset (e.g. '10', '+30' or '-30') | startdate="+0" |
d77 1
d90 1
a90 1
	* 17 Jun 2005 - Bob - London
d112 3
d119 2
a120 1

d133 1
a133 1
|  Plugin Version: | v1.007 (comming up) |
d135 1
a135 1
|  v1.007 (comming up):  | locations as icon tooltips (TWiki:Main.DanielRohde) |
d155 1
d157 1
@


1.7
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118930641" format="1.0" version="1.7"}%
d62 1
a62 1
%HOLIDAYLIST%
d70 2
d110 1
a110 1
|  Plugin Version: | 16 Jun 2005 A|
d112 8
a119 7
|  16 Jun 2005 A: | added new features (location support; today(fg/bg)color) (TWiki:Main.DanielRohde) |
|  16 Jun 2005: | added new features (start date support; weekendbgcolor); fixed documentation bugs; (TWiki:Main.DanielRohde) |
|  14 Jun 2005: | some performance improvements; code cleanup; documentation (TWiki:Main.DanielRohde) |
|  13 Jun 2005 A: | fix plugin preference handling; rename some subroutines (TWiki:Main.DanielRohde) |
|  13 Jun 2005: | renders some options; fixes some documentation bugs and a white space bug (TWiki:Main.DanielRohde) |
|  10 Jun 2005: | A complete reimplementation with many bug fixes and some new features. (TWiki:Main.DanielRohde) |
|  01 Jun 2005: | Initial version (TWiki:Main.PeterJones) |
@


1.6
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118913873" format="1.0" version="1.6"}%
d8 1
a8 1
The plugin creates a table filled with Smilies and today's date will always be the first column. There is a row in the table for each person and each day is flagged as either: :mad: (in work), :ok: ( a day off) or 8-) (absent for some time).
d15 1
d17 3
a19 3

	!* 01 Jul 2005 - John
	 
d21 6
d28 2
a29 4
	!* 03 Sep 2005 - 09 Sep 2005 - Mary 


There are several attributes (see [[#AttriButes][Attributes]]) like =days= (defaults to 30days) and =tablecaption= (defaults to null).
d31 1
a31 1
Example3 :
d48 1
d54 2
d108 1
a108 1
|  Plugin Version: | 16 Jun 2005 |
d110 1
@


1.5
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118907108" format="1.0" version="1.5"}%
d11 1
a11 1
The syntax follows that of the !CalendarPlugin. Note adding the %<nop>CALENDAR</nop>% tag to the page will also create a Calendar with the listed vacations. See TWiki:Plugins.CalendarPlugin for more details.
d24 1
a24 1
There are 2 possible arguments =days= (defaults to 30days) and =tablecaption= (defaults to null).
d30 3
a32 2
---++ Table Attributes
*Note:* Every table attribute of %<nop>HOLIDAYLIST% can be used as plugin setting. You only have to use capital letters.
d44 1
d49 1
d56 1
a56 1
	* 02 Jan 2005 - 30 Feb 2005 - Bill
d75 2
d79 1
a79 1
		* Set LANG = Deutsch
d84 1
a84 1
*Note:* Every table attribute of %<nop>HOLIDAYLIST% can be used as plugin setting. You only have to use capital letters.
d100 1
a100 1
|  Plugin Version: | 14 Jun 2005 |
d102 1
@


1.4
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118819332" format="1.0" version="1.4"}%
d11 1
a11 1
The sytax follows that of the !CalendarPlugin. Note adding the %<nop>CALENDAR</nop>% tag to the page will also create a Calendar with the listed vacations. See TWiki:Plugins.CalendarPlugin for more details.
d103 1
a103 1
|  Other Dependencies: | %TWIKIWEB%.SmiliesPlugin, TWiki:Plugins.CalendarPlugin |
@


1.3
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118760087" format="1.0" version="1.3"}%
d74 1
a74 1
		* # Set LANG = Deutsch
@


1.2
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118675635" format="1.0" version="1.2"}%
d38 1
a38 1
| days | Number of days to show |days="30" |
d40 1
a40 1
| lang | Language | lang="English" |
d46 1
a46 1
| topic | A comma separated list of source topics. | topic="%<nop>TOPIC%" |
d73 1
a73 1
	* Language (*see manuale page of Date::Calc module). 
d94 2
a95 2
|  Plugin Author: | TWiki:Main.PeterJones |
|  Plugin Version: | 13 Jun 2005 A |
d97 1
@


1.1
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="rohdedan" date="1118419972" format="1.0" version="1.1"}%
d31 1
d34 1
a34 1
| adayofficon |a day off icon | adayofficon="&lt;img src=%<nop>PUBURL%/TWiki/SmiliesPlugin/thumbs.gif&gt;" |
d39 1
a39 1
| holidayicon | holiday icon | holidayicon="&lt;img src=%<nop>PUBURL%/TWiki/SmiliesPlugin/cool.gif&gt;" |
d44 1
a44 1
| tablecaption | table caption | tablecaption="&nbsp;" |
d47 1
a47 1
| workicon | in work icon | workicon="&nbsp;" |
d56 1
d74 1
a74 1
		* # Set LANG = English
d79 1
a79 1
*Note:* Every table attribute of %<nop>HOLIDAYLIST% can be used as plugin setting. You only have to use captial letters.
d94 2
a95 2
|  Plugin Author: | Main.PeterJones |
|  Plugin Version: | 10 Jun 2005 |
d97 2
@
