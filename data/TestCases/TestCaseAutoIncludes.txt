%META:TOPICINFO{author="TWikiContributor" date="1111930902" format="1.0" version="$Rev$"}%

Description: Check for the correct detection and handling of recursive and repeated includes

[[%SCRIPTURL%/view%SCRIPTSUFFIX%/%WEB%/%TOPIC%?test=compare&amp;debugenableplugins=TestFixturePlugin&skin=pattern][run this test]]

Designed by: Crawford Currie

---+ Recursion detection and avoidance
---++ Expected
<!-- expected RECUSS -->
There was an old Man of the coast
There was an old Man of the coast
<p />
<span class='twikiAlert'> Warning: Can't INCLUDE TestCases.<nop>RecursiveInclude repeatedly, topic is already included.</span>
<p />
Who placidly sat on a post;
But when it was cold
He relinquished his hold
And called for some hot buttered toast.
<p />
Who placidly sat on a post;
But when it was cold
He relinquished his hold
And called for some hot buttered toast.
<p />
<!-- /expected -->
---++ Actual
<!-- actual -->
%INCLUDE{"RecursiveInclude"}%
%INCLUDE{"IncludeMeTwice"}%
%INCLUDE{"IncludeMeTwice"}%
<!-- /actual -->

---+ File not found
---++ Expected
<!-- expected expand FNF -->
<p></p>
<span class='twikiAlert'> Warning: Can't find topic FileNotFound</span>
<p></p>
<!-- /expected -->
---++ Actual
<!-- actual -->
%INCLUDE{"FileNotFound"}%
<!-- /actual -->

---+ References to BASETOPIC and INCLUDINGTOPIC
<!-- AAA hubba AAA tag string used for testing pattern -->
---+ Expected
<!-- expected expand -->
<p />
%TOPIC%
%TOPIC%
hubba
<p />
%TOPIC%
IncludedTopic
<p />
<!-- /expected -->
---+ Actual
<noautolink>
<!-- actual -->
%INCLUDE{"IncludedTopic"}%
<!-- /actual -->
</noautolink>

---+ Parameterized includes
---++ Expected
<!-- expected -->
%A% %B% %C%
<p />
1 2 3
<p />
%A% %B% %C%
<!-- /expected -->
---++ Actual
<!-- actual -->
%A% %B% %C%
%INCLUDE{"ParameterizedIncludeFixture" A="1" B="2" C="3"}%
%A% %B% %C%
<!-- /actual -->
