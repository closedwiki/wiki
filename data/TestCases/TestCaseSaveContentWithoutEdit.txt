%META:TOPICINFO{author="CharlesBrown" date="1118858555" format="1.1" version="1.3"}%


---+!! %TOPIC%

Description: Verify the proper creation or revision of a topic without going through edit, along with the proper handling of URL params in the following cases:
   1 The topic already exisit containing form field values 
   1 A =templatetopic= is specified.
   1 A =formtemplate= is specified.

In all cases, some form field values will be changed with URL params and other with be left unchanged.

*Note to Crawford about test setup:* Before running these tests, there are two "fixture" topics needed:
   * SavedContentExistingTopic
   * I reused the TopicTemplateWithUrlParamFixture topic with 2 modifications. I added a form and added GMTIME variable to topic text for comparison to url passed to Rubaduba form field.

---++++ Test #1: Passing URL Params to existing topic

[[%SCRIPTURL%/save%SCRIPTSUFFIX%/TestCases?topic=SavedContentExistingTopic&Rubaduba=%ENCODE{"%GMTIME%"}%][Click here]] to run the test and topic. Expected result:
   * The topic should contain some content. View SavedContentExistingTopic before running test to see the text (and perhaps save it in case test fails).
   * Rubaduba form field should contain current GMTIME. This variable is also in topic for comparison.
   * The other form fields should be unchanged. i.e.:
      * Squeegle =  Hugh Pugh Barney McGrew
      * Smomble = unchecked
      * Slash Slash Escape = One


---++++ Test #2: Passing URL Params to new topic with =templatetopic= specified

Before running this test, check if SavedNewTopicNoEdit exist and, if so, delete it.

[[%SCRIPTURL%/save%SCRIPTSUFFIX%/TestCases?topic=SavedNewTopicNoEdit&templatetopic=TopicTemplateWithUrlParamFixture&testtext=text%20from%20the%20url&Rubaduba=%ENCODE{"%GMTIME%"}%][Click here]] to run the test and topic. Expected result:
   * The topic should contain some content, including some text passed in url.
   * Rubaduba form field should contain current GMTIME. This variable is also in topic for comparison.
   * The other form fields should be unchanged. i.e.:
      * Squeegle =  Hugh Pugh Barney McGrew
      * Smomble = unchecked
      * Slash Slash Escape = One


---++++ Test #3: Passing URL Params to new topic with =formtemplate= specified

Before running this test, check if SavedNewTopicNoEdit exist and, if so, delete it.

[[%SCRIPTURL%/save%SCRIPTSUFFIX%/TestCases?topic=SavedNewTopicNoEdit&formtemplate=ThisForm&testtext=text%20from%20the%20url&Rubaduba=%ENCODE{"%GMTIME%"}%][Click here]] to run the test and topic. Expected result:
   * The topic should contain some text passed in url.
   * The topic should have ThisForm assigned.
   * Rubaduba form field should contain current GMTIME.
   * The other form fields should be unchanged. i.e.:
      * Squeegle =  Hugh Pugh Barney McGrew
      * Smomble = unchecked
      * Slash Slash Escape = One













