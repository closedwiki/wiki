%META:TOPICINFO{author="TWikiContributor" date="1177700623" format="1.1" version="$Rev$"}%
---+!! TWiki Release 4.2.0 (Freetown), %$DATE%

%TOC%

---++ BETA RELEASE 1

   * This is the first beta release of TWiki 4.2.0. At the release of this beta there are still some open release blocking bugs open. However we have chosen to make this beta available because we really need our users to test the new WYSIWYG editor and report back all the errors that for sure will be found.

---++ Introduction

TWiki Release 4.2.0 is a minor release. TWiki releases are either major (major new features and changes in architecture), minor (enhancements and bug fixes), or patch releases (bug fixes only) which can be installed as upgrades on production installations.

TWiki Release 4.2.0 introduces some good enhancements and quite many bug fixes since 4.1.2.

The development team has done everything to maintain full compatibility with topics generated in TWiki-4.0 and there are no changes to the topic format when using normal !TWikiUserMapping

---++ Pre-installed Extensions

TWiki 4.2.0 is shipped with

   * *Plugins:* !CommentPlugin, !EditTablePlugin, !EmptyPlugin, !InterwikiPlugin, !PreferencesPlugin, !RenderListPlugin, !SlideShowPlugin, !SmiliesPlugin, !SpreadSheetPlugin, !TablePlugin, !TwistyPlugin, !WysiwygPlugin
   * *Contribs:* !BehaviourContrib !JSCalendarContrib, !TinyMCEContrib, !MailerContrib, !NatEditContrib, !TipsContrib, !TwistyContrib
   * *Skins:* !ClassicSkin, !PatternSkin

---++ New Features Highlights

   * *Easier Installation and Upgrade*
      * !ResetPassword, !ChangePassword, !ChangeEmailAddress, and !TWikiRegistration no longer contains yellow text that you have to remove.
      * Configure can now authenticate when connecting to local plugins repository
      * A new directory =working= which per default is located in the twiki root, has been introduced which contains:
         * registration_approvals - with 4.2.0 it is moved to here from the data directory)
         * tmp - so we now avoid having to fight with special access rights and /tmp directory that gets cleaned out when booting.
         * work_areas - with 4.2.0 it is moved to here from the pub directory. Configure automatically moved the directory when you upgrade.
         * Note: Remember to restrict access to this new directory when you upgrade.
      * New Internal Admin Login feature which uses "admin" (configurable) as username and the password used for configure to become temporary administrator. When you do a new installation you need to use this feature as !Main.TWikiAdminGroup is now access restricted by default to avoid security attacks during the hours an installation may take. From configure there is a link to the !TWikiAdminGroup topic and on !TWikiAdminGroup the step by step instructions are written in a yellow box. Our advice is not to remove this help text in case you need it later.

   * *Usability Enhancements*


   * *Application Platform Enhancements*
      * Enhancements to IF: allows, istopic, and isweb
      

   * *Search Enhancements*
      * New =query= search mode supports SQL-style queries over form fields
        and other meta-data

   * *Skins and Templates Enhancements*

   * *API Enhancements (Func)
      * setPreferencesValue($name, $val)
      *  

   * *Miscellaneous Feature Enhancements*
TODO: document user mapping changes

   * *Enhancements of Pre-installed Plugins*


---++ Important Changes since 4.1.2

TODO: the default user form has moved

   * The NEWTOPICLINKSYMBOL preference which was deprecated in 4.1 has now been removed from the code. If you want to control the appearance of new links, you can use [[%SYSTEMWEB%.VarNEWLINKFORMAT][NEWLINKFORMAT]]

---++ !UserForm and !NewUserTemplate Customization

When a new user registers on TWiki his user topic is created based on the =NewUserTemplate= and =UserForm=.

The =NewUserTemplate= was located in the TWiki web and the =UserForm= in the Main web. When upgrading TWiki these were some of the topics you had to take care not to overwrite.

From 4.2.0 the =UserForm= and =NewUserTemplate= are distributed in the TWiki web. If you create the two in the Main web the Main web version will be used instead. So if you tailor the user topic format or the form then you should always copy the two files to the Main web and modify the ones in the Main web. When you later upgrade TWiki your tailored template and form will not be overwritten.

---++ !TWikiUsers no longer distributed

The =Main.TWikiUsers= topic contains all the registered users. It is a topic you do not want to overwrite when you upgrade TWiki.

From 4.2.0 this file is no longer included in the TWiki distribution. When you register the first time TWiki creates the =Main.TWikiUsers= topic in the Main web if it does not exist already. This means that you can now upgrade TWiki without risk of overwriting the important =TWikiUsers= topic.

---++ Deprecation Notices

The %<nop>MAINWEB% and %<nop>TWIKIWEB% variables have been deprecated. For compatibility reasons they are unlikely to ever be removed completely, but you should use the %<nop>USERSWEB% and %<nop>SYSTEMWEB% variables instead.


---++ Bug Fix Highlights




The full list of bug fixes can be seen below

---++  TWiki 4.2.0 Minor Release - Details

The 4.1.0 release was built from SVN http://svn.twiki.org/svn/twiki/branches/Patch04x02 revision FIXME.

---+++ TWiki 4.2.0 Fixes
<noautolink>

FIXME using http://develop.twiki.org/~twiki4/cgi-bin/view/Bugs/ReleaseNotesTml?type=n%2Fa%7Cpatch%7Cminor

</noautolink>


</noautolink>

---+++ TWiki 4.2.0 Enhancements

<noautolink>

FIXME using http://develop.twiki.org/~twiki4/cgi-bin/view/Bugs/ReleaseNotesTml?type=n%2Fa%7Cpatch%7Cminor

</noautolink>



<!-- Note: Do not use Bugs: interwiki links because interwiki rule might not be defined
   * Set BUGS = http://develop.twiki.org/~twiki4/cgi-bin/view/Bugs
-->
__Related Topic:__ TWikiHistory
