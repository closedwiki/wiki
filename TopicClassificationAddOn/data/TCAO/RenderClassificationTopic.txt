%META:TOPICINFO{author="LynnwoodBrown" date="1171575380" format="1.1" version="1.29"}%
%META:TOPICPARENT{name="TopicFunction"}%
---+!! Function: %TOPIC%
%FORMFIELD{"Summary"}%

%TOC{depth="2"}%

---++ Documentation
%STARTSECTION{name="documentation" type="section"}%
%TOPIC% is INCLUDED in Classification topics within the specific webs where TopicClassification is used. It includes a SEARCH to list all topics that have that classification as well as filtering by that classifications "facets."

---+++++ Parameters

The following parameters allow customization of how specific Classification topics are displayed. Most can be specified within the INCLUDE or DBCALL but in many cases, it is easier to define them within the base Classification topic. For convenience, all new Classification topics have these listed in a hidden section at the beginning of the topic.


   * CLASS_DESCRIPTION - Optional introductory information about the particular category.
   * ADD_FILTER - Option for including a list filtering UI. Must be set to a TopicFunction to INCLUDE. The basic one is RenderStandardFilter but others could be defined.
   * SEARCH_FORMAT - Optional custom format for search results. Defaults to bulleted list with topic name and the !Summary formfield.
   * HEADER_FORMAT - Optional custom format for search results header. Defaults to empty header.
   * FOOTER_FORMAT - Optional custom format for search results footer. Defaults to "Number of topics found = $count".
   * SEARCH_ORDER - Option for changing the default order for the search. Defaults to "name."
   * SEARCH_REVERSE - Option to reverse the search order. Defaults to "off."

---+++++ Css
   * None
%ENDSECTION{name="documentation" type="section"}%

---++ Implementation
<verbatim>
%STARTINCLUDE%
<span class="twikiRight" style="margin:.25em 0 0 0;" /><form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
<select name="subject" size="1" onchange="document.location=this.value;"> <option>Jump to different <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select></form> </span>
---++!! %SPACEOUT{%BASETOPIC%}%
%IF{"defined CLASS_DESCRIPTION" then="%CLASS_DESCRIPTION%"}%
%IFDEFINED{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%" as="TopicType" then="<p /><form method=\"link\" action=\"$percntSCRIPTURL{view}$percnt/$percntBASEWEB$percnt/CreateNewTopic\"><input type=hidden name=type value=$percntBASETOPIC$percnt><input type=hidden name=step value=two><input type=hidden name=parent value=$percntBASETOPIC$percnt><input type=\"submit\" class=\"twikiButton\" value=\"Create new <nop>$percntBASETOPIC$percnt \" /></form>" else="" glue="off"}%

%IFDEFINED{"%ADD_FILTER%" then="$percntINCLUDE{$percntADD_FILTER$percnt}$percnt" glue="off"}%

<!-- interrupt glue -->
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" " format="$percntIF{\"$ 'URLPARAM{$1}'!=\''\" then=\" AND $1 =~ '$percntURLPARAM{$1}$percnt'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * [[$web.$topic][$percntSPACEOUT{$topic}$percnt]] - <noautolink>$formfield(Summary)</noautolink>" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" order="%IF{"defined SEARCH_ORDER" then="%SEARCH_ORDER%" else="name" }%" reverse="%IF{"defined SEARCH_REVERSE" then="%SEARCH_REVERSE%" else="off" }%"}%

_For more information on content organization within the *%BASEWEB%* web, see %BASEWEB%.TopicClassification._

%STOPINCLUDE%
</verbatim>

<!-- interrupt glue -->

---++ Test
<div class="alt">
%DBCALL{"%TOPIC%"}%
</div>

%DBCALL{"RenderFunctionCallers"}%

---++ Copyright
<div style="text-align:justify;margin:1em;">
(C) 2006 LynnwoodBrown@Skyloom.com

%DBCALL{"GnuGeneralPublicLicense" section="notice"}%
</div>

%META:FORM{name="TopicForm"}%
%META:FIELD{name="TopicType" attributes="" title="TopicType" value="TopicFunction"}%
%META:FIELD{name="SubjectArea" attributes="" title="SubjectArea" value=""}%
%META:FIELD{name="Summary" attributes="" title="Summary" value="Renders general layout for !ClassificationTopics."}%
%META:TOPICMOVED{by="LynnwoodBrown" date="1159763122" from="TCAO2.RenderCategory" to="TCAO2.RenderClassificationTopic"}%
%META:REVCOMMENT{ncomments="0"}%
