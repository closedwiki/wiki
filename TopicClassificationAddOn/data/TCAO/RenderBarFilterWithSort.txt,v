head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2007.02.24.00.20.35;	author LynnwoodBrown;	state Exp;
branches;
next	1.4;

1.4
date	2007.02.20.15.52.49;	author LynnwoodBrown;	state Exp;
branches;
next	1.3;

1.3
date	2007.02.20.00.39.53;	author LynnwoodBrown;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.19.18.56.11;	author LynnwoodBrown;	state Exp;
branches;
next	1.1;

1.1
date	2007.02.15.22.40.01;	author LynnwoodBrown;	state Exp;
branches;
next	;


desc
@none
@


1.5
log
@none
@
text
@%META:TOPICINFO{author="LynnwoodBrown" date="1172276435" format="1.1" reprev="1.5" version="1.5"}%
%META:TOPICPARENT{name="TopicFunction"}%
---+!! Function: %TOPIC%
%FORMFIELD{"Summary"}%

%TOC{depth="2"}%

---++ Documentation
%STARTSECTION{name="documentation" type="section"}%
%RED%TODO%ENDCOLOR%

---+++++ Parameters
   * FACETS - %RED%Required%ENDCOLOR% Specify what "facets" in include as filters. Defaults to the contents of "Facets" field in base topic.
   * INITSORT -%RED%Required%ENDCOLOR%  Initial sort. set to either "created" or "modified"
   * INITLIMIT - %RED%Required%ENDCOLOR%  Initial results # limit. Set to 10, 20, 50, 100, or all.
   * Note: if you are using this in conjunction with RenderSearchString, you can simplify things by defining these parameters within the base topic.

---+++++ Css
   * 
%ENDSECTION{name="documentation" type="section"}%

---++ Implementation
<verbatim>
%STARTINCLUDE%<div class="patternTopicAction">%TWISTY{id="%INCLUDINGTOPIC%topicfilters" showlink=" *Show list options* " showimg="%ICONURLPATH{toggleopen-small}%"
hidelink=" *Hide list options* " hideimg="%ICONURLPATH{toggleclose-small}%" mode="div" remember="on"}%
<noautolink>
<form name="filterList" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/%BASETOPIC%" >
<span style="font-size:.85em;">
%TABLE{dataalign="center" columnwidths=" , ,35px, 30px" valign="middle"}%
| *Filter by:*  %BR%
~~~  
%~~  FORMATLIST{"%IFDEFINED{"%FACETS%" then="$test" else="$percntFORMFIELD{\"Facets\" topic=\"$percntBASEWEB$percnt.$percntBASETOPIC$percnt\"}$percnt" glue="off"}%" separator=" " 
~~~       format="<select name=\"$1\" size=\"1\"  > <option value=\"\"><nop>$1...</option> 
~~~           $percntDBQUERY{\"$percntFORMFIELD{\"Classification\" topic=\"%BASEWEB%.$1\" }$percnt='$1'\" web=\"%BASEWEB%\" 
~~~              format=\"<option $dollarpercntIF{\\"$'URLPARAM{$1}'='$topic'\\" then=\\"selected\\" else=\\" \\"}$dollarpercnt>$topic</option>\" 
~~~       separator=\" \" }$percnt</select>" 
~~~   }%   
~~~     | *Sort by Date:*  %BR%
~~~     <input type="radio" name="sort" value="modified" %IFDEFINED{"%URLPARAM{"sort" default="%INITSORT%"}%" as="modified" then="checked"}% >Modified  
~~~     <input type="radio" name="sort" value="created" %IFDEFINED{"%URLPARAM{"sort" default="%INITSORT%"}%" as="created" then="checked" glue="off"}% >Created   
~~~     | *# results:* %BR% <select name="limit"> 
~~~         <option %IFDEFINED{"%URLPARAM{"limit" default="%INITLIMIT%"}%" as="10" then="selected" glue="off"}% >10</option>
~~~         <option %IFDEFINED{"%URLPARAM{"limit" default="%INITLIMIT%"}%" as="20" then="selected" glue="off"}% >20</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit default="%INITLIMIT%"}%" as="50" then="selected" glue="off"}%>50</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit default="%INITLIMIT%"}%" as="100" then="selected" glue="off"}%>100</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit default="%INITLIMIT%"}%" as="all" then="selected" glue="off"}%>all</option>
~~~    </select> | 
~~~  <input type="submit" value="Apply">  | 
 </span></form>%ENDTWISTY%</div></noautolink>%STOPINCLUDE%
</verbatim>

<!-- interrupt glue -->

---++ Test
<div class="alt">
%INCLUDE{"%TOPIC%" FACETS="TopicType, SubjectArea" INITSORT="modified" }%
</div>

%DBCALL{"RenderFunctionCallers"}%

---++ Copyright
<div style="text-align:justify;margin:1em;">
(C) 2006 LynnwoodBrown@@Skyloom.com

%DBCALL{"GnuGeneralPublicLicense" section="notice"}%
</div>


<!--
   * Set SIDEBAR = TopicType
   * Set SIDEBARARG = TopicFunction
-->

%META:FORM{name="TCAO.TopicForm"}%
%META:FIELD{name="TopicType" attributes="" title="TopicType" value="TopicFunction"}%
%META:FIELD{name="SubjectArea" attributes="" title="SubjectArea" value=""}%
%META:FIELD{name="Summary" attributes="" title="Summary" value="Bar with sort and filter options"}%
%META:REVCOMMENT{ncomments="0"}%
@


1.4
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171986769" format="1.1" reprev="1.4" version="1.4"}%
d13 4
a16 1
   * FACETS - Specify what "facets" in include as filters. Defaults to the contents of "Facets" field in base topic.
d24 2
a25 1
%STARTINCLUDE%<div class="patternTopicAction">
d28 4
a31 3
<span style="font-size:.85em;white-space:nowrap;">
| *Filter by:*  
~~~
d38 9
a46 8
~~~     | *Sort by Date:* 
~~~     <input type="radio" name="sort" value="created" %IFDEFINED{"%URLPARAM{"sort" default="created"}%" as="created" then="checked" glue="off"}% >Created   
~~~     <input type="radio" name="sort" value="modified" %IFDEFINED{"%URLPARAM{"sort"}%" as="modified" then="checked"}% >Modified  
~~~     | *Limit # results:* <select name="limit"> 
~~~         <option %IFDEFINED{"%URLPARAM{"limit" default="20"}%" as="20" then="selected" glue="off"}% >20</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit}%" as="50" then="selected" glue="off"}%>50</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit}%" as="100" then="selected" glue="off"}%>100</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit}%" as="all" then="selected" glue="off"}%>all</option>
d49 1
a49 1
 </span></form></div></noautolink>%STOPINCLUDE%
d56 1
a56 1
%DBCALL{"%TOPIC%"}%
@


1.3
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171931993" format="1.1" version="1.3"}%
d21 1
a21 1
%STARTINCLUDE%<div class=patternTopicAction>
d24 1
a24 1
<span style="font-size:.85em;">
@


1.2
log
@none
@
text
@d1 2
a2 2
%META:TOPICINFO{author="LynnwoodBrown" date="1171911371" format="1.1" reprev="1.2" version="1.2"}%
%META:TOPICPARENT{name="TopicTemplate"}%
@


1.1
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171579201" format="1.1" reprev="1.1" version="1.1"}%
d13 1
a13 1
   * None
d24 1
d27 1
a27 1
%~~  FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" " 
d33 4
a36 5
~~~   *String:* <input class="twikiInputField" type="text" name="string" value="%URLPARAM{"string"}%" size="15" />
~~~     | *Sort by:* 
~~~     <input type="radio" name="sort" value="created" %IFDEFINED{"%URLPARAM{"sort" default="created"}%" as="created" then="checked" glue="off"}% >Date Created  
~~~     <input type="radio" name="sort" value="modified" %IFDEFINED{"%URLPARAM{"sort"}%" as="modified" then="checked"}% >Date Modified  |
~~~  *Limit # results:* <select name="limit"> 
d42 2
a43 2
~~~  <input type="submit" value="Apply"> |
 </form></div></noautolink>%STOPINCLUDE%
d70 1
@
