head	1.29;
access;
symbols;
locks; strict;
comment	@# @;


1.29
date	2007.02.15.21.36.20;	author LynnwoodBrown;	state Exp;
branches;
next	1.28;

1.28
date	2007.01.30.21.58.46;	author LynnwoodBrown;	state Exp;
branches;
next	1.27;

1.27
date	2007.01.25.06.19.33;	author LynnwoodBrown;	state Exp;
branches;
next	1.26;

1.26
date	2007.01.03.21.14.28;	author LynnwoodBrown;	state Exp;
branches;
next	1.25;

1.25
date	2007.01.01.17.50.35;	author LynnwoodBrown;	state Exp;
branches;
next	1.24;

1.24
date	2006.12.28.21.13.59;	author LynnwoodBrown;	state Exp;
branches;
next	1.23;

1.23
date	2006.12.28.14.07.07;	author LynnwoodBrown;	state Exp;
branches;
next	1.22;

1.22
date	2006.12.27.22.42.21;	author LynnwoodBrown;	state Exp;
branches;
next	1.21;

1.21
date	2006.11.16.00.38.00;	author LynnwoodBrown;	state Exp;
branches;
next	1.20;

1.20
date	2006.11.03.06.43.56;	author LynnwoodBrown;	state Exp;
branches;
next	1.19;

1.19
date	2006.11.01.20.05.14;	author LynnwoodBrown;	state Exp;
branches;
next	1.18;

1.18
date	2006.11.01.18.06.12;	author LynnwoodBrown;	state Exp;
branches;
next	1.17;

1.17
date	2006.11.01.16.38.25;	author LynnwoodBrown;	state Exp;
branches;
next	1.16;

1.16
date	2006.10.31.18.28.06;	author LynnwoodBrown;	state Exp;
branches;
next	1.15;

1.15
date	2006.10.27.22.35.54;	author LynnwoodBrown;	state Exp;
branches;
next	1.14;

1.14
date	2006.10.19.06.22.34;	author LynnwoodBrown;	state Exp;
branches;
next	1.13;

1.13
date	2006.10.05.22.18.33;	author LynnwoodBrown;	state Exp;
branches;
next	1.12;

1.12
date	2006.10.04.21.35.14;	author LynnwoodBrown;	state Exp;
branches;
next	1.11;

1.11
date	2006.10.04.16.36.07;	author LynnwoodBrown;	state Exp;
branches;
next	1.10;

1.10
date	2006.10.04.06.12.12;	author LynnwoodBrown;	state Exp;
branches;
next	1.9;

1.9
date	2006.10.04.00.06.42;	author LynnwoodBrown;	state Exp;
branches;
next	1.8;

1.8
date	2006.10.03.16.14.37;	author LynnwoodBrown;	state Exp;
branches;
next	1.7;

1.7
date	2006.10.02.05.14.09;	author LynnwoodBrown;	state Exp;
branches;
next	1.6;

1.6
date	2006.09.30.16.42.06;	author LynnwoodBrown;	state Exp;
branches;
next	1.5;

1.5
date	2006.09.30.05.56.05;	author LynnwoodBrown;	state Exp;
branches;
next	1.4;

1.4
date	2006.09.29.21.10.49;	author LynnwoodBrown;	state Exp;
branches;
next	1.3;

1.3
date	2006.09.23.05.15.09;	author LynnwoodBrown;	state Exp;
branches;
next	1.2;

1.2
date	2006.09.23.01.27.38;	author LynnwoodBrown;	state Exp;
branches;
next	1.1;

1.1
date	2006.09.22.23.44.01;	author LynnwoodBrown;	state Exp;
branches;
next	;


desc
@none
@


1.29
log
@none
@
text
@%META:TOPICINFO{author="LynnwoodBrown" date="1171575380" format="1.1" version="1.29"}%
%META:TOPICPARENT{name="TopicFunction"}%
---+!! Function: %TOPIC%
%FORMFIELD{"Summary"}%

%TOC{depth="2"}%

---++ Documentation
%STARTSECTION{name="documentation" type="section"}%
%TOPIC% is INCLUDED in Classification topics within the specific webs where TopicClassification is used. It includes a SEARCH to list all topics that have that classification as well as filtering by that classifications "facets."

---+++++ Parameters

The following parameters allow customization of how specific Classification topics are displayed. Most can be specified within the INCLUDE or DBCALL but in many cases, it is easier to define them within the base Classification topic. For convenience, all new Classification topics have these listed in a hidden section at the beginning of the topic.


   * CLASS_DESCRIPTION - Optional introductory information about the particular category.
   * ADD_FILTER - Option for including a list filtering UI. Must be set to a TopicFunction to INCLUDE. The basic one is RenderStandardFilter but others could be defined.
   * SEARCH_FORMAT - Optional custom format for search results. Defaults to bulleted list with topic name and the !Summary formfield.
   * HEADER_FORMAT - Optional custom format for search results header. Defaults to empty header.
   * FOOTER_FORMAT - Optional custom format for search results footer. Defaults to "Number of topics found = $count".
   * SEARCH_ORDER - Option for changing the default order for the search. Defaults to "name."
   * SEARCH_REVERSE - Option to reverse the search order. Defaults to "off."

---+++++ Css
   * None
%ENDSECTION{name="documentation" type="section"}%

---++ Implementation
<verbatim>
%STARTINCLUDE%
<span class="twikiRight" style="margin:.25em 0 0 0;" /><form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
<select name="subject" size="1" onchange="document.location=this.value;"> <option>Jump to different <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select></form> </span>
---++!! %SPACEOUT{%BASETOPIC%}%
%IF{"defined CLASS_DESCRIPTION" then="%CLASS_DESCRIPTION%"}%
%IFDEFINED{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%" as="TopicType" then="<p /><form method=\"link\" action=\"$percntSCRIPTURL{view}$percnt/$percntBASEWEB$percnt/CreateNewTopic\"><input type=hidden name=type value=$percntBASETOPIC$percnt><input type=hidden name=step value=two><input type=hidden name=parent value=$percntBASETOPIC$percnt><input type=\"submit\" class=\"twikiButton\" value=\"Create new <nop>$percntBASETOPIC$percnt \" /></form>" else="" glue="off"}%

%IFDEFINED{"%ADD_FILTER%" as=".ADD_FILTER." then=" " else="$percntINCLUDE{$percntADD_FILTER$percnt}$percnt" glue="off"}%

<!-- interrupt glue -->
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" " format="$percntIF{\"$ 'URLPARAM{$1}'!=\''\" then=\" AND $1 =~ '$percntURLPARAM{$1}$percnt'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * [[$web.$topic][$percntSPACEOUT{$topic}$percnt]] - <noautolink>$formfield(Summary)</noautolink>" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" order="%IF{"defined SEARCH_ORDER" then="%SEARCH_ORDER%" else="name" }%" reverse="%IF{"defined SEARCH_REVERSE" then="%SEARCH_REVERSE%" else="off" }%"}%

_For more information on content organization within the *%BASEWEB%* web, see %BASEWEB%.TopicClassification._

%STOPINCLUDE%
</verbatim>

<!-- interrupt glue -->

---++ Test
<div class="alt">
%DBCALL{"%TOPIC%"}%
</div>

%DBCALL{"RenderFunctionCallers"}%

---++ Copyright
<div style="text-align:justify;margin:1em;">
(C) 2006 LynnwoodBrown@@Skyloom.com

%DBCALL{"GnuGeneralPublicLicense" section="notice"}%
</div>

%META:FORM{name="TopicForm"}%
%META:FIELD{name="TopicType" attributes="" title="TopicType" value="TopicFunction"}%
%META:FIELD{name="SubjectArea" attributes="" title="SubjectArea" value=""}%
%META:FIELD{name="Summary" attributes="" title="Summary" value="Renders general layout for !ClassificationTopics."}%
%META:TOPICMOVED{by="LynnwoodBrown" date="1159763122" from="TCAO2.RenderCategory" to="TCAO2.RenderClassificationTopic"}%
%META:REVCOMMENT{ncomments="0"}%
@


1.28
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1170194326" format="1.1" version="1.28"}%
d38 1
a38 1
%IFDEFINED{"%ADD_FILTER%" as=".ADD_FILTER." then=" " else="<div class=patternTopicAction>$percntINCLUDE{$percntADD_FILTER$percnt}$percnt</div><p />" glue="off"}%
@


1.27
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1169705973" format="1.1" reprev="1.27" version="1.27"}%
d32 1
a32 1
<span class="twikiRight" ><p style="margin:.25em 0 0 0;" /><form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
d69 1
a69 1
%META:REVCOMMENT{comment_1=" " minor_1="1" ncomments="1" rev_1="25" t_1="1167673559"}%
@


1.26
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1167858868" format="1.1" version="1.26"}%
@


1.25
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1167673835" format="1.1" reprev="1.25" version="1.25"}%
d32 1
a32 1
<span class="twikiRight" style="bottom-margin:1.5em;"><p style="margin:.25em 0 0 0;" /><form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
a63 2


d66 1
@


1.24
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1167340439" format="1.1" reprev="1.24" version="1.24"}%
d41 1
a41 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="$percntIF{\"$ 'URLPARAM{$1}'!=\''\" then=\" AND $1 =~ '%URLPARAM{$1}%'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * [[$web.$topic][$percntSPACEOUT{$topic}$percnt]] - <noautolink>$formfield(Summary)</noautolink>" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" order="%IF{"defined SEARCH_ORDER" then="%SEARCH_ORDER%" else="name" }%" reverse="%IF{"defined SEARCH_REVERSE" then="%SEARCH_REVERSE%" else="off" }%"}%
d70 1
a70 1
%META:REVCOMMENT{comment_1=" " minor_1="1" ncomments="1" rev_1="24" t_1="1167339959"}%
@


1.23
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1167314827" format="1.1" reprev="1.23" version="1.23"}%
d14 4
a18 5
   * SEARCH_ORDER - Option for changing the default order for the search. Defaults to "name."
   * SEARCH_REVERSE - Option to reverse the search order. Defaults to "off."

Optional Topic settings:
   * CATEGORY_DESCRIPTION - Optional introductory information about the particular category.
d22 2
a23 1
   * CATEGORY_EXTRA - _Not implemented yet._ Optional additional form elements.
d33 4
a36 4
<select name="subject" size="1" onchange="document.location=this.value;"> <option>View other <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%s...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select></form> </span>
---++!! %SPACEOUT{%BASETOPIC%}%s
%IF{"defined CATEGORY_DESCRIPTION" then="%CATEGORY_DESCRIPTION%"}%
%IFDEFINED{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%" as="TopicType" then="<p /><form method=\"link\" action=\$percntSCRIPTURL{view}$percnt/$percntBASEWEB$percnt/CreateNewTopic?type=$percntBASETOPIC$percnt&step=two&parent=$percntBASETOPIC$percnt\"><input type=\"submit\" class=\"twikiButton\" value=\"Create new <nop>$percntBASETOPIC$percnt \" /></form>" else="" glue="off"}%
d67 1
a67 1
%META:FIELD{name="TopicType" attributes="M" title="TopicType" value="TopicFunction"}%
a68 1
%META:FIELD{name="TWikiApplication" attributes="" title="TWikiApplication" value="TopicClassification"}%
d70 1
a70 1
%META:REVCOMMENT{comment_1=" " minor_1="1" ncomments="1" rev_1="23" t_1="1167307534"}%
@


1.22
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1167259341" format="1.1" version="1.22"}%
d32 3
a34 1
---++!! %SPACEOUT{%BASETOPIC%}% Topics
d36 1
d38 1
a38 7
<div class=" patternTopicAction" >
<span class="twikiRight" style="bottom-margin:1.5em;"><form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
<select name="subject" size="1" onchange="document.location=this.value;"> <option>View other <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%s...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select></form> </span>
%INCLUDE{%ADD_FILTER%}%
</div>
<p />
%IFDEFINED{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%" as="TopicType" then="<a href=\"$percntSCRIPTURL{view}$percnt/$percntBASEWEB$percnt/CreateNewTopic?type=$percntBASETOPIC$percnt&step=two&parent=$percntBASETOPIC$percnt\"><em>Create new <nop>$percntBASETOPIC$percnt topic</em></a>" else="" glue="off"}%
d41 1
a41 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="$percntIF{\"$ 'URLPARAM{$1}'!=''\" then=\" AND $1 =~ '%URLPARAM{$1}%'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * [[$web.$topic][$percntSPACEOUT{$topic}$percnt]] - <noautolink>$formfield(Summary)</noautolink>" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" order="%IF{"defined SEARCH_ORDER" then="%SEARCH_ORDER%" else="name" }%" reverse="%IF{"defined SEARCH_REVERSE" then="%SEARCH_REVERSE%" else="off" }%"}%
d71 1
a71 1
%META:REVCOMMENT{ncomments="0"}%
@


1.21
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1163637480" format="1.1" version="1.21"}%
d15 2
d44 1
a44 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="$percntIF{\"$ 'URLPARAM{$1}'!=''\" then=\" AND $1 =~ '%URLPARAM{$1}%'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * [[$web.$topic][$percntSPACEOUT{$topic}$percnt]] - <noautolink>$formfield(Summary)</noautolink>" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" }%
@


1.20
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1162536236" format="1.1" version="1.20"}%
d39 1
a39 1
%IFDEFINED{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%" as="TopicType" then="<a href=\"$percntSCRIPTURL{view}$percnt/$percntBASEWEB$percnt/CreateNewTopic?type=$percntBASETOPIC$percnt&step=two\"><em>Create new <nop>$percntBASETOPIC$percnt topic</em></a>" else="" glue="off"}%
d72 1
@


1.19
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1162411514" format="1.1" reprev="1.19" version="1.19"}%
d42 1
a42 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="$percntIF{\"$ 'URLPARAM{$1}'!=''\" then=\" AND $1 =~ '%URLPARAM{$1}%'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - <noautolink>$formfield(Summary)</noautolink>" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" }%
@


1.18
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1162404372" format="1.1" version="1.18"}%
d42 1
a42 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="$percntIF{\"$ 'URLPARAM{$1}'!=''\" then=\" AND $1 =~ '%URLPARAM{$1}%'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - $formfield(Summary)" }%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else="" }%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="$n$n Number of topics found: $count" }%"  limit="%URLPARAM{"limit" default="25"}%" }%
@


1.17
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1162399105" format="1.1" reprev="1.17" version="1.17"}%
@


1.16
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1162319286" format="1.1" reprev="1.16" version="1.16"}%
a13 1
   * CATEGORY_DESCRIPTION - Optional introductory information about the particular category.
d16 2
a17 1
Optiona; Topic settings:
@


1.15
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1161988554" format="1.1" reprev="1.15" version="1.15"}%
a35 1
%IFDEFINEDTHEN{"%ADD_FILTER%" glue="off"}%
a36 1
%FIDEFINED%
d41 2
a42 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="$percntIF{\"$ 'URLPARAM{$1}'!=''\" then=\" AND $1 =~ '%URLPARAM{$1}%'\"}$percnt"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - $formfield(Summary)"}%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else=""}%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="Number of topics found: $count"}%"  limit="%URLPARAM{"limit" default="25"}%" }%
@


1.14
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1161238954" format="1.1" version="1.14"}%
d15 1
d33 2
a34 2
<div class=" patternTopicAction">
<span class="twikiRight"><form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
d36 3
a38 11
%TWISTY{id="topicfilters" showlink=" *Show topic filters* " showimg="%ICONURLPATH{toggleopen-small}%"
hidelink=" *Hide topic filters* " hideimg="%ICONURLPATH{toggleclose-small}%" mode="div" remember="on"}%
<noautolink>
<form name="filterList" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/%BASETOPIC%" >
%FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="|    Filter by $1: | <select name=\"$1\" size=\"1\"  > <option value=\"%URLPARAM{$1}%\">Select...</option> $percntDBQUERY{\"$percntDBQUERY{\".\" topic=\"$1\" web=\"%BASEWEB%\" format=\"$formfield(Classification)\"}$percnt='$1'\" web=\"%BASEWEB%\" format=\"<option>$topic</option>\" separator=\" \" }$percnt</select>    | "}%
|   Find word or phrase: | <input class="twikiInputField" type="text" name="string" value="%URLPARAM{"string"}%" size="35" />   |
|   Number of results to display: | <select name="limit" size="1" > <option value='%URLPARAM{"limit" default="25" }%'>%URLPARAM{"limit" default="25" }%</option><option>50</option><option>100</option><option>200</option><option value="all">All</option></select>    |
| <input type="submit" class="twikiSubmit" value='Apply Filter' >    ||
</form>
</noautolink>
%ENDTWISTY%
d40 2
d71 1
a71 1
%META:FIELD{name="TWikiApplication" attributes="" title="TWikiApplication" value="TopicClassificationAddOn"}%
@


1.13
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1160086713" format="1.1" reprev="1.13" version="1.13"}%
d39 1
a39 1
%FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" $n" format="|    Filter by $1: | <select name=\"$1\" size=\"1\"  > <option value=\"%URLPARAM{$1}%\">Select...</option> $percntDBQUERY{\"Classification='$1'\" web=\"%BASEWEB%\" format=\"<option>$topic</option>\" separator=\" \" }$percnt</select>    | "}%
@


1.12
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159997714" format="1.1" reprev="1.12" version="1.12"}%
a51 1
%DBCALL{"%IF{"$ 'FORMFIELD{\"Classification\" topic=\"%BASEWEB%.%BASETOPIC%\"}' = 'Classification'" then="%TCAOWEB%.RenderClassTopicCreator"}%"}%
d62 1
a62 1
%DBCALL{"%APPLIB%.RenderFunctionCallers"}%
d68 1
a68 1
%DBCALL{"%APPLIB%.GnuGeneralPublicLicense" section="notice"}%
a71 4
<!--
   * Set SIDEBAR = TopicType
   * Set SIDEBARARG = TopicFunction
-->
@


1.11
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159979767" format="1.1" reprev="1.11" version="1.11"}%
d51 2
a52 1
%STOPINCLUDE%
@


1.10
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159942332" format="1.1" reprev="1.10" version="1.10"}%
d39 1
a39 3
%IF{"$ EMPTYFACETS = 'yes'" then="" else="$percntFOREACH{"facet" in="%FACETS%" }$percnt
|    Filter by <nop>$facet: | <select name=\"$facet\" size=\"1\"  > <option value=\"%URLPARAM{$facet}%\">Select...</option> $percntDBQUERY{"Classification='$facet'" web="%BASEWEB%" format="<option>$topic</option>" separator=" " }$percnt</select>    |  
$percntNEXT{"facet"}$percnt"}%
d48 1
a48 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %IF{"$ FACETSEARCH !=''" then="%FACETSEARCH%"}% %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%"  web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - $formfield(Summary)"}%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else=""}%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="Number of topics found: $count"}%"  limit="%URLPARAM{"limit" default="25"}%" }%
@


1.9
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159920402" format="1.1" reprev="1.9" version="1.9"}%
d37 1
d39 3
a41 1
%INCLUDE{"%IF{"$ FACETS!=''" then="%TCAOWEB%.RenderFacetSelectors"}%" }%
d44 1
a44 1
|| <input type="submit" class="twikiSubmit" value='Apply Filter' >    |
d46 1
d50 1
a50 3
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %IF{"$ FACETS!=''" then="%FOREACH{"facet" in="%FACETS%"}% %IF{"$'URLPARAM{$facet}'!=''" then=" AND $facet =~ '%URLPARAM{$facet}%'"}%%NEXT{"facet"}%
~~~ %IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%" 
~~~ web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - $formfield(Summary)"}%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else=""}%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="Number of topics found: $count"}%"  limit="%URLPARAM{"limit" default="25"}%" }%
@


1.8
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159892077" format="1.1" version="1.8"}%
d34 1
a34 2
<select name="subject" size="1" onchange="document.location=this.value;"> <option>View other <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%s...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select>
</form> </span>
d36 1
a36 2
hidelink=" *Hide topic filters* " hideimg="%ICONURLPATH{toggleclose-small}%"
mode="div" remember="on"}%
d38 1
a38 3
%FOREACH{"facet" in="%FACETS%"}%
|    Filter by <nop>$facet: | <select name="$facet" size="1" > <option value="%URLPARAM{$facet}%">Select...</option>$percntDBQUERY{"Classification='$facet'" web="%BASEWEB%" format="<option>$topic</option>" separator=" " }$percnt </select>    | 
%NEXT{"facet"}%
d46 3
a48 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FOREACH{"facet" in="%FACETS%"}%%IF{"$'URLPARAM{$facet}'!=''" then=" AND $facet =~ '%URLPARAM{$facet}%'"}%%NEXT{"facet"}%%IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%" web="%BASEWEB%" regex="on" format="%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - $formfield(TopicHeadline)"}%" header="%IF{"defined HEADER_FORMAT" then="%HEADER_FORMAT%" else=""}%" footer="%IF{"defined FOOTER_FORMAT" then="%FOOTER_FORMAT%" else="Number of topics found: $count"}%"  limit="%URLPARAM{"limit" default="25"}%" }%
d80 1
a80 1
%META:FIELD{name="TWikiApplication" attributes="" title="TWikiApplication" value="TopicClassification"}%
@


1.7
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159766049" format="1.1" reprev="1.7" version="1.7"}%
d17 1
a17 1
   * SEARCH_FORMAT - Optional custom format for search results. Defaults to bulleted list with topic name and the !TopicHeadline formfield.
@


1.6
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159634526" format="1.1" reprev="1.6" version="1.6"}%
d18 2
d50 1
a50 1
%DBQUERY{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% =~ '%BASETOPIC%' %FOREACH{"facet" in="%FACETS%"}%%IF{"$'URLPARAM{$facet}'!=''" then=" AND $facet =~ '%URLPARAM{$facet}%'"}%%NEXT{"facet"}%%IF{ "$'URLPARAM{string}'!=''" then=" AND lc(text) =~ lc('%URLPARAM{string}%')" }%" web="%BASEWEB%" regex="on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "%IF{"defined SEARCH_FORMAT" then="%SEARCH_FORMAT%" else="   * $web.$topic - $formfield(TopicHeadline)"}%" limit="%URLPARAM{"limit" default="25"}%" }%
d81 1
a81 1
%META:FIELD{name="Summary" attributes="" title="Summary" value="Template to create TopicFunctions"}%
d83 1
a83 1
%META:TOPICMOVED{by="LynnwoodBrown" date="1159633239" from="TCAO2.RenderCategoryFilter" to="TCAO2.RenderCategory"}%
@


1.5
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159595765" format="1.1" reprev="1.5" version="1.5"}%
d10 1
a10 1
%RED%TODO%ENDCOLOR%
d13 6
a18 1
   * FACETS
d21 1
a21 1
   * 
d27 3
d47 5
d81 1
a81 1
%META:TOPICMOVED{by="LynnwoodBrown" date="1159561441" from="TCAO2.RenderFilterByFacetSelectors" to="TCAO2.RenderCategoryFilter"}%
@


1.4
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1159564249" format="1.1" reprev="1.4" version="1.4"}%
d22 7
a29 1
*Filter topic list by:* <br />
d31 1
a31 1
*$facet:* <select name="$facet" > <option value="%URLPARAM{$facet}%">Select...</option> $percntDBQUERY{"Classification='$facet'" web="%BASEWEB%" format="<option>$topic</option>" separator="" }$percnt </select> %BR%
d33 3
a35 8
*Search for string:* <input class="twikiInputField" type="text" name="string" value="%URLPARAM{"string"}%" size="20" /> <br />
*Display # results:* <select name="limit" size="1" > <option value='%URLPARAM{"limit" default="25" }%'>%URLPARAM{"limit" default="25" }%</option><option>50</option><option>100</option><option>200</option><option value="all">All</option></select> <br />
<input type="submit" class="twikiSubmit" value='Apply Filter' >
</form>
---
*View other <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}% Topics:* %BR%
<form name="browseSubjects" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
<select name="subject" size="1" onchange="document.location=this.value;"> <option><Nop>Select...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select>
d37 2
a41 2
%CALC{"$LISTMAP($NOP(%)DBQUERY{"Classification='$item'" web="%BASEWEB%" format="$topic" separator=" " }$NOP(%) *$item:*  <select name="$item" > <option value="%URLPARAM{$item}%">Select...<option> %DBQUERY{"Classification='$item'" web="%BASEWEB%" format="<option>$topic</option>" separator=" " }% </select>, <noautolink>%FACETS%</noautolink>)"}%

@


1.3
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1158988509" format="1.1" reprev="1.3" version="1.3"}%
d22 2
d27 9
d67 1
@


1.2
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1158974858" format="1.1" reprev="1.2" version="1.2"}%
d13 1
a13 1
   * 
d22 3
a24 1
%CALC{"$LISTMAP(*$item:*  <select name="$item" > <option value="%URLPARAM{SubjectArea}%">Select...<option> %DBQUERY{"Classification='$item'" web="%BASEWEB% format="<option>$topic</option>" separator=" " }% </select>, <noautolink>%FACETS%</noautolink>)"}%
d28 1
a28 2
%CALC{"$LISTMAP(*Select $item: %BR% <select name="$item">%DBQUERY{"Classification='$item' format="<option>$topic</option> separator=""}% </select> %BR% , %FORMFIELD{"Facet" topic=%BASETOPIC%}% )"}%
%STOPINCLUDE%
@


1.1
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1158968641" format="1.1" reprev="1.1" version="1.1"}%
d22 1
a22 2
%FACETS%
%CALC{"$LISTMAP(*Select $item: <select name="$item">%DBQUERY{"Classification='$item'" format="<option>$topic</option>" separator=""}% </select> , %FACETS%"}%
@
