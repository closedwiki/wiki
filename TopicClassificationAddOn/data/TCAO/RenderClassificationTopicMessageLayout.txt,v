head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2007.02.20.04.39.35;	author LynnwoodBrown;	state Exp;
branches;
next	1.5;

1.5
date	2007.02.19.21.00.41;	author LynnwoodBrown;	state Exp;
branches;
next	1.4;

1.4
date	2007.02.16.23.43.35;	author LynnwoodBrown;	state Exp;
branches;
next	1.3;

1.3
date	2007.02.16.04.13.14;	author LynnwoodBrown;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.16.00.40.05;	author LynnwoodBrown;	state Exp;
branches;
next	1.1;

1.1
date	2007.02.15.22.49.09;	author LynnwoodBrown;	state Exp;
branches;
next	;


desc
@none
@


1.6
log
@none
@
text
@%META:TOPICINFO{author="LynnwoodBrown" date="1171946375" format="1.1" reprev="1.6" version="1.6"}%
%META:TOPICPARENT{name="TopicFunction"}%
---+!! Function: %TOPIC%
%FORMFIELD{"Summary"}%

%TOC{depth="2"}%

---++ Documentation
%STARTSECTION{name="documentation" type="section"}%
This is a layout for TopicTypes that are messages and have comments. The counting of comments depends on the each comment being marked with "COMMENT_TAG" string which can be hidden in html comment tags.

---+++++ Parameters
   * 

---+++++ Css
   * 
%ENDSECTION{name="documentation" type="section"}%

---++ Implementation
<verbatim>
%STARTINCLUDE%
<span class="twikiRight" style="margin:.25em 0 0 0;" /><form name="browseClasses" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/" >
<select name="subject" size="1" onchange="document.location=this.value;"> <option>Jump to different <nop>%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%...</option>%DBQUERY{ "Classification='%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%'" web="%BASEWEB%"  exclude="%BASETOPIC%" regex= "on" noheader="on" nosearch="on" nosummary="on" nototal="on" order="topic" format= "<option>$topic</option>" }% </select></form> </span>
---++!! %SPACEOUT{%BASETOPIC%}%
%IF{"defined CLASS_DESCRIPTION" then="%CLASS_DESCRIPTION%"}%
%IFDEFINED{"%FORMFIELD{"Classification" topic="%BASEWEB%.%BASETOPIC%"}%" as="TopicType" then="<p /><form method=\"link\" action=\"$percntSCRIPTURL{view}$percnt/$percntBASEWEB$percnt/CreateNewTopic\"><input type=hidden name=type value=$percntBASETOPIC$percnt><input type=hidden name=step value=two><input type=hidden name=parent value=$percntBASETOPIC$percnt><input type=\"submit\" class=\"twikiButton\" value=\"Create new <nop>$percntBASETOPIC$percnt \" /></form>" else="" glue="off"}%

%DBCALL{"%TCAOWEB%.RenderBarFilterWithSort"}%
%~~  SEARCH{
~~~    %DBCALL{"%TCAOWEB%.RenderSearchString" FORSEARCH="yes"}%
~~~    web="%BASEWEB%" 
~~~    type="regex" 
~~~    nonoise="on" 
~~~    reverse="on" 
~~~    newline="%BR%" 
~~~    separator="$n$n"
~~~    format="<h3>[[$web.$topic][$percntSPACEOUT{$topic}$percnt]] </h3>
~~~       <span class=twikiSmall><em>
~~~          Posted $createdate by $createwikiusername $percntIFDEFINED{\"$formfield(SubjectArea)\" then=\" 
~~~          in <noautolink>$formfield(SubjectArea)</noautolink>\"}$percnt &nbsp; |  
~~~          $percntIFDEFINED{\"$count(.*?(COMMENT_TAG) .*)\" as=\"1\" then=\"$test comment\" else=\"$test comments\" glue=\"off\" }$percnt
~~~       </em></span> $percntBR$percnt $percntBR$percnt
~~~       $pattern(.*?---[+]*.*?[\n\r]+(.*?)[\n\r]+.*)  _[[$web.$topic][continued...]]_ " 
~~~    }%
%STOPINCLUDE%
</verbatim>

<!-- interrupt glue -->

---++ Test
<div class="alt">
%DBCALL{"%TOPIC%" TOPICTYPES="HelpTopic|MasterTopic"}%
</div>

%DBCALL{"RenderFunctionCallers"}%

---++ Copyright
<div style="text-align:justify;margin:1em;">
(C) 2006 LynnwoodBrown@@Skyloom.com

%DBCALL{"GnuGeneralPublicLicense" section="notice"}%
</div>


<!--
   * Set SIDEBAR = TopicType
   * Set SIDEBARARG = TopicFunction
-->

%META:FORM{name="TCAO.TopicForm"}%
%META:FIELD{name="TopicType" attributes="" title="TopicType" value="TopicFunction"}%
%META:FIELD{name="SubjectArea" attributes="" title="SubjectArea" value="TcaoUse"}%
%META:FIELD{name="Summary" attributes="" title="Summary" value="Displays short intro to topic with number of comments"}%
%META:REVCOMMENT{ncomments="0"}%
@


1.5
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171918841" format="1.1" reprev="1.5" version="1.5"}%
d29 2
a30 6
%~~  SEARCH{"[T]opicType.*value\=
*~~  .*%BASETOPIC%
*~~   
%~~  FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" " 
~~~       format="$percntIF{ \"$'URLPARAM{$1}'!=''\" then=\";$1.*value\=.*$percntURLPARAM{$1}$percnt\" }$percnt"
~~~    }%"
a33 1
~~~    order="%URLPARAM{"sort" default="created"}%"  
a34 1
~~~    limit="%URLPARAM{"limit" default="20"}%" 
@


1.4
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171669415" format="1.1" reprev="1.4" version="1.4"}%
d28 1
a28 24
<div class=patternTopicAction>
<noautolink>
<form name="filterList" action="%SCRIPTURLPATH%/view%SCRIPTSUFFIX%/%BASEWEB%/%BASETOPIC%" >
| *Filter by:*  
~~~
%~~  FORMATLIST{"%FORMFIELD{"Facets" topic="%BASEWEB%.%BASETOPIC%"}%" separator=" " 
~~~       format="<select name=\"$1\" size=\"1\"  > <option value=\"\"><nop>$1...</option> 
~~~           $percntDBQUERY{\"$percntFORMFIELD{\"Classification\" topic=\"%BASEWEB%.$1\" }$percnt='$1'\" web=\"%BASEWEB%\" 
~~~              format=\"<option $dollarpercntIF{\\"$'URLPARAM{$1}'='$topic'\\" then=\\"selected\\" else=\\" \\"}$dollarpercnt>$topic</option>\" 
~~~       separator=\" \" }$percnt</select>" 
~~~   }%   
~~~   *String:* <input class="twikiInputField" type="text" name="string" value="%URLPARAM{"string"}%" size="15" />
~~~     | *Sort by:* 
~~~     <input type="radio" name="sort" value="created" %IFDEFINED{"%URLPARAM{"sort" default="created"}%" as="created" then="checked" glue="off"}% >Date Created  
~~~     <input type="radio" name="sort" value="modified" %IFDEFINED{"%URLPARAM{"sort"}%" as="modified" then="checked"}% >Date Modified  |
~~~  *Limit # results:* <select name="limit"> 
~~~         <option %IFDEFINED{"%URLPARAM{"limit" default="20"}%" as="20" then="selected" glue="off"}% >20</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit}%" as="50" then="selected" glue="off"}%>50</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit}%" as="100" then="selected" glue="off"}%>100</option>
~~~         <option %IFDEFINED{"%URLPARAM{limit}%" as="all" then="selected" glue="off"}%>all</option>
~~~    </select> | 
~~~  <input type="submit" value="Apply"> |
 </form></noautolink></div>

@


1.3
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171599194" format="1.1" reprev="1.3" version="1.3"}%
d10 1
a10 1
%RED%TODO%ENDCOLOR%
d70 1
a70 1
~~~          $percntIFDEFINED{\"$count(.*?(---[+][+][+][+]) .*)\" as=\"1\" then=\"$test comment\" else=\"$test comments\" glue=\"off\" }$percnt
@


1.2
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1171586405" format="1.1" reprev="1.2" version="1.2"}%
d52 3
a54 2
<noautolink>
[T]opicType.*value\=.*%BASETOPIC%
d57 1
a57 4
~~~    }%
</noautolink>

%~~  SEARCH{"%SEARCHSTRING%"
d101 1
@


1.1
log
@none
@
text
@d1 1
a1 1
%META:TOPICINFO{author="LynnwoodBrown" date="1169696851" format="1.1" reprev="1.2" version="1.2"}%
d13 1
a13 1
   * TOPICTYPES - Which !TopicTypes to include. Enter with "bar" ("|") between.
d22 21
a42 6

<div class="patternTopicAction">
<form name="listOptions" action="%SCRIPTURL{view}%/%BASEWEB%/%BASETOPIC%">
| *Sort by:* <input type="radio" name="sort" value="created" 
~~~   %IFDEFINED{"%URLPARAM{"sort" default="created"}%" as="created" then="checked" glue="off"}% >Date Created  
~~~  <input type="radio" name="sort" value="modified" %IFDEFINED{"%URLPARAM{"sort"}%" as="modified" then="checked"}% >Date Modified  |
d48 1
a48 1
~~~    </select> |
d50 8
a57 1
 </form></div>
d59 1
a59 1
%~~  SEARCH{"[T]opicType.*value\=.*(%TOPICTYPES%)" 
@
