<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 0.61
Devel::Cover is copyright 2001-2006, Paul Johnson (pjcj@cpan.org)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: /usr/share/perl5/TWiki/Plugins/TablePlugin/Core.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">/usr/share/perl5/TWiki/Plugins/TablePlugin/Core.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">54.7%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Plugin for TWiki Enterprise Collaboration Platform, http://TWiki.org/</td></tr>
<tr><td class="h">2</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">3</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Copyright (C) 2001-2003 John Talintyre, jet@cheerful.com</td></tr>
<tr><td class="h">4</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Copyright (C) 2001-2004 Peter Thoeny, peter@thoeny.org</td></tr>
<tr><td class="h">5</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Copyright (C) 2005-2006 TWiki Contributors</td></tr>
<tr><td class="h">6</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">7</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This program is free software; you can redistribute it and/or</td></tr>
<tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td class="s"># modify it under the terms of the GNU General Public License</td></tr>
<tr><td class="h">9</td><td></td><td></td><td></td><td></td><td></td><td class="s"># as published by the Free Software Foundation; either version 2</td></tr>
<tr><td class="h">10</td><td></td><td></td><td></td><td></td><td></td><td class="s"># of the License, or (at your option) any later version. For</td></tr>
<tr><td class="h">11</td><td></td><td></td><td></td><td></td><td></td><td class="s"># more details read LICENSE in the root of this distribution.</td></tr>
<tr><td class="h">12</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This program is distributed in the hope that it will be useful,</td></tr>
<tr><td class="h">14</td><td></td><td></td><td></td><td></td><td></td><td class="s"># but WITHOUT ANY WARRANTY; without even the implied warranty of</td></tr>
<tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td class="s"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td></tr>
<tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td class="s"># GNU General Public License for more details, published at</td></tr>
<tr><td class="h">17</td><td></td><td></td><td></td><td></td><td></td><td class="s"># http://www.gnu.org/copyleft/gpl.html</td></tr>
<tr><td class="h">18</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">19</td><td></td><td></td><td></td><td></td><td></td><td class="s"># As per the GPL, removal of this notice is prohibited.</td></tr>
<tr><td class="h">20</td><td colspan="6"></td></tr><tr><td class="h">21</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L21">1</a></div></td><td><div>8</div><div>3</div><div>7</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">22</td><td colspan="6"></td></tr><tr><td class="h">23</td><td></td><td></td><td></td><td></td><td></td><td class="s">package TWiki::Plugins::TablePlugin::Core;</td></tr>
<tr><td class="h">24</td><td colspan="6"></td></tr><tr><td class="h">25</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L25">1</a></div></td><td><div>7</div><div>2</div><div>14</div></td><td class="s">use Time::Local;</td></tr>
<tr><td class="h">26</td><td colspan="6"></td></tr><tr><td class="h">27</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">use vars qw( $translationToken</td></tr>
<tr><td class="h">28</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$insideTABLE $tableCount @curTable $sortCol $maxSortCols $requestedTable $up</td></tr>
<tr><td class="h">29</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$sortTablesInText $sortAttachments $currTablePre $sortColFromUrl</td></tr>
<tr><td class="h">30</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$tableWidth @columnWidths</td></tr>
<tr><td class="h">31</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$tableBorder $tableFrame $tableRules $cellPadding $cellSpacing $cellBorder</td></tr>
<tr><td class="h">32</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;@headerAlign @dataAlign $vAlign $headerVAlign $dataVAlign</td></tr>
<tr><td class="h">33</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$headerBg $headerBgSorted $headerColor $sortAllTables $twoCol @dataBg @dataBgSorted @dataColor</td></tr>
<tr><td class="h">34</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;@isoMonth</td></tr>
<tr><td class="h">35</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$headerRows $footerRows</td></tr>
<tr><td class="h">36</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$upchar $downchar $diamondchar $url</td></tr>
<tr><td class="h">37</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;@isoMonth %mon2num $initSort $initDirection $currentSortDirection</td></tr>
<tr><td class="h">38</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;@rowspan $pluginAttrs $prefsAttrs $tableId $tableSummary $tableCaption</td></tr>
<tr><td class="h">39</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$iconUrl $unsortEnabled</td></tr>
<tr><td class="h">40</td><td><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L40">1</a></div></td><td><div>8</div><div>3</div></td><td class="s">&nbsp;&nbsp;%sortDirection %columnType );</td></tr>
<tr><td class="h">41</td><td colspan="6"></td></tr><tr><td class="h">42</td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">43</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L43">1</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$translationToken = &quot;\0&quot;;</td></tr>
<tr><td class="h">44</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$currTablePre     = &#39;&#39;;</td></tr>
<tr><td class="h">45</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$upchar           = &#39;&#39;;</td></tr>
<tr><td class="h">46</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$downchar         = &#39;&#39;;</td></tr>
<tr><td class="h">47</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$diamondchar      = &#39;&#39;;</td></tr>
<tr><td class="h">48</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@isoMonth         = (</td></tr>
<tr><td class="h">49</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Jan&#39;, &#39;Feb&#39;, &#39;Mar&#39;, &#39;Apr&#39;, &#39;May&#39;, &#39;Jun&#39;,</td></tr>
<tr><td class="h">50</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Jul&#39;, &#39;Aug&#39;, &#39;Sep&#39;, &#39;Oct&#39;, &#39;Nov&#39;, &#39;Dec&#39;</td></tr>
<tr><td class="h">51</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">52</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">53</td><td><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $count = 0;</td></tr>
<tr><td class="h">54</td><td><div class="c3">1</div><div class="c3">12</div></td><td></td><td></td><td></td><td><div>4</div><div>63</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%mon2num = map { $_ =&gt; $count++ } @isoMonth;</td></tr>
<tr><td class="h">55</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">56</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;%sortDirection = ( &#39;ASCENDING&#39;, 0, &#39;DESCENDING&#39;, 1, &#39;NONE&#39;, 2 );</td></tr>
<tr><td class="h">57</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;%columnType = (</td></tr>
<tr><td class="h">58</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;TEXT&#39;,   &#39;text&#39;,   &#39;DATE&#39;,      &#39;date&#39;,</td></tr>
<tr><td class="h">59</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;NUMBER&#39;, &#39;number&#39;, &#39;UNDEFINED&#39;, &#39;undefined&#39;</td></tr>
<tr><td class="h">60</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">61</td><td colspan="6"></td></tr><tr><td class="h">62</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# the maximum number of columns we will handle</td></tr>
<tr><td class="h">63</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$maxSortCols = 10000;</td></tr>
<tr><td class="h">64</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$iconUrl =</td></tr>
<tr><td class="h">65</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TWiki::Func::getPubUrlPath() . &#39;/&#39;</td></tr>
<tr><td class="h">66</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $TWiki::Plugins::TablePlugin::installWeb</td></tr>
<tr><td class="h">67</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &#39;/TablePlugin/&#39;;</td></tr>
<tr><td class="h">68</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$unsortEnabled = 1;    # if true, table columns can be unsorted</td></tr>
<tr><td class="h">69</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">70</td><td colspan="6"></td></tr><tr><td class="h">71</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _setDefaults {</td></tr>
<tr><td class="h">72</td><td><div class="c3">32</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L72">32</a></div></td><td><div>106</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$sortAllTables  = $sortTablesInText;</td></tr>
<tr><td class="h">73</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>108</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableBorder    = 1;</td></tr>
<tr><td class="h">74</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>106</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableFrame     = &#39;&#39;;</td></tr>
<tr><td class="h">75</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>94</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableRules     = &#39;&#39;;</td></tr>
<tr><td class="h">76</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>93</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$cellSpacing    = 0;</td></tr>
<tr><td class="h">77</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>87</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$cellPadding    = 0;</td></tr>
<tr><td class="h">78</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>91</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$cellBorder     = &#39;&#39;;</td></tr>
<tr><td class="h">79</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>97</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableWidth     = &#39;&#39;;</td></tr>
<tr><td class="h">80</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>103</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@columnWidths   = ();</td></tr>
<tr><td class="h">81</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>87</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerRows     = 1;</td></tr>
<tr><td class="h">82</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>95</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$footerRows     = 0;</td></tr>
<tr><td class="h">83</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>108</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@headerAlign    = ();</td></tr>
<tr><td class="h">84</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>101</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataAlign      = ();</td></tr>
<tr><td class="h">85</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>92</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$vAlign         = &#39;&#39;;</td></tr>
<tr><td class="h">86</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>91</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerVAlign   = &#39;&#39;;</td></tr>
<tr><td class="h">87</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>97</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dataVAlign     = &#39;&#39;;</td></tr>
<tr><td class="h">88</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>89</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerBg       = &#39;#6b7f93&#39;;</td></tr>
<tr><td class="h">89</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>98</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerBgSorted = &#39;&#39;;</td></tr>
<tr><td class="h">90</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>89</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerColor    = &#39;#ffffff&#39;;</td></tr>
<tr><td class="h">91</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>138</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataBg         = ( &#39;#ecf2f8&#39;, &#39;#ffffff&#39; );</td></tr>
<tr><td class="h">92</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>113</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataBgSorted   = ();</td></tr>
<tr><td class="h">93</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>95</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataColor      = ();</td></tr>
<tr><td class="h">94</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>95</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableId        = &#39;&#39;;</td></tr>
<tr><td class="h">95</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>91</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableSummary   = &#39;&#39;;</td></tr>
<tr><td class="h">96</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>102</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableCaption   = &#39;&#39;;</td></tr>
<tr><td class="h">97</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>93</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $initSort;</td></tr>
<tr><td class="h">98</td><td colspan="6"></td></tr><tr><td class="h">99</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>132</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_parseParameters($pluginAttrs);</td></tr>
<tr><td class="h">100</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>128</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_parseParameters($prefsAttrs);    # Preferences setting</td></tr>
<tr><td class="h">101</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">102</td><td colspan="6"></td></tr><tr><td class="h">103</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Table attributes defined as a Plugin setting, a preferences setting</td></tr>
<tr><td class="h">104</td><td></td><td></td><td></td><td></td><td></td><td class="s"># e.g. in WebPreferences or as a %TABLE{...}% setting</td></tr>
<tr><td class="h">105</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _parseParameters {</td></tr>
<tr><td class="h">106</td><td><div class="c3">95</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L106">95</a></div></td><td><div>375</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($args) = @_;</td></tr>
<tr><td class="h">107</td><td colspan="6"></td></tr><tr><td class="h">108</td><td><div class="c3">95</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L108">100</a></div></td><td></td><td></td><td><div>434</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;&#39; unless ( defined($args) );</td></tr>
<tr><td class="h">109</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L109">50</a></div></td><td></td><td></td><td><div>383</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;&#39; unless ( $args =~ /\S/ );</td></tr>
<tr><td class="h">110</td><td colspan="6"></td></tr><tr><td class="h">111</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>297</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %params = TWiki::Func::extractParameters($args);</td></tr>
<tr><td class="h">112</td><td colspan="6"></td></tr><tr><td class="h">113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Defines which column to initially sort : ShawnBradford 20020221</td></tr>
<tr><td class="h">114</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>245</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $tmp = $params{initsort};</td></tr>
<tr><td class="h">115</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L115">50</a></div></td><td></td><td></td><td><div>278</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$initSort = $tmp if ($tmp);</td></tr>
<tr><td class="h">116</td><td colspan="6"></td></tr><tr><td class="h">117</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Defines which direction to sort the column set by initsort :</td></tr>
<tr><td class="h">118</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# ShawnBradford 20020221</td></tr>
<tr><td class="h">119</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>208</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp           = $params{initdirection};</td></tr>
<tr><td class="h">120</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L120">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L120">33</a></div></td><td></td><td><div>380</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$initDirection = $sortDirection{&#39;ASCENDING&#39;}</td></tr>
<tr><td class="h">121</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( defined $tmp &amp;&amp; $tmp =~ /^down$/i );</td></tr>
<tr><td class="h">122</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L122">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L122">33</a></div></td><td></td><td><div>364</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$initDirection = $sortDirection{&#39;DESCENDING&#39;}</td></tr>
<tr><td class="h">123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( defined $tmp &amp;&amp; $tmp =~ /^up$/i );</td></tr>
<tr><td class="h">124</td><td colspan="6"></td></tr><tr><td class="h">125</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>198</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp           = $params{sort};</td></tr>
<tr><td class="h">126</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L126">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L126">33</a></div></td><td></td><td><div>372</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp           = &#39;0&#39; if ( defined $tmp &amp;&amp; $tmp =~ /^off$/oi );</td></tr>
<tr><td class="h">127</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L127">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L127">33</a></div></td><td></td><td><div>359</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$sortAllTables = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">128</td><td colspan="6"></td></tr><tr><td class="h">129</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>201</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{tableborder};</td></tr>
<tr><td class="h">130</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L130">100</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L130">67</a></div></td><td></td><td><div>530</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableBorder = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">131</td><td colspan="6"></td></tr><tr><td class="h">132</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>192</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{tableframe};</td></tr>
<tr><td class="h">133</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L133">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L133">33</a></div></td><td></td><td><div>360</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableFrame = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">134</td><td colspan="6"></td></tr><tr><td class="h">135</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>189</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{tablerules};</td></tr>
<tr><td class="h">136</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L136">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L136">33</a></div></td><td></td><td><div>349</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableRules = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">137</td><td colspan="6"></td></tr><tr><td class="h">138</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>195</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{cellpadding};</td></tr>
<tr><td class="h">139</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L139">100</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L139">67</a></div></td><td></td><td><div>481</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$cellPadding = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">140</td><td colspan="6"></td></tr><tr><td class="h">141</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>187</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{cellspacing};</td></tr>
<tr><td class="h">142</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L142">100</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L142">67</a></div></td><td></td><td><div>496</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$cellSpacing = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">143</td><td colspan="6"></td></tr><tr><td class="h">144</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>195</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{cellborder};</td></tr>
<tr><td class="h">145</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L145">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L145">33</a></div></td><td></td><td><div>367</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$cellBorder = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">146</td><td colspan="6"></td></tr><tr><td class="h">147</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>199</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{headeralign};</td></tr>
<tr><td class="h">148</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L148">100</a></div></td><td></td><td></td><td><div>360</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@headerAlign = split( /,\s*/, $tmp ) if ( defined $tmp );</td></tr>
<tr><td class="h">149</td><td colspan="6"></td></tr><tr><td class="h">150</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>187</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{dataalign};</td></tr>
<tr><td class="h">151</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L151">50</a></div></td><td></td><td></td><td><div>274</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataAlign = split( /,\s*/, $tmp ) if ( defined $tmp );</td></tr>
<tr><td class="h">152</td><td colspan="6"></td></tr><tr><td class="h">153</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>193</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{tablewidth};</td></tr>
<tr><td class="h">154</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L154">50</a></div></td><td></td><td></td><td><div>258</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableWidth = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">155</td><td colspan="6"></td></tr><tr><td class="h">156</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>190</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{columnwidths};</td></tr>
<tr><td class="h">157</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L157">50</a></div></td><td></td><td></td><td><div>254</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@columnWidths = split( /, */, $tmp ) if ( defined $tmp );</td></tr>
<tr><td class="h">158</td><td colspan="6"></td></tr><tr><td class="h">159</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>195</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp        = $params{headerrows};</td></tr>
<tr><td class="h">160</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L160">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L160">33</a></div></td><td></td><td><div>355</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerRows = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">161</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L161">50</a></div></td><td></td><td></td><td><div>287</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerRows = 1 if ( $headerRows &lt; 1 );</td></tr>
<tr><td class="h">162</td><td colspan="6"></td></tr><tr><td class="h">163</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>184</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{footerrows};</td></tr>
<tr><td class="h">164</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L164">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L164">33</a></div></td><td></td><td><div>359</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$footerRows = $tmp if ( defined $tmp &amp;&amp; $tmp ne &#39;&#39; );</td></tr>
<tr><td class="h">165</td><td colspan="6"></td></tr><tr><td class="h">166</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>196</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{valign};</td></tr>
<tr><td class="h">167</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L167">100</a></div></td><td></td><td></td><td><div>291</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$vAlign = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">168</td><td colspan="6"></td></tr><tr><td class="h">169</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>198</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{datavalign};</td></tr>
<tr><td class="h">170</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L170">50</a></div></td><td></td><td></td><td><div>255</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dataVAlign = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">171</td><td colspan="6"></td></tr><tr><td class="h">172</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>191</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{headervalign};</td></tr>
<tr><td class="h">173</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L173">50</a></div></td><td></td><td></td><td><div>256</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerVAlign = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">174</td><td colspan="6"></td></tr><tr><td class="h">175</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>196</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $tmpheaderbg = $params{headerbg};</td></tr>
<tr><td class="h">176</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L176">100</a></div></td><td></td><td></td><td><div>279</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerBg = $tmpheaderbg if ( defined $tmpheaderbg );</td></tr>
<tr><td class="h">177</td><td colspan="6"></td></tr><tr><td class="h">178</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# only set headerbgsorted color if it is defined in %TABLE{}% attributes</td></tr>
<tr><td class="h">179</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# otherwise use headerbg</td></tr>
<tr><td class="h">180</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>203</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{headerbgsorted};</td></tr>
<tr><td class="h">181</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L181">100</a></div><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L181">50</a></div></td><td></td><td></td><td><div>297</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( defined $tmp ) {</td></tr>
<tr><td class="h">182</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>89</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$headerBgSorted = $tmp;</td></tr>
<tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">184</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ( defined $tmpheaderbg ) {</td></tr>
<tr><td class="h">185</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$headerBgSorted = $tmpheaderbg;</td></tr>
<tr><td class="h">186</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">187</td><td colspan="6"></td></tr><tr><td class="h">188</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>205</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{headercolor};</td></tr>
<tr><td class="h">189</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L189">100</a></div></td><td></td><td></td><td><div>281</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$headerColor = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">190</td><td colspan="6"></td></tr><tr><td class="h">191</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>193</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $tmpdatabg = $params{databg};</td></tr>
<tr><td class="h">192</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L192">100</a></div></td><td></td><td></td><td><div>375</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataBg = split( /,\s*/, $tmpdatabg ) if ( defined $tmpdatabg );</td></tr>
<tr><td class="h">193</td><td colspan="6"></td></tr><tr><td class="h">194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# only set databgsorted color if it is defined in %TABLE{}% attributes</td></tr>
<tr><td class="h">195</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# otherwise use databg</td></tr>
<tr><td class="h">196</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>193</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{databgsorted};</td></tr>
<tr><td class="h">197</td><td><div class="c3">63</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L197">100</a></div><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L197">50</a></div></td><td></td><td></td><td><div>372</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( defined $tmp ) {</td></tr>
<tr><td class="h">198</td><td><div class="c3">32</div></td><td></td><td></td><td></td><td><div>132</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@dataBgSorted = split( /,\s*/, $tmp );</td></tr>
<tr><td class="h">199</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">200</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ( defined $tmpdatabg ) {</td></tr>
<tr><td class="h">201</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@dataBgSorted = split( /,\s*/, $tmpdatabg );</td></tr>
<tr><td class="h">202</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">203</td><td colspan="6"></td></tr><tr><td class="h">204</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>201</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{datacolor};</td></tr>
<tr><td class="h">205</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L205">50</a></div></td><td></td><td></td><td><div>272</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@dataColor = split( /,\s*/, $tmp ) if ( defined $tmp );</td></tr>
<tr><td class="h">206</td><td colspan="6"></td></tr><tr><td class="h">207</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>189</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{id};</td></tr>
<tr><td class="h">208</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L208">50</a></div></td><td></td><td></td><td><div>262</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableId = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">209</td><td colspan="6"></td></tr><tr><td class="h">210</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>189</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{summary};</td></tr>
<tr><td class="h">211</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L211">50</a></div></td><td></td><td></td><td><div>256</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableSummary = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">212</td><td colspan="6"></td></tr><tr><td class="h">213</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>194</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $params{caption};</td></tr>
<tr><td class="h">214</td><td><div class="c3">63</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L214">50</a></div></td><td></td><td></td><td><div>248</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tableCaption = $tmp if ( defined $tmp );</td></tr>
<tr><td class="h">215</td><td colspan="6"></td></tr><tr><td class="h">216</td><td><div class="c3">63</div></td><td></td><td></td><td></td><td><div>403</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $currTablePre . &#39;&lt;nop&gt;&#39;;</td></tr>
<tr><td class="h">217</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">218</td><td colspan="6"></td></tr><tr><td class="h">219</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Convert text to number and date if syntactically possible</td></tr>
<tr><td class="h">220</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _convertToNumberAndDate {</td></tr>
<tr><td class="h">221</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L221">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($text) = @_;</td></tr>
<tr><td class="h">222</td><td colspan="6"></td></tr><tr><td class="h">223</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text =~ s/&amp;nbsp;/ /go;</td></tr>
<tr><td class="h">224</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text =~ s/&lt;\/?nobr&gt;/ /go;</td></tr>
<tr><td class="h">225</td><td colspan="6"></td></tr><tr><td class="h">226</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $num  = undef;</td></tr>
<tr><td class="h">227</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $date = undef;</td></tr>
<tr><td class="h">228</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L228">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $text =~ /^\s*$/ ) {</td></tr>
<tr><td class="h">229</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$num  = 0;</td></tr>
<tr><td class="h">230</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$date = 0;</td></tr>
<tr><td class="h">231</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">232</td><td colspan="6"></td></tr><tr><td class="h">233</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L233">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L233">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L233">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $text =~</td></tr>
<tr><td class="h">234</td><td></td><td></td><td></td><td></td><td></td><td class="s">m|^\s*([0-9]{1,2})[-\s/]*([A-Z][a-z][a-z])[-\s/]*([0-9]{4})\s*-\s*([0-9][0-9]):([0-9][0-9])|</td></tr>
<tr><td class="h">235</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</td></tr>
<tr><td class="h">236</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">237</td><td colspan="6"></td></tr><tr><td class="h">238</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &quot;31 Dec 2003 - 23:59&quot;, &quot;31-Dec-2003 - 23:59&quot;,</td></tr>
<tr><td class="h">239</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &quot;31 Dec 2003 - 23:59 - any suffix&quot;</td></tr>
<tr><td class="h">240</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$date = timegm( 0, $5, $4, $1, $mon2num{$2}, $3 - 1900 );</td></tr>
<tr><td class="h">241</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">242</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ( $text =~</td></tr>
<tr><td class="h">243</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m|^\s*([0-9]{1,2})[-\s/]([A-Z][a-z][a-z])[-\s/]([0-9]{2,4})\s*$| )</td></tr>
<tr><td class="h">244</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">245</td><td colspan="6"></td></tr><tr><td class="h">246</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &quot;31 Dec 2003&quot;, &quot;31 Dec 03&quot;, &quot;31-Dec-2003&quot;, &quot;31/Dec/2003&quot;</td></tr>
<tr><td class="h">247</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $year = $3;</td></tr>
<tr><td class="h">248</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L248">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L248">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$year += 1900 if ( length($year) == 2 &amp;&amp; $year &gt; 80 );</td></tr>
<tr><td class="h">249</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L249">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$year += 2000 if ( length($year) == 2 );</td></tr>
<tr><td class="h">250</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$date = timegm( 0, 0, 0, $1, $mon2num{$2}, $year - 1900 );</td></tr>
<tr><td class="h">251</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">252</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ( $text =~ /^\s*[0-9]+(\.[0-9]+)?\s*$/ ) {</td></tr>
<tr><td class="h">253</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$num = $text;</td></tr>
<tr><td class="h">254</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">255</td><td colspan="6"></td></tr><tr><td class="h">256</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ( $num, $date );</td></tr>
<tr><td class="h">257</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">258</td><td colspan="6"></td></tr><tr><td class="h">259</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _processTableRow {</td></tr>
<tr><td class="h">260</td><td><div class="c3">253</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L260">253</a></div></td><td><div>1165</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $thePre, $theRow ) = @_;</td></tr>
<tr><td class="h">261</td><td colspan="6"></td></tr><tr><td class="h">262</td><td><div class="c3">253</div></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L262">100</a></div></td><td></td><td><div>1271</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$currTablePre = $thePre || &#39;&#39;;</td></tr>
<tr><td class="h">263</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>692</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $span = 0;</td></tr>
<tr><td class="h">264</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>698</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $l1   = 0;</td></tr>
<tr><td class="h">265</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>709</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $l2   = 0;</td></tr>
<tr><td class="h">266</td><td colspan="6"></td></tr><tr><td class="h">267</td><td><div class="c3">253</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L267">100</a></div></td><td></td><td></td><td><div>1079</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( !$insideTABLE ) {</td></tr>
<tr><td class="h">268</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>4459</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable = ();</td></tr>
<tr><td class="h">269</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>99</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@rowspan  = ();</td></tr>
<tr><td class="h">270</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>91</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tableCount++;</td></tr>
<tr><td class="h">271</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>112</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$currentSortDirection = $sortDirection{&#39;NONE&#39;};</td></tr>
<tr><td class="h">272</td><td colspan="6"></td></tr><tr><td class="h">273</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L273">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L273">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L273">25</a></div></td><td></td><td><div>321</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( defined $requestedTable &amp;&amp; $requestedTable == $tableCount</td></tr>
<tr><td class="h">274</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined $sortColFromUrl )</td></tr>
<tr><td class="h">275</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">276</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortCol              = $sortColFromUrl;</td></tr>
<tr><td class="h">277</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L277">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortCol              = $maxSortCols if ( $sortCol &gt; $maxSortCols );</td></tr>
<tr><td class="h">278</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$currentSortDirection = _getCurrentSortDirection($up);</td></tr>
<tr><td class="h">279</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ( defined $initSort ) {</td></tr>
<tr><td class="h">280</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortCol              = $initSort - 1;</td></tr>
<tr><td class="h">281</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L281">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortCol              = $maxSortCols if ( $sortCol &gt; $maxSortCols );</td></tr>
<tr><td class="h">282</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$currentSortDirection = _getCurrentSortDirection($initDirection);</td></tr>
<tr><td class="h">283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">284</td><td colspan="6"></td></tr><tr><td class="h">285</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">286</td><td colspan="6"></td></tr><tr><td class="h">287</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>745</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$theRow =~ s/\t/   /go;    # change tabs to space</td></tr>
<tr><td class="h">288</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>2194</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$theRow =~ s/\s*$//o;      # remove trailing spaces</td></tr>
<tr><td class="h">289</td><td><div class="c3">253</div><div class="c3">28</div></td><td></td><td></td><td></td><td><div>766</div><div>173</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$theRow =~ s/(\|\|+)/$translationToken.length($1).&quot;\|&quot;/geo;   # calc COLSPAN</td></tr>
<tr><td class="h">290</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>687</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $colCount = 0;</td></tr>
<tr><td class="h">291</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>746</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @row      = ();</td></tr>
<tr><td class="h">292</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>671</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$span = 0;</td></tr>
<tr><td class="h">293</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>691</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $value = &#39;&#39;;</td></tr>
<tr><td class="h">294</td><td colspan="6"></td></tr><tr><td class="h">295</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>1505</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach ( split( /\|/, $theRow ) ) {</td></tr>
<tr><td class="h">296</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7799</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attr = {};</td></tr>
<tr><td class="h">297</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>9011</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} = &#39;&#39;;</td></tr>
<tr><td class="h">298</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>6657</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$span = 1;</td></tr>
<tr><td class="h">299</td><td colspan="6"></td></tr><tr><td class="h">300</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#AS 25-5-01 Fix to avoid matching also single columns</td></tr>
<tr><td class="h">301</td><td><div class="c3">2496</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L301">100</a></div></td><td></td><td></td><td><div>13203</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (s/$translationToken([0-9]+)//) {</td></tr>
<tr><td class="h">302</td><td><div class="c3">28</div></td><td></td><td></td><td></td><td><div>109</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$span = $1;</td></tr>
<tr><td class="h">303</td><td><div class="c3">28</div></td><td></td><td></td><td></td><td><div>113</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{colspan} = $span;</td></tr>
<tr><td class="h">304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">305</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7457</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/^\s+$/ &amp;nbsp; /o;</td></tr>
<tr><td class="h">306</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7898</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( $l1, $l2 ) = ( 0, 0 );</td></tr>
<tr><td class="h">307</td><td><div class="c3">2496</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L307">50</a></div></td><td></td><td></td><td><div>14249</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/^(\s*).*?(\s*)$/) {</td></tr>
<tr><td class="h">308</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7408</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$l1 = length($1);</td></tr>
<tr><td class="h">309</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7124</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$l2 = length($2);</td></tr>
<tr><td class="h">310</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">311</td><td><div class="c3">2496</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L311">100</a></div></td><td></td><td></td><td><div>10680</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $l1 &gt;= 2 ) {</td></tr>
<tr><td class="h">312</td><td><div class="c3">237</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L312">50</a></div></td><td></td><td></td><td><div>958</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $l2 &lt;= 1 ) {</td></tr>
<tr><td class="h">313</td><td><div class="c3">237</div></td><td></td><td></td><td></td><td><div>953</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{align} = &#39;right&#39;;</td></tr>
<tr><td class="h">314</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">315</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">316</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{align} = &#39;center&#39;;</td></tr>
<tr><td class="h">317</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">318</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">319</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L319">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L319">25</a></div></td><td></td><td><div>19002</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (   defined $columnWidths[$colCount]</td></tr>
<tr><td class="h">320</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $columnWidths[$colCount]</td></tr>
<tr><td class="h">321</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $span &lt;= 2 )</td></tr>
<tr><td class="h">322</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">323</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{width} = $columnWidths[$colCount];</td></tr>
<tr><td class="h">324</td><td colspan="6"></td></tr><tr><td class="h">325</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# CSS style</td></tr>
<tr><td class="h">326</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;width:&#39; . $columnWidths[$colCount] . &#39;;&#39;;</td></tr>
<tr><td class="h">327</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">328</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L328">50</a></div></td><td></td><td></td><td><div>9259</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/^\s*\^\s*$/) {    # row span above</td></tr>
<tr><td class="h">329</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rowspan[$colCount]++;</td></tr>
<tr><td class="h">330</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @row, { text =&gt; $value, type =&gt; &#39;Y&#39; };</td></tr>
<tr><td class="h">331</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">332</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">333</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for ( my $col = $colCount ; $col &lt; ( $colCount + $span ) ; $col++ )</td></tr>
<tr><td class="h">334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">335</td><td><div class="c3">2719</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L335">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L335">33</a></div></td><td></td><td><div>23967</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( defined( $rowspan[$col] ) &amp;&amp; $rowspan[$col] ) {</td></tr>
<tr><td class="h">336</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $nRows = scalar(@curTable);</td></tr>
<tr><td class="h">337</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rspan = $rowspan[$col] + 1;</td></tr>
<tr><td class="h">338</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L338">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $rspan &gt; 1 ) {</td></tr>
<tr><td class="h">339</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[ $nRows - $rspan ][$col]-&gt;{attrs}-&gt;{rowspan} =</td></tr>
<tr><td class="h">340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rspan;</td></tr>
<tr><td class="h">341</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">342</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef( $rowspan[$col] );</td></tr>
<tr><td class="h">343</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">344</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>6906</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">345</td><td colspan="6"></td></tr><tr><td class="h">346</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L346">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L346">9</a></div></td><td></td><td><div>35871</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (  ( (defined $requestedTable &amp;&amp; $requestedTable == $tableCount ) </td></tr>
<tr><td class="h">347</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| defined $initSort )</td></tr>
<tr><td class="h">348</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined $sortCol &amp;&amp; $colCount == $sortCol )</td></tr>
<tr><td class="h">349</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">350</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# CSS class name</td></tr>
<tr><td class="h">351</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L351">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;ASCENDING&#39;} ) {</td></tr>
<tr><td class="h">352</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{class} =</td></tr>
<tr><td class="h">353</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_appendSortedAscendingCssClass( $attr-&gt;{class} );</td></tr>
<tr><td class="h">354</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">355</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L355">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;DESCENDING&#39;} ) {</td></tr>
<tr><td class="h">356</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{class} =</td></tr>
<tr><td class="h">357</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_appendSortedDescendingCssClass( $attr-&gt;{class} );</td></tr>
<tr><td class="h">358</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">359</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">360</td><td colspan="6"></td></tr><tr><td class="h">361</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7145</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $type = &#39;&#39;;</td></tr>
<tr><td class="h">362</td><td><div class="c3">2496</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L362">100</a></div></td><td></td><td></td><td><div>10263</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/^\s*\*(.*)\*\s*$/) {</td></tr>
<tr><td class="h">363</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1757</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $1;</td></tr>
<tr><td class="h">364</td><td><div class="c3">527</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L364">50</a></div></td><td></td><td></td><td><div>2358</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@headerAlign) {</td></tr>
<tr><td class="h">365</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>2383</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $align =</td></tr>
<tr><td class="h">366</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@headerAlign[ $colCount % ( $#headerAlign + 1 ) ];</td></tr>
<tr><td class="h">367</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1817</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{align} = $align;</td></tr>
<tr><td class="h">368</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>2290</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;text-align:&#39; . $align . &#39;;&#39;;</td></tr>
<tr><td class="h">369</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">370</td><td><div class="c3">527</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L370">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L370">50</a></div></td><td></td><td></td><td><div>2818</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($headerVAlign) {</td></tr>
<tr><td class="h">371</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L371">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{valign} = $headerVAlign if $headerVAlign;</td></tr>
<tr><td class="h">372</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;vertical-align:&#39; . $headerVAlign . &#39;;&#39;;</td></tr>
<tr><td class="h">373</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">374</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($vAlign) {</td></tr>
<tr><td class="h">375</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1819</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{valign} = $vAlign;</td></tr>
<tr><td class="h">376</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>2074</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;vertical-align:&#39; . $vAlign . &#39;;&#39;;</td></tr>
<tr><td class="h">377</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">378</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1462</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;th&#39;;</td></tr>
<tr><td class="h">379</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">380</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">381</td><td><div class="c3">1969</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L381">50</a></div></td><td></td><td></td><td><div>10795</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/^\s*(.*?)\s*$/) {    # strip white spaces</td></tr>
<tr><td class="h">382</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>6987</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_ = $1;</td></tr>
<tr><td class="h">383</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">384</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>5558</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $_;</td></tr>
<tr><td class="h">385</td><td><div class="c3">1969</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L385">50</a></div></td><td></td><td></td><td><div>8213</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@dataAlign) {</td></tr>
<tr><td class="h">386</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $align = @dataAlign[ $colCount % ( $#dataAlign + 1 ) ];</td></tr>
<tr><td class="h">387</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{align} = $align;</td></tr>
<tr><td class="h">388</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;text-align:&#39; . $align . &#39;;&#39;;</td></tr>
<tr><td class="h">389</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">390</td><td><div class="c3">1969</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L390">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L390">50</a></div></td><td></td><td></td><td><div>10286</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($dataVAlign) {</td></tr>
<tr><td class="h">391</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L391">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{valign} = $dataVAlign if $dataVAlign;</td></tr>
<tr><td class="h">392</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;vertical-align:&#39; . $dataVAlign . &#39;;&#39;;</td></tr>
<tr><td class="h">393</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">394</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($vAlign) {</td></tr>
<tr><td class="h">395</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>7138</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{valign} = $vAlign;</td></tr>
<tr><td class="h">396</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>8403</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;vertical-align:&#39; . $vAlign . &#39;;&#39;;</td></tr>
<tr><td class="h">397</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">398</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>5527</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;td&#39;;</td></tr>
<tr><td class="h">399</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">400</td><td colspan="6"></td></tr><tr><td class="h">401</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L401">50</a></div></td><td></td><td></td><td><div>10753</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $cellBorder ne &#39;&#39; ) {</td></tr>
<tr><td class="h">402</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $theCellBorder = $cellBorder;</td></tr>
<tr><td class="h">403</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L403">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $tableRules eq &#39;none&#39; ) {</td></tr>
<tr><td class="h">404</td><td colspan="6"></td></tr><tr><td class="h">405</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# if tablerules are set to none we don&#39;t want cell borders anywhere</td></tr>
<tr><td class="h">406</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$theCellBorder = 0;</td></tr>
<tr><td class="h">407</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">408</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L408">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $tableRules eq &#39;cols&#39; ) {</td></tr>
<tr><td class="h">409</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$theCellBorder = 0;</td></tr>
<tr><td class="h">410</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">411</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L411">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L411">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $tableRules eq &#39;groups&#39; &amp;&amp; $type eq &#39;th&#39; ) {</td></tr>
<tr><td class="h">412</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;border-bottom-style:solid;&#39;;</td></tr>
<tr><td class="h">413</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;border-top-style:solid;&#39;;</td></tr>
<tr><td class="h">414</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;border-left-style:none;&#39;;</td></tr>
<tr><td class="h">415</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">416</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L416">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L416">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $tableRules eq &#39;groups&#39; &amp;&amp; $type eq &#39;td&#39; ) {</td></tr>
<tr><td class="h">417</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$theCellBorder = 0;</td></tr>
<tr><td class="h">418</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">419</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{style} .= &#39;border-width:&#39; . $theCellBorder . &#39;px;&#39;;</td></tr>
<tr><td class="h">420</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">421</td><td colspan="6"></td></tr><tr><td class="h">422</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>13538</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @row, { text =&gt; $value, attrs =&gt; $attr, type =&gt; $type };</td></tr>
<tr><td class="h">423</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">424</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>11992</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ( $span &gt; 1 ) {</td></tr>
<tr><td class="h">425</td><td><div class="c3">223</div></td><td></td><td></td><td></td><td><div>910</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @row, { text =&gt; $value, type =&gt; &#39;X&#39; };</td></tr>
<tr><td class="h">426</td><td><div class="c3">223</div></td><td></td><td></td><td></td><td><div>571</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$colCount++;</td></tr>
<tr><td class="h">427</td><td><div class="c3">223</div></td><td></td><td></td><td></td><td><div>996</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$span--;</td></tr>
<tr><td class="h">428</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">429</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>8423</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$colCount++;</td></tr>
<tr><td class="h">430</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">431</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>1099</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @curTable, \@row;</td></tr>
<tr><td class="h">432</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>2845</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $currTablePre</td></tr>
<tr><td class="h">433</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &#39;&lt;nop&gt;&#39;;    # Avoid TWiki converting empty lines to new paras</td></tr>
<tr><td class="h">434</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">435</td><td colspan="6"></td></tr><tr><td class="h">436</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Determine whether to generate sorting headers for this table. The header</td></tr>
<tr><td class="h">437</td><td></td><td></td><td></td><td></td><td></td><td class="s"># indicates the context of the table (body or file attachment)</td></tr>
<tr><td class="h">438</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _shouldISortThisTable {</td></tr>
<tr><td class="h">439</td><td><div class="c3">31</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L439">31</a></div></td><td><div>117</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($header) = @_;</td></tr>
<tr><td class="h">440</td><td colspan="6"></td></tr><tr><td class="h">441</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L441">50</a></div></td><td></td><td></td><td><div>133</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return 0 unless $sortAllTables;</td></tr>
<tr><td class="h">442</td><td colspan="6"></td></tr><tr><td class="h">443</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# All cells in header are headings?</td></tr>
<tr><td class="h">444</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>124</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $cell (@$header) {</td></tr>
<tr><td class="h">445</td><td><div class="c3">95</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L445">100</a></div></td><td></td><td></td><td><div>567</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0 if ( $cell-&gt;{type} ne &#39;th&#39; );</td></tr>
<tr><td class="h">446</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">447</td><td colspan="6"></td></tr><tr><td class="h">448</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return 1;</td></tr>
<tr><td class="h">449</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">450</td><td colspan="6"></td></tr><tr><td class="h">451</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Guess if column is a date, number or plain text</td></tr>
<tr><td class="h">452</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _guessColumnType {</td></tr>
<tr><td class="h">453</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L453">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($col)         = @_;</td></tr>
<tr><td class="h">454</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $isDate        = 1;</td></tr>
<tr><td class="h">455</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $isNum         = 1;</td></tr>
<tr><td class="h">456</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $num           = &#39;&#39;;</td></tr>
<tr><td class="h">457</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $date          = &#39;&#39;;</td></tr>
<tr><td class="h">458</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $columnIsValid = 0;</td></tr>
<tr><td class="h">459</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $row (@curTable) {</td></tr>
<tr><td class="h">460</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L460">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if ( !$row-&gt;[$col]-&gt;{text} );</td></tr>
<tr><td class="h">461</td><td colspan="6"></td></tr><tr><td class="h">462</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# else</td></tr>
<tr><td class="h">463</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$columnIsValid = 1;</td></tr>
<tr><td class="h">464</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( $num, $date ) = _convertToNumberAndDate( $row-&gt;[$col]-&gt;{text} );</td></tr>
<tr><td class="h">465</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L465">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isDate = 0 if ( !defined($date) );</td></tr>
<tr><td class="h">466</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L466">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isNum  = 0 if ( !defined($num) );</td></tr>
<tr><td class="h">467</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L467">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L467">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last if ( !$isDate &amp;&amp; !$isNum );</td></tr>
<tr><td class="h">468</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$row-&gt;[$col]-&gt;{date}   = $date;</td></tr>
<tr><td class="h">469</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$row-&gt;[$col]-&gt;{number} = $num;</td></tr>
<tr><td class="h">470</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">471</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L471">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $columnType{&#39;UNDEFINED&#39;} if ( !$columnIsValid );</td></tr>
<tr><td class="h">472</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $type = $columnType{&#39;TEXT&#39;};</td></tr>
<tr><td class="h">473</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L473">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L473">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($isDate) {</td></tr>
<tr><td class="h">474</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = $columnType{&#39;DATE&#39;};</td></tr>
<tr><td class="h">475</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">476</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ($isNum) {</td></tr>
<tr><td class="h">477</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = $columnType{&#39;NUMBER&#39;};</td></tr>
<tr><td class="h">478</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">479</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $type;</td></tr>
<tr><td class="h">480</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">481</td><td colspan="6"></td></tr><tr><td class="h">482</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Remove HTML from text so it can be sorted</td></tr>
<tr><td class="h">483</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _stripHtml {</td></tr>
<tr><td class="h">484</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L484">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($text) = @_;</td></tr>
<tr><td class="h">485</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L485">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text ||= &#39;&#39;;</td></tr>
<tr><td class="h">486</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text =~ s/\&amp;nbsp;/ /go;    # convert space</td></tr>
<tr><td class="h">487</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text =~</td></tr>
<tr><td class="h">488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\[\[[^\]]+\]\[([^\]]+)\]\]/$1/go; # extract label from [[...][...]] link</td></tr>
<tr><td class="h">489</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text =~ s/&lt;[^&gt;]+&gt;//go;               # strip HTML</td></tr>
<tr><td class="h">490</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text =~ s/^ *//go;                   # strip leading space space</td></tr>
<tr><td class="h">491</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text = lc($text);                    # convert to lower case</td></tr>
<tr><td class="h">492</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $text;</td></tr>
<tr><td class="h">493</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">494</td><td colspan="6"></td></tr><tr><td class="h">495</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Append space if class names already exist</td></tr>
<tr><td class="h">496</td><td></td><td></td><td></td><td></td><td></td><td class="s"># &#39;firstClass&#39; becomes &#39;firstClass &#39; so &#39;secondClass&#39; can be appended safely</td></tr>
<tr><td class="h">497</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _makeCssClassListSafeToAppend {</td></tr>
<tr><td class="h">498</td><td><div class="c3">543</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L498">543</a></div></td><td><div>1957</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($classList) = @_;</td></tr>
<tr><td class="h">499</td><td><div class="c3">543</div></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L499">100</a></div></td><td></td><td><div>2469</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$classList ||= &#39;&#39;;</td></tr>
<tr><td class="h">500</td><td><div class="c3">543</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L500">100</a></div></td><td></td><td></td><td><div>2480</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$classList .= &#39; &#39; if length($classList) &gt; 0;</td></tr>
<tr><td class="h">501</td><td><div class="c3">543</div></td><td></td><td></td><td></td><td><div>1910</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $classList;</td></tr>
<tr><td class="h">502</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">503</td><td colspan="6"></td></tr><tr><td class="h">504</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Append CSS class name for &quot;first column&quot; to (possibly) already defined class names</td></tr>
<tr><td class="h">505</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _appendFirstColumnCssClass {</td></tr>
<tr><td class="h">506</td><td><div class="c3">253</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L506">253</a></div></td><td><div>899</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $classList = _makeCssClassListSafeToAppend(@_);</td></tr>
<tr><td class="h">507</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>1138</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $classList . &#39;twikiFirstCol&#39;;</td></tr>
<tr><td class="h">508</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">509</td><td colspan="6"></td></tr><tr><td class="h">510</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Append CSS class name for &quot;last row&quot; to (possibly) already defined class names</td></tr>
<tr><td class="h">511</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _appendLastRowCssClass {</td></tr>
<tr><td class="h">512</td><td><div class="c3">290</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L512">290</a></div></td><td><div>1044</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $classList = _makeCssClassListSafeToAppend(@_);</td></tr>
<tr><td class="h">513</td><td><div class="c3">290</div></td><td></td><td></td><td></td><td><div>1284</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $classList . &#39;twikiLast&#39;;</td></tr>
<tr><td class="h">514</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">515</td><td colspan="6"></td></tr><tr><td class="h">516</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Append CSS class name for &quot;sorted ascending&quot; to (possibly) already defined</td></tr>
<tr><td class="h">517</td><td></td><td></td><td></td><td></td><td></td><td class="s"># class names.</td></tr>
<tr><td class="h">518</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _appendSortedAscendingCssClass {</td></tr>
<tr><td class="h">519</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L519">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $classList = _makeCssClassListSafeToAppend(@_);</td></tr>
<tr><td class="h">520</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $classList . &#39;twikiSortedAscendingCol&#39;;</td></tr>
<tr><td class="h">521</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">522</td><td colspan="6"></td></tr><tr><td class="h">523</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Append CSS class name for &quot;sorted descending&quot; to (possibly) already defined</td></tr>
<tr><td class="h">524</td><td></td><td></td><td></td><td></td><td></td><td class="s"># class names.</td></tr>
<tr><td class="h">525</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _appendSortedDescendingCssClass {</td></tr>
<tr><td class="h">526</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L526">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $classList = _makeCssClassListSafeToAppend(@_);</td></tr>
<tr><td class="h">527</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $classList . &#39;twikiSortedDescendingCol&#39;;</td></tr>
<tr><td class="h">528</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">529</td><td colspan="6"></td></tr><tr><td class="h">530</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The default sort direction.</td></tr>
<tr><td class="h">531</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _getDefaultSortDirection {</td></tr>
<tr><td class="h">532</td><td><div class="c3">2496</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L532">2496</a></div></td><td><div>9698</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $sortDirection{&#39;ASCENDING&#39;};</td></tr>
<tr><td class="h">533</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">534</td><td colspan="6"></td></tr><tr><td class="h">535</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Gets the current sort direction.</td></tr>
<tr><td class="h">536</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _getCurrentSortDirection {</td></tr>
<tr><td class="h">537</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L537">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($currentDirection) = @_;</td></tr>
<tr><td class="h">538</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L538">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$currentDirection ||= _getDefaultSortDirection();</td></tr>
<tr><td class="h">539</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $currentDirection;</td></tr>
<tr><td class="h">540</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">541</td><td colspan="6"></td></tr><tr><td class="h">542</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Gets the new sort direction (needed for sort button) based on the current sort</td></tr>
<tr><td class="h">543</td><td></td><td></td><td></td><td></td><td></td><td class="s"># direction.</td></tr>
<tr><td class="h">544</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _getNewSortDirection {</td></tr>
<tr><td class="h">545</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L545">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($currentDirection) = @_;</td></tr>
<tr><td class="h">546</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L546">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( !defined $currentDirection ) {</td></tr>
<tr><td class="h">547</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return _getDefaultSortDirection();</td></tr>
<tr><td class="h">548</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">549</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $newDirection;</td></tr>
<tr><td class="h">550</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L550">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentDirection == $sortDirection{&#39;ASCENDING&#39;} ) {</td></tr>
<tr><td class="h">551</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$newDirection = $sortDirection{&#39;DESCENDING&#39;};</td></tr>
<tr><td class="h">552</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">553</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L553">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentDirection == $sortDirection{&#39;DESCENDING&#39;} ) {</td></tr>
<tr><td class="h">554</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L554">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($unsortEnabled) {</td></tr>
<tr><td class="h">555</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$newDirection = $sortDirection{&#39;NONE&#39;};</td></tr>
<tr><td class="h">556</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">557</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">558</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$newDirection = $sortDirection{&#39;ASCENDING&#39;};</td></tr>
<tr><td class="h">559</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">560</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">561</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L561">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentDirection == $sortDirection{&#39;NONE&#39;} ) {</td></tr>
<tr><td class="h">562</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$newDirection = $sortDirection{&#39;ASCENDING&#39;};</td></tr>
<tr><td class="h">563</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">564</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $newDirection;</td></tr>
<tr><td class="h">565</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">566</td><td colspan="6"></td></tr><tr><td class="h">567</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub emitTable {</td></tr>
<tr><td class="h">568</td><td colspan="6"></td></tr><tr><td class="h">569</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#Validate headerrows/footerrows and modify if out of range</td></tr>
<tr><td class="h">570</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L570">50</a></div></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L570">31</a></div></td><td><div>158</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $headerRows &gt; @curTable ) {</td></tr>
<tr><td class="h">571</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$headerRows = @curTable;    # limit header to size of table!</td></tr>
<tr><td class="h">572</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">573</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L573">50</a></div></td><td></td><td></td><td><div>166</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $headerRows + $footerRows &gt; @curTable ) {</td></tr>
<tr><td class="h">574</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$footerRows = @curTable - $headerRows;  # and footer to whatever is left</td></tr>
<tr><td class="h">575</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">576</td><td colspan="6"></td></tr><tr><td class="h">577</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>166</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $sortThisTable = _shouldISortThisTable( $curTable[ $headerRows - 1 ] );</td></tr>
<tr><td class="h">578</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>295</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $tattrs        = {</td></tr>
<tr><td class="h">579</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class       =&gt; &#39;twikiTable&#39;,</td></tr>
<tr><td class="h">580</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border      =&gt; $tableBorder,</td></tr>
<tr><td class="h">581</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellspacing =&gt; $cellSpacing,</td></tr>
<tr><td class="h">582</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellpadding =&gt; $cellPadding,</td></tr>
<tr><td class="h">583</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style       =&gt; &#39;border-width:&#39; . $tableBorder . &#39;px;&#39;</td></tr>
<tr><td class="h">584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">585</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L585">50</a></div></td><td></td><td></td><td><div>144</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tattrs-&gt;{id}      = $tableId      if ($tableId);</td></tr>
<tr><td class="h">586</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L586">50</a></div></td><td></td><td></td><td><div>136</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tattrs-&gt;{summary} = $tableSummary if ($tableSummary);</td></tr>
<tr><td class="h">587</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L587">50</a></div></td><td></td><td></td><td><div>137</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tattrs-&gt;{frame}   = $tableFrame   if ($tableFrame);</td></tr>
<tr><td class="h">588</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L588">50</a></div></td><td></td><td></td><td><div>140</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tattrs-&gt;{rules}   = $tableRules   if ($tableRules);</td></tr>
<tr><td class="h">589</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L589">50</a></div></td><td></td><td></td><td><div>142</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tattrs-&gt;{width}   = $tableWidth   if ($tableWidth);</td></tr>
<tr><td class="h">590</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>162</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $text = $currTablePre . CGI::start_table($tattrs);</td></tr>
<tr><td class="h">591</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L591">50</a></div></td><td></td><td></td><td><div>154</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text .= $currTablePre . CGI::caption($tableCaption) if ($tableCaption);</td></tr>
<tr><td class="h">592</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>96</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $stype = &#39;&#39;;</td></tr>
<tr><td class="h">593</td><td colspan="6"></td></tr><tr><td class="h">594</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# count the number of cols to prevent looping over non-existing columns</td></tr>
<tr><td class="h">595</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>86</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $maxCols = 0;</td></tr>
<tr><td class="h">596</td><td colspan="6"></td></tr><tr><td class="h">597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#Flush out any remaining rowspans</td></tr>
<tr><td class="h">598</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for ( my $i = 0 ; $i &lt; @rowspan ; $i++ ) {</td></tr>
<tr><td class="h">599</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L599">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L599">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( defined( $rowspan[$i] ) &amp;&amp; $rowspan[$i] ) {</td></tr>
<tr><td class="h">600</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $nRows = scalar(@curTable);</td></tr>
<tr><td class="h">601</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rspan = $rowspan[$i] + 1;</td></tr>
<tr><td class="h">602</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $r     = $nRows - $rspan;</td></tr>
<tr><td class="h">603</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L603">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[$r][$i]-&gt;{attrs} ||= {};</td></tr>
<tr><td class="h">604</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L604">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $rspan &gt; 1 ) {</td></tr>
<tr><td class="h">605</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[$r][$i]-&gt;{attrs}-&gt;{rowspan} = $rspan;</td></tr>
<tr><td class="h">606</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">607</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">608</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>88</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">609</td><td colspan="6"></td></tr><tr><td class="h">610</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L610">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L610">14</a></div></td><td></td><td><div>461</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (</td></tr>
<tr><td class="h">611</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(   defined $sortCol</td></tr>
<tr><td class="h">612</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined $requestedTable</td></tr>
<tr><td class="h">613</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $requestedTable == $tableCount</td></tr>
<tr><td class="h">614</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</td></tr>
<tr><td class="h">615</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| defined $initSort</td></tr>
<tr><td class="h">616</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</td></tr>
<tr><td class="h">617</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">618</td><td colspan="6"></td></tr><tr><td class="h">619</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DG 08 Aug 2002: Allow multi-line headers</td></tr>
<tr><td class="h">620</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @header = splice( @curTable, 0, $headerRows );</td></tr>
<tr><td class="h">621</td><td colspan="6"></td></tr><tr><td class="h">622</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DG 08 Aug 2002: Skip sorting any trailers as well</td></tr>
<tr><td class="h">623</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @trailer = ();</td></tr>
<tr><td class="h">624</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L624">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L624">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $footerRows &amp;&amp; scalar(@curTable) &gt; $footerRows ) {</td></tr>
<tr><td class="h">625</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@trailer = splice( @curTable, -$footerRows );</td></tr>
<tr><td class="h">626</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">627</td><td colspan="6"></td></tr><tr><td class="h">628</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Count the maximum number of columns of this table</td></tr>
<tr><td class="h">629</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $row ( 0 .. $#curTable ) {</td></tr>
<tr><td class="h">630</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $thisRowMaxColCount = 0;</td></tr>
<tr><td class="h">631</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $col ( 0 .. $#{ $curTable[$row] } ) {</td></tr>
<tr><td class="h">632</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$thisRowMaxColCount++;</td></tr>
<tr><td class="h">633</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">634</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L634">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$maxCols = $thisRowMaxColCount</td></tr>
<tr><td class="h">635</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $thisRowMaxColCount &gt; $maxCols );</td></tr>
<tr><td class="h">636</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">637</td><td colspan="6"></td></tr><tr><td class="h">638</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle multi-row labels by killing rowspans in sorted tables</td></tr>
<tr><td class="h">639</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $row ( 0 .. $#curTable ) {</td></tr>
<tr><td class="h">640</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $col ( 0 .. $#{ $curTable[$row] } ) {</td></tr>
<tr><td class="h">641</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[$row][$col]-&gt;{attrs}-&gt;{rowspan} = 1;</td></tr>
<tr><td class="h">642</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L642">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $curTable[$row][$col]-&gt;{type} eq &#39;Y&#39; ) {</td></tr>
<tr><td class="h">643</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[$row][$col]-&gt;{text} =</td></tr>
<tr><td class="h">644</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[ $row - 1 ][$col]-&gt;{text};</td></tr>
<tr><td class="h">645</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$curTable[$row][$col]-&gt;{type} = &#39;td&#39;;</td></tr>
<tr><td class="h">646</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">647</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">648</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">649</td><td colspan="6"></td></tr><tr><td class="h">650</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$stype = $columnType{&#39;UNDEFINED&#39;};</td></tr>
<tr><td class="h">651</td><td colspan="6"></td></tr><tr><td class="h">652</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# only get the column type if within bounds</td></tr>
<tr><td class="h">653</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L653">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $sortCol &lt; $maxCols ) {</td></tr>
<tr><td class="h">654</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$stype = _guessColumnType($sortCol);</td></tr>
<tr><td class="h">655</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">656</td><td colspan="6"></td></tr><tr><td class="h">657</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# invalidate sorting if no valid column</td></tr>
<tr><td class="h">658</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L658">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L658">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $stype eq $columnType{&#39;UNDEFINED&#39;} ) {</td></tr>
<tr><td class="h">659</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $initSort;</td></tr>
<tr><td class="h">660</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $sortCol;</td></tr>
<tr><td class="h">661</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">662</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ( $stype eq $columnType{&#39;TEXT&#39;} ) {</td></tr>
<tr><td class="h">663</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L663">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;DESCENDING&#39;} ) {</td></tr>
<tr><td class="h">664</td><td colspan="6"></td></tr><tr><td class="h">665</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# efficient way of sorting stripped HTML text</td></tr>
<tr><td class="h">666</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# SMELL: efficient? That&#39;s not efficient!</td></tr>
<tr><td class="h">667</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable = map { $_-&gt;[0] }</td></tr>
<tr><td class="h">668</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort { $b-&gt;[1] cmp $a-&gt;[1] }</td></tr>
<tr><td class="h">669</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map { [ $_, _stripHtml( $_-&gt;[$sortCol]-&gt;{text} ) ] }</td></tr>
<tr><td class="h">670</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable;</td></tr>
<tr><td class="h">671</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">672</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L672">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;ASCENDING&#39;} ) {</td></tr>
<tr><td class="h">673</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable = map { $_-&gt;[0] }</td></tr>
<tr><td class="h">674</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort { $a-&gt;[1] cmp $b-&gt;[1] }</td></tr>
<tr><td class="h">675</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map { [ $_, _stripHtml( $_-&gt;[$sortCol]-&gt;{text} ) ] }</td></tr>
<tr><td class="h">676</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable;</td></tr>
<tr><td class="h">677</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">678</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">679</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">680</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L680">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;DESCENDING&#39;} ) {</td></tr>
<tr><td class="h">681</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable =</td></tr>
<tr><td class="h">682</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort { $b-&gt;[$sortCol]-&gt;{$stype} &lt;=&gt; $a-&gt;[$sortCol]-&gt;{$stype} }</td></tr>
<tr><td class="h">683</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable;</td></tr>
<tr><td class="h">684</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">685</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L685">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;ASCENDING&#39;} ) {</td></tr>
<tr><td class="h">686</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable =</td></tr>
<tr><td class="h">687</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort { $a-&gt;[$sortCol]-&gt;{$stype} &lt;=&gt; $b-&gt;[$sortCol]-&gt;{$stype} }</td></tr>
<tr><td class="h">688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable;</td></tr>
<tr><td class="h">689</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">690</td><td colspan="6"></td></tr><tr><td class="h">691</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">692</td><td colspan="6"></td></tr><tr><td class="h">693</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DG 08 Aug 2002: Cleanup after the header/trailer splicing</td></tr>
<tr><td class="h">694</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# this is probably awfully inefficient - but how big is a table?</td></tr>
<tr><td class="h">695</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@curTable = ( @header, @curTable, @trailer );</td></tr>
<tr><td class="h">696</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}    # if defined $sortCol ...</td></tr>
<tr><td class="h">697</td><td colspan="6"></td></tr><tr><td class="h">698</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>88</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $rowCount       = 0;</td></tr>
<tr><td class="h">699</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>92</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $numberOfRows   = scalar(@curTable);</td></tr>
<tr><td class="h">700</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>93</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $dataColorCount = 0;</td></tr>
<tr><td class="h">701</td><td colspan="6"></td></tr><tr><td class="h">702</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>111</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $row (@curTable) {</td></tr>
<tr><td class="h">703</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>738</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rowtext  = &#39;&#39;;</td></tr>
<tr><td class="h">704</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>673</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $colCount = 0;</td></tr>
<tr><td class="h">705</td><td colspan="6"></td></tr><tr><td class="h">706</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# keep track of header cells: if all cells are header cells, do not</td></tr>
<tr><td class="h">707</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# update the data color count</td></tr>
<tr><td class="h">708</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>690</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $headerCellCount = 0;</td></tr>
<tr><td class="h">709</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>653</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $isHeaderRow     = 0;</td></tr>
<tr><td class="h">710</td><td colspan="6"></td></tr><tr><td class="h">711</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>928</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $fcell (@$row) {</td></tr>
<tr><td class="h">712</td><td colspan="6"></td></tr><tr><td class="h">713</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# check if cell exists</td></tr>
<tr><td class="h">714</td><td><div class="c3">2719</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L714">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L714">33</a></div></td><td></td><td><div>27356</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if ( !$fcell || !$fcell-&gt;{type} );</td></tr>
<tr><td class="h">715</td><td colspan="6"></td></tr><tr><td class="h">716</td><td><div class="c3">2719</div></td><td></td><td></td><td></td><td><div>7459</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $tableAnchor = &#39;&#39;;</td></tr>
<tr><td class="h">717</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next</td></tr>
<tr><td class="h">718</td><td><div class="c3">2719</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L718">100</a></div></td><td></td><td></td><td><div>12993</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $fcell-&gt;{type} eq &#39;X&#39; )</td></tr>
<tr><td class="h">719</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;    # data was there so sort could work with col spanning</td></tr>
<tr><td class="h">720</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7722</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $type = $fcell-&gt;{type};</td></tr>
<tr><td class="h">721</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7991</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $cell = $fcell-&gt;{text};</td></tr>
<tr><td class="h">722</td><td><div class="c3">2496</div></td><td></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L722">50</a></div></td><td></td><td><div>11994</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attr = $fcell-&gt;{attrs} || {};</td></tr>
<tr><td class="h">723</td><td colspan="6"></td></tr><tr><td class="h">724</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>6015</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $newDirection;</td></tr>
<tr><td class="h">725</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>6674</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $isSorted = 0;</td></tr>
<tr><td class="h">726</td><td colspan="6"></td></tr><tr><td class="h">727</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L727">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L727">20</a></div></td><td></td><td><div>22909</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (   $currentSortDirection != $sortDirection{&#39;NONE&#39;}</td></tr>
<tr><td class="h">728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined $sortCol &amp;&amp; $colCount == $sortCol</td></tr>
<tr><td class="h">729</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Removing the line below hides the marking of sorted columns</td></tr>
<tr><td class="h">730</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# until the user clicks on a header (KJL)</td></tr>
<tr><td class="h">731</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &amp;&amp; defined $requestedTable &amp;&amp; $requestedTable == $tableCount</td></tr>
<tr><td class="h">732</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $stype ne &#39;&#39; )</td></tr>
<tr><td class="h">733</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">734</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isSorted     = 1;</td></tr>
<tr><td class="h">735</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$newDirection = _getNewSortDirection($currentSortDirection);</td></tr>
<tr><td class="h">736</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">737</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">738</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>8164</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$newDirection = _getDefaultSortDirection();</td></tr>
<tr><td class="h">739</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">740</td><td colspan="6"></td></tr><tr><td class="h">741</td><td><div class="c3">2496</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L741">100</a></div></td><td></td><td></td><td><div>9638</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $type eq &#39;th&#39; ) {</td></tr>
<tr><td class="h">742</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1351</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$headerCellCount++;</td></tr>
<tr><td class="h">743</td><td><div class="c3">527</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L743">100</a></div></td><td></td><td></td><td><div>2192</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($upchar) {</td></tr>
<tr><td class="h">744</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upchar = CGI::span(</td></tr>
<tr><td class="h">745</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ class =&gt; &#39;tableSortIcon tableSortUp&#39; },</td></tr>
<tr><td class="h">746</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::img( { src =&gt; $iconUrl . &#39;up.gif&#39;, alt =&gt; &#39;up&#39; } )</td></tr>
<tr><td class="h">747</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">748</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$downchar = CGI::span(</td></tr>
<tr><td class="h">749</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ class =&gt; &#39;tableSortIcon tableSortDown&#39; },</td></tr>
<tr><td class="h">750</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::img(</td></tr>
<tr><td class="h">751</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ src =&gt; $iconUrl . &#39;down.gif&#39;, alt =&gt; &#39;down&#39; }</td></tr>
<tr><td class="h">752</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</td></tr>
<tr><td class="h">753</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">754</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$diamondchar = CGI::span(</td></tr>
<tr><td class="h">755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ class =&gt; &#39;tableSortIcon tableSortUp&#39; },</td></tr>
<tr><td class="h">756</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::img(</td></tr>
<tr><td class="h">757</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">758</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src    =&gt; $iconUrl . &#39;diamond.gif&#39;,</td></tr>
<tr><td class="h">759</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border =&gt; 0,</td></tr>
<tr><td class="h">760</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alt    =&gt; &#39;sort&#39;</td></tr>
<tr><td class="h">761</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">762</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</td></tr>
<tr><td class="h">763</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">764</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">765</td><td colspan="6"></td></tr><tr><td class="h">766</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DG: allow headers without b.g too (consistent and yes,</td></tr>
<tr><td class="h">767</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# I use this)</td></tr>
<tr><td class="h">768</td><td><div class="c3">527</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L768">50</a></div></td><td></td><td></td><td><div>3249</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{bgcolor} = $headerBg unless ( $headerBg =~ /none/i );</td></tr>
<tr><td class="h">769</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1711</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{maxCols} = $maxCols;</td></tr>
<tr><td class="h">770</td><td colspan="6"></td></tr><tr><td class="h">771</td><td><div class="c3">527</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L771">50</a></div></td><td></td><td></td><td><div>2149</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $isSorted ) {</td></tr>
<tr><td class="h">772</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L772">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;ASCENDING&#39;} ) {</td></tr>
<tr><td class="h">773</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tableAnchor =</td></tr>
<tr><td class="h">774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::span( { title =&gt; &#39;Sorted ascending&#39; }, $upchar );</td></tr>
<tr><td class="h">775</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">776</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L776">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $currentSortDirection == $sortDirection{&#39;DESCENDING&#39;} ) {</td></tr>
<tr><td class="h">777</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tableAnchor =</td></tr>
<tr><td class="h">778</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::span( { title =&gt; &#39;Sorted descending&#39; }, $downchar );</td></tr>
<tr><td class="h">779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}                </td></tr>
<tr><td class="h">780</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}  </td></tr>
<tr><td class="h">781</td><td colspan="6"></td></tr><tr><td class="h">782</td><td><div class="c3">527</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L782">50</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L782">20</a></div></td><td></td><td><div>4648</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( defined $sortCol &amp;&amp; $colCount == $sortCol &amp;&amp;</td></tr>
<tr><td class="h">783</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined $requestedTable &amp;&amp; $requestedTable == $tableCount ) {</td></tr>
<tr><td class="h">784</td><td colspan="6"></td></tr><tr><td class="h">785</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tableAnchor = CGI::a( { name =&gt; &#39;sorted_table&#39; }, &#39;&lt;!-- --&gt;&#39; )</td></tr>
<tr><td class="h">786</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $tableAnchor;</td></tr>
<tr><td class="h">787</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">788</td><td colspan="6"></td></tr><tr><td class="h">789</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1433</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $linkColorStyle = &#39;&#39;;</td></tr>
<tr><td class="h">790</td><td><div class="c3">527</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L790">50</a></div></td><td></td><td></td><td><div>2225</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($headerColor) {</td></tr>
<tr><td class="h">791</td><td colspan="6"></td></tr><tr><td class="h">792</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#$cell = CGI::span( { style =&gt; &#39;color:&#39;.$headerColor }, $cell );</td></tr>
<tr><td class="h">793</td><td><div class="c3">527</div></td><td></td><td></td><td></td><td><div>1563</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$linkColorStyle = &#39;color:&#39; . $headerColor;</td></tr>
<tr><td class="h">794</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">795</td><td><div class="c3">527</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L795">100</a></div></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L795">100</a></div></td><td></td><td><div>2906</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $sortThisTable &amp;&amp; $rowCount == $headerRows - 1 ) {</td></tr>
<tr><td class="h">796</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L796">50</a></div></td><td></td><td></td><td><div>44</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($isSorted) {</td></tr>
<tr><td class="h">797</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L797">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{bgcolor} = $headerBgSorted</td></tr>
<tr><td class="h">798</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ( $headerBgSorted =~ /none/i );</td></tr>
<tr><td class="h">799</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">800</td><td colspan="6"></td></tr><tr><td class="h">801</td><td></td><td></td><td></td><td></td><td></td><td class="s">#my $debugText = CGI::span( { class =&gt; &#39;twikiSmall&#39; }, &#39;requestedTable=&#39;.$requestedTable.&#39;; sortCol=&#39;.$sortCol.&#39;; colCount=&#39;.$colCount.&#39;; initSort=&#39;.$initSort.&#39;; sorted=&#39;.$isSorted.&#39;; currDir=&#39;.$currentDirection.&#39;; newdir=&#39;.$newDirection.&#39; &#39;);</td></tr>
<tr><td class="h">802</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>34</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $debugText      = &#39;&#39;;</td></tr>
<tr><td class="h">803</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>127</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $linkAttributes = {</td></tr>
<tr><td class="h">804</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;href =&gt; $url</td></tr>
<tr><td class="h">805</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &#39;sortcol=&#39;</td></tr>
<tr><td class="h">806</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $colCount</td></tr>
<tr><td class="h">807</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &#39;;table=&#39;</td></tr>
<tr><td class="h">808</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $tableCount . &#39;;up=&#39;</td></tr>
<tr><td class="h">809</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $newDirection</td></tr>
<tr><td class="h">810</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &#39;#sorted_table&#39;,</td></tr>
<tr><td class="h">811</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style =&gt; $linkColorStyle,</td></tr>
<tr><td class="h">812</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel   =&gt; &#39;nofollow&#39;,</td></tr>
<tr><td class="h">813</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title =&gt; &#39;Sort by this column&#39;</td></tr>
<tr><td class="h">814</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">815</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L815">50</a></div></td><td></td><td></td><td><div>61</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $cell =~ /\[\[|href/o ) {</td></tr>
<tr><td class="h">816</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cell .=</td></tr>
<tr><td class="h">817</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$debugText . &#39; &#39;</td></tr>
<tr><td class="h">818</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. CGI::a( $linkAttributes, $diamondchar )</td></tr>
<tr><td class="h">819</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $tableAnchor;</td></tr>
<tr><td class="h">820</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">821</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">822</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>50</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cell = $debugText</td></tr>
<tr><td class="h">823</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. CGI::a( $linkAttributes, $cell )</td></tr>
<tr><td class="h">824</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. $tableAnchor;</td></tr>
<tr><td class="h">825</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">826</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">827</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">828</td><td><div class="c3">516</div></td><td></td><td></td><td></td><td><div>2087</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $linkAttributes = { style =&gt; $linkColorStyle };</td></tr>
<tr><td class="h">829</td><td><div class="c3">516</div></td><td></td><td></td><td></td><td><div>2435</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cell =</td></tr>
<tr><td class="h">830</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::span( $linkAttributes,</td></tr>
<tr><td class="h">831</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39; &lt;strong&gt; &#39; . $cell . &#39; &lt;/strong&gt; &#39; );</td></tr>
<tr><td class="h">832</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">833</td><td colspan="6"></td></tr><tr><td class="h">834</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">835</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">836</td><td colspan="6"></td></tr><tr><td class="h">837</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $type is not &#39;th&#39;</td></tr>
<tr><td class="h">838</td><td><div class="c3">1969</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L838">50</a></div></td><td></td><td></td><td><div>8714</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@dataBg) {</td></tr>
<tr><td class="h">839</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>4733</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $bgcolor;</td></tr>
<tr><td class="h">840</td><td><div class="c3">1969</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L840">50</a></div></td><td></td><td></td><td><div>7030</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($isSorted) {</td></tr>
<tr><td class="h">841</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bgcolor =</td></tr>
<tr><td class="h">842</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dataBgSorted[ $dataColorCount %</td></tr>
<tr><td class="h">843</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( $#dataBgSorted + 1 ) ];</td></tr>
<tr><td class="h">844</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">845</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">846</td><td><div class="c3">1969</div></td><td></td><td></td><td></td><td><div>9223</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bgcolor =</td></tr>
<tr><td class="h">847</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dataBg[ $dataColorCount % ( $#dataBg + 1 ) ];</td></tr>
<tr><td class="h">848</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">849</td><td><div class="c3">1969</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L849">50</a></div></td><td></td><td></td><td><div>12301</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{bgcolor} = $bgcolor unless ( $bgcolor =~ /none/i );</td></tr>
<tr><td class="h">850</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">851</td><td><div class="c3">1969</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L851">50</a></div></td><td></td><td></td><td><div>8262</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@dataColor) {</td></tr>
<tr><td class="h">852</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $color =</td></tr>
<tr><td class="h">853</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dataColor[ $dataColorCount % ( $#dataColor + 1 ) ];</td></tr>
<tr><td class="h">854</td><td colspan="6"></td></tr><tr><td class="h">855</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L855">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cell = CGI::span( { style =&gt; &#39;color:&#39; . $color },</td></tr>
<tr><td class="h">856</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39; &#39; . $cell . &#39; &#39; )</td></tr>
<tr><td class="h">857</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $color =~ /^(|none)$/i;</td></tr>
<tr><td class="h">858</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">859</td><td><div class="c3">1969</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L859">50</a></div></td><td></td><td></td><td><div>9251</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;td&#39; unless $type eq &#39;Y&#39;;</td></tr>
<tr><td class="h">860</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}    ###if( $type eq &#39;th&#39; )</td></tr>
<tr><td class="h">861</td><td colspan="6"></td></tr><tr><td class="h">862</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>8592</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $isLastRow = ( $rowCount == $numberOfRows - 1 );</td></tr>
<tr><td class="h">863</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L863">50</a></div></td><td></td><td></td><td><div>11513</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $attr-&gt;{rowspan} ) {</td></tr>
<tr><td class="h">864</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isLastRow =</td></tr>
<tr><td class="h">865</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( ( $rowCount + ( $attr-&gt;{rowspan} - 1 ) ) ==</td></tr>
<tr><td class="h">866</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$numberOfRows - 1 );</td></tr>
<tr><td class="h">867</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">868</td><td colspan="6"></td></tr><tr><td class="h">869</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# CSS class name</td></tr>
<tr><td class="h">870</td><td><div class="c3">2496</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L870">100</a></div></td><td></td><td></td><td><div>11061</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{class} = _appendFirstColumnCssClass( $attr-&gt;{class} )</td></tr>
<tr><td class="h">871</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $colCount == 0;</td></tr>
<tr><td class="h">872</td><td><div class="c3">2496</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L872">100</a></div></td><td></td><td></td><td><div>10709</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attr-&gt;{class} = _appendLastRowCssClass( $attr-&gt;{class} )</td></tr>
<tr><td class="h">873</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $isLastRow;</td></tr>
<tr><td class="h">874</td><td colspan="6"></td></tr><tr><td class="h">875</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>6389</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$colCount++;</td></tr>
<tr><td class="h">876</td><td><div class="c3">2496</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L876">50</a></div></td><td></td><td></td><td><div>10626</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if ( $type eq &#39;Y&#39; );</td></tr>
<tr><td class="h">877</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>7609</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $fn = &#39;CGI::&#39; . $type;</td></tr>
<tr><td class="h">878</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L878">1</a></div></td><td><div>12</div><div>2</div><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no strict &#39;refs&#39;;</td></tr>
<tr><td class="h">879</td><td><div class="c3">2496</div></td><td></td><td></td><td></td><td><div>13737</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rowtext .= &amp;$fn( $attr, &quot; $cell &quot; );</td></tr>
<tr><td class="h">880</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L880">1</a></div></td><td><div>8</div><div>3</div><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use strict &#39;refs&#39;;</td></tr>
<tr><td class="h">881</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}    # foreach my $fcell ( @$row )</td></tr>
<tr><td class="h">882</td><td colspan="6"></td></tr><tr><td class="h">883</td><td><div class="c3">253</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L883">100</a></div></td><td></td><td></td><td><div>1913</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$text .= $currTablePre</td></tr>
<tr><td class="h">884</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. CGI::Tr(</td></tr>
<tr><td class="h">885</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ class =&gt; ( $rowCount % 2 ) ? &#39;twikiTableOdd&#39; : &#39;twikiTableEven&#39; },</td></tr>
<tr><td class="h">886</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rowtext</td></tr>
<tr><td class="h">887</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) . &quot;\n&quot;;</td></tr>
<tr><td class="h">888</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>899</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rowCount++;</td></tr>
<tr><td class="h">889</td><td><div class="c3">253</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L889">100</a></div></td><td></td><td></td><td><div>1164</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isHeaderRow = 1 if ( $headerCellCount == $colCount );</td></tr>
<tr><td class="h">890</td><td><div class="c3">253</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L890">100</a></div></td><td></td><td></td><td><div>937</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($isHeaderRow) {</td></tr>
<tr><td class="h">891</td><td colspan="6"></td></tr><tr><td class="h">892</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# reset data color count to start with first color after</td></tr>
<tr><td class="h">893</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# each table heading</td></tr>
<tr><td class="h">894</td><td><div class="c3">61</div></td><td></td><td></td><td></td><td><div>236</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dataColorCount = 0;</td></tr>
<tr><td class="h">895</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">896</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">897</td><td><div class="c3">192</div></td><td></td><td></td><td></td><td><div>747</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dataColorCount++;</td></tr>
<tr><td class="h">898</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">899</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}    # foreach my $row ( @curTable )</td></tr>
<tr><td class="h">900</td><td colspan="6"></td></tr><tr><td class="h">901</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>171</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$text .= $currTablePre . CGI::end_table() . &quot;\n&quot;;</td></tr>
<tr><td class="h">902</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>130</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_setDefaults();</td></tr>
<tr><td class="h">903</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>729</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $text;</td></tr>
<tr><td class="h">904</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">905</td><td colspan="6"></td></tr><tr><td class="h">906</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub handler {</td></tr>
<tr><td class="h">907</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;### my ( $text, $removed ) = @_;</td></tr>
<tr><td class="h">908</td><td colspan="6"></td></tr><tr><td class="h">909</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L909">100</a></div></td><td></td><td><div class="c3"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--subroutine.html#L909">3</a></div></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ($TWiki::Plugins::TablePlugin::initialised) {</td></tr>
<tr><td class="h">910</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$insideTABLE = 0;</td></tr>
<tr><td class="h">911</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tableCount  = 0;</td></tr>
<tr><td class="h">912</td><td colspan="6"></td></tr><tr><td class="h">913</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$twoCol = 1;</td></tr>
<tr><td class="h">914</td><td colspan="6"></td></tr><tr><td class="h">915</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $cgi = TWiki::Func::getCgiQuery();</td></tr>
<tr><td class="h">916</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L916">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless $cgi;</td></tr>
<tr><td class="h">917</td><td colspan="6"></td></tr><tr><td class="h">918</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract and attach existing parameters</td></tr>
<tr><td class="h">919</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $plist = $cgi-&gt;query_string();</td></tr>
<tr><td class="h">920</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$plist =~ s/\;/\&amp;/go;</td></tr>
<tr><td class="h">921</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$plist =~ s/\&amp;?sortcol.*up=[0-9]+\&amp;?//go;</td></tr>
<tr><td class="h">922</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L922">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$plist .= &#39;&amp;&#39; if $plist;</td></tr>
<tr><td class="h">923</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url = $cgi-&gt;url . $cgi-&gt;path_info() . &#39;?&#39; . $plist;</td></tr>
<tr><td class="h">924</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url =~ s/\&amp;/\&amp;amp;/go;</td></tr>
<tr><td class="h">925</td><td colspan="6"></td></tr><tr><td class="h">926</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortColFromUrl = $cgi-&gt;param(&#39;sortcol&#39;);    # zero based: 0 is first column</td></tr>
<tr><td class="h">927</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requestedTable = $cgi-&gt;param(&#39;table&#39;);</td></tr>
<tr><td class="h">928</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$up             = $cgi-&gt;param(&#39;up&#39;);</td></tr>
<tr><td class="h">929</td><td colspan="6"></td></tr><tr><td class="h">930</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortTablesInText = 0;</td></tr>
<tr><td class="h">931</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortAttachments  = 0;</td></tr>
<tr><td class="h">932</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $tmp = TWiki::Func::getPreferencesValue(&#39;TABLEPLUGIN_SORT&#39;);</td></tr>
<tr><td class="h">933</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L933">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L933">0</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L933">33</a></div></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( !$tmp || $tmp =~ /^all$/oi ) {</td></tr>
<tr><td class="h">934</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortTablesInText = 1;</td></tr>
<tr><td class="h">935</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortAttachments  = 1;</td></tr>
<tr><td class="h">936</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">937</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ( $tmp =~ /^attachments$/oi ) {</td></tr>
<tr><td class="h">938</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortAttachments = 1;</td></tr>
<tr><td class="h">939</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">940</td><td colspan="6"></td></tr><tr><td class="h">941</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pluginAttrs =</td></tr>
<tr><td class="h">942</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TWiki::Func::getPreferencesValue(&#39;TABLEPLUGIN_TABLEATTRIBUTES&#39;);</td></tr>
<tr><td class="h">943</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$prefsAttrs = TWiki::Func::getPreferencesValue(&#39;TABLEATTRIBUTES&#39;);</td></tr>
<tr><td class="h">944</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_setDefaults();</td></tr>
<tr><td class="h">945</td><td colspan="6"></td></tr><tr><td class="h">946</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$TWiki::Plugins::TablePlugin::initialised = 1;</td></tr>
<tr><td class="h">947</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">948</td><td colspan="6"></td></tr><tr><td class="h">949</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $initSort;</td></tr>
<tr><td class="h">950</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$insideTABLE = 0;</td></tr>
<tr><td class="h">951</td><td colspan="6"></td></tr><tr><td class="h">952</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $defaultSort = $sortAllTables;</td></tr>
<tr><td class="h">953</td><td colspan="6"></td></tr><tr><td class="h">954</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $acceptable = $sortAllTables;</td></tr>
<tr><td class="h">955</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>666</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @lines = split( /\r?\n/, $_[0] );</td></tr>
<tr><td class="h">956</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>72</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for (@lines) {</td></tr>
<tr><td class="h">957</td><td><div class="c3">582</div><div class="c3">31</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L957">100</a></div><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L957">100</a></div><div class="c3" title="T/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L957">100</a></div></td><td><div class="c0"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--condition.html#L957">67</a></div></td><td></td><td><div>6322</div><div>122</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (s/%TABLE(?:{(.*?)})?%/_parseParameters($1)/se) {</td></tr>
<tr><td class="h">958</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>132</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$acceptable = 1;</td></tr>
<tr><td class="h">959</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">960</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ( $acceptable</td></tr>
<tr><td class="h">961</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>964</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; s/^(\s*)\|(.*\|\s*)$/_processTableRow($1,$2)/eo )</td></tr>
<tr><td class="h">962</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">963</td><td><div class="c3">253</div></td><td></td><td></td><td></td><td><div>1032</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$insideTABLE = 1;</td></tr>
<tr><td class="h">964</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">965</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($insideTABLE) {</td></tr>
<tr><td class="h">966</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>129</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_           = emitTable() . $_;</td></tr>
<tr><td class="h">967</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>123</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$insideTABLE = 0;</td></tr>
<tr><td class="h">968</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>84</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $initSort;</td></tr>
<tr><td class="h">969</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>86</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sortAllTables = $defaultSort;</td></tr>
<tr><td class="h">970</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>125</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$acceptable    = $defaultSort;</td></tr>
<tr><td class="h">971</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">972</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">973</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>810</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$_[0] = join( &quot;\n&quot;, @lines );</td></tr>
<tr><td class="h">974</td><td colspan="6"></td></tr><tr><td class="h">975</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl5-TWiki-Plugins-TablePlugin-Core-pm--branch.html#L975">50</a></div></td><td></td><td></td><td><div>133</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($insideTABLE) {</td></tr>
<tr><td class="h">976</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[0] .= emitTable();</td></tr>
<tr><td class="h">977</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">978</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">979</td><td colspan="6"></td></tr><tr><td class="h">980</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
