<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 0.61
Devel::Cover is copyright 2001-2006, Paul Johnson (pjcj@cpan.org)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: /usr/lib/perl5/GD/Polygon.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">/usr/lib/perl5/GD/Polygon.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">8.9%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">package GD::Polygon;</td></tr>
<tr><td class="h">2</td><td colspan="6"></td></tr><tr><td class="h">3</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L3">1</a></div></td><td><div>6</div><div>2</div><div>5</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">4</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L4">1</a></div></td><td><div>6</div><div>3</div><div>6</div></td><td class="s">use Carp &#39;carp&#39;;</td></tr>
<tr><td class="h">5</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L5">1</a></div></td><td><div>7</div><div>3</div><div>5</div></td><td class="s">use GD;</td></tr>
<tr><td class="h">6</td><td colspan="6"></td></tr><tr><td class="h">7</td><td></td><td></td><td></td><td></td><td></td><td class="s"># old documentation error</td></tr>
<tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td class="s">*GD::Polygon::delete = \&amp;deletePt;</td></tr>
<tr><td class="h">9</td><td colspan="6"></td></tr><tr><td class="h">10 - 40</td><td colspan="5"></td><td class="s"><pre>=head1 NAME

GD::Polygon - Polygon class for the GD image library

=head1 SYNOPSIS

See L&lt;GD&gt;

=head1 DESCRIPTION

See L&lt;GD&gt;

=head1 AUTHOR

The GD.pm interface is copyright 1995-2005, Lincoln D. Stein.  It is
distributed under the same terms as Perl itself.  See the &quot;Artistic
License&quot; in the Perl source code distribution for licensing terms.

The latest versions of GD.pm are available on CPAN:

  http://www.cpan.org

=head1 SEE ALSO

L&lt;GD&gt;
L&lt;GD::Polyline&gt;,
L&lt;GD::SVG&gt;,
L&lt;GD::Simple&gt;,
L&lt;Image::Magick&gt;

=cut</pre></td></tr>
<tr><td class="h">41</td><td colspan="6"></td></tr><tr><td class="h">42</td><td></td><td></td><td></td><td></td><td></td><td class="s">### The polygon object ###</td></tr>
<tr><td class="h">43</td><td></td><td></td><td></td><td></td><td></td><td class="s"># create a new polygon</td></tr>
<tr><td class="h">44</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">45</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L45">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $class = shift;</td></tr>
<tr><td class="h">46</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return bless { &#39;length&#39;=&gt;0,&#39;points&#39;=&gt;[] },$class;</td></tr>
<tr><td class="h">47</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">48</td><td colspan="6"></td></tr><tr><td class="h">49</td><td></td><td></td><td></td><td></td><td></td><td class="s"># automatic destruction of the polygon</td></tr>
<tr><td class="h">50</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub DESTROY {</td></tr>
<tr><td class="h">51</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L51">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">52</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $self-&gt;{&#39;points&#39;};</td></tr>
<tr><td class="h">53</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">54</td><td colspan="6"></td></tr><tr><td class="h">55</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub clear {</td></tr>
<tr><td class="h">56</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L56">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">57</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;points&#39;} = [];</td></tr>
<tr><td class="h">58</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">59</td><td colspan="6"></td></tr><tr><td class="h">60</td><td></td><td></td><td></td><td></td><td></td><td class="s"># add an x,y vertex to the polygon</td></tr>
<tr><td class="h">61</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub addPt {</td></tr>
<tr><td class="h">62</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L62">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$x,$y) = @_;</td></tr>
<tr><td class="h">63</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@{$self-&gt;{&#39;points&#39;}},[$x,$y]);</td></tr>
<tr><td class="h">64</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;length&#39;}++;</td></tr>
<tr><td class="h">65</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">66</td><td colspan="6"></td></tr><tr><td class="h">67</td><td></td><td></td><td></td><td></td><td></td><td class="s"># get a vertex</td></tr>
<tr><td class="h">68</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub getPt {</td></tr>
<tr><td class="h">69</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L69">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$index) = @_;</td></tr>
<tr><td class="h">70</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L70">0</a></div></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--condition.html#L70">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return () unless ($index&gt;=0) &amp;&amp; ($index&lt;$self-&gt;{&#39;length&#39;});</td></tr>
<tr><td class="h">71</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @{$self-&gt;{&#39;points&#39;}-&gt;[$index]};</td></tr>
<tr><td class="h">72</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">73</td><td colspan="6"></td></tr><tr><td class="h">74</td><td></td><td></td><td></td><td></td><td></td><td class="s"># change the value of a vertex</td></tr>
<tr><td class="h">75</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub setPt {</td></tr>
<tr><td class="h">76</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L76">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$index,$x,$y) = @_;</td></tr>
<tr><td class="h">77</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L77">0</a></div></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--condition.html#L77">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless (($index&gt;=0) &amp;&amp; ($index&lt;$self-&gt;{&#39;length&#39;})) {</td></tr>
<tr><td class="h">78</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carp &quot;Attempt to set an undefined polygon vertex&quot;;</td></tr>
<tr><td class="h">79</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">80</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">81</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@{$self-&gt;{&#39;points&#39;}-&gt;[$index]} = ($x,$y);</td></tr>
<tr><td class="h">82</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;1;</td></tr>
<tr><td class="h">83</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">84</td><td colspan="6"></td></tr><tr><td class="h">85</td><td></td><td></td><td></td><td></td><td></td><td class="s"># return the total number of vertices</td></tr>
<tr><td class="h">86</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub length {</td></tr>
<tr><td class="h">87</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L87">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">88</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;length&#39;};</td></tr>
<tr><td class="h">89</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">90</td><td colspan="6"></td></tr><tr><td class="h">91</td><td></td><td></td><td></td><td></td><td></td><td class="s"># return the array of vertices.</td></tr>
<tr><td class="h">92</td><td></td><td></td><td></td><td></td><td></td><td class="s"># each vertex is an two-member (x,y) array</td></tr>
<tr><td class="h">93</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub vertices {</td></tr>
<tr><td class="h">94</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L94">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">95</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @{$self-&gt;{&#39;points&#39;}};</td></tr>
<tr><td class="h">96</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">97</td><td colspan="6"></td></tr><tr><td class="h">98</td><td></td><td></td><td></td><td></td><td></td><td class="s"># return the bounding box of the polygon</td></tr>
<tr><td class="h">99</td><td></td><td></td><td></td><td></td><td></td><td class="s"># (smallest rectangle that contains it)</td></tr>
<tr><td class="h">100</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub bounds {</td></tr>
<tr><td class="h">101</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L101">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">102</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($top,$bottom,$left,$right) = @_;</td></tr>
<tr><td class="h">103</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$top =    99999999;</td></tr>
<tr><td class="h">104</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$bottom =-99999999;</td></tr>
<tr><td class="h">105</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$left =   99999999;</td></tr>
<tr><td class="h">106</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$right = -99999999;</td></tr>
<tr><td class="h">107</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $v;</td></tr>
<tr><td class="h">108</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $v ($self-&gt;vertices) {</td></tr>
<tr><td class="h">109</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L109">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$left = $v-&gt;[0] if $left &gt; $v-&gt;[0];</td></tr>
<tr><td class="h">110</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L110">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$right = $v-&gt;[0] if $right &lt; $v-&gt;[0];</td></tr>
<tr><td class="h">111</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L111">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$top = $v-&gt;[1] if $top &gt; $v-&gt;[1];</td></tr>
<tr><td class="h">112</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L112">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bottom = $v-&gt;[1] if $bottom &lt; $v-&gt;[1];</td></tr>
<tr><td class="h">113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">114</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ($left,$top,$right,$bottom);</td></tr>
<tr><td class="h">115</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">116</td><td colspan="6"></td></tr><tr><td class="h">117</td><td></td><td></td><td></td><td></td><td></td><td class="s"># delete a vertex, returning it, just for fun</td></tr>
<tr><td class="h">118</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub deletePt {</td></tr>
<tr><td class="h">119</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L119">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($self,$index) = @_;</td></tr>
<tr><td class="h">120</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L120">0</a></div></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--condition.html#L120">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (($index&gt;=0) &amp;&amp; ($index&lt;@{$self-&gt;{&#39;points&#39;}})) {</td></tr>
<tr><td class="h">121</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;carp &quot;Attempt to delete an undefined polygon vertex&quot;;</td></tr>
<tr><td class="h">122</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">124</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($vertex) = splice(@{$self-&gt;{&#39;points&#39;}},$index,1);</td></tr>
<tr><td class="h">125</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;length&#39;}--;</td></tr>
<tr><td class="h">126</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return @$vertex;</td></tr>
<tr><td class="h">127</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">128</td><td colspan="6"></td></tr><tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td class="s"># translate the polygon in space by deltaX and deltaY</td></tr>
<tr><td class="h">130</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub offset {</td></tr>
<tr><td class="h">131</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L131">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$dh,$dv) = @_;</td></tr>
<tr><td class="h">132</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $size = $self-&gt;length;</td></tr>
<tr><td class="h">133</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($i);</td></tr>
<tr><td class="h">134</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for ($i=0;$i&lt;$size;$i++) {</td></tr>
<tr><td class="h">135</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($x,$y)=$self-&gt;getPt($i);</td></tr>
<tr><td class="h">136</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;setPt($i,$x+$dh,$y+$dv);</td></tr>
<tr><td class="h">137</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">139</td><td colspan="6"></td></tr><tr><td class="h">140</td><td></td><td></td><td></td><td></td><td></td><td class="s"># map the polygon from sourceRect to destRect,</td></tr>
<tr><td class="h">141</td><td></td><td></td><td></td><td></td><td></td><td class="s"># translating and resizing it if necessary</td></tr>
<tr><td class="h">142</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub map {</td></tr>
<tr><td class="h">143</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L143">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$srcL,$srcT,$srcR,$srcB,$destL,$destT,$destR,$destB) = @_;</td></tr>
<tr><td class="h">144</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($factorV) = ($destB-$destT)/($srcB-$srcT);</td></tr>
<tr><td class="h">145</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($factorH) = ($destR-$destL)/($srcR-$srcL);</td></tr>
<tr><td class="h">146</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($vertices) = $self-&gt;length;</td></tr>
<tr><td class="h">147</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($i);</td></tr>
<tr><td class="h">148</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for ($i=0;$i&lt;$vertices;$i++) {</td></tr>
<tr><td class="h">149</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($x,$y) = $self-&gt;getPt($i);</td></tr>
<tr><td class="h">150</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$x = int($destL + ($x - $srcL) * $factorH);</td></tr>
<tr><td class="h">151</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$y = int($destT + ($y - $srcT) * $factorV);</td></tr>
<tr><td class="h">152</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;setPt($i,$x,$y);</td></tr>
<tr><td class="h">153</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">154</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">155</td><td colspan="6"></td></tr><tr><td class="h">156</td><td></td><td></td><td></td><td></td><td></td><td class="s"># These routines added by Winfriend Koenig.</td></tr>
<tr><td class="h">157</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub toPt {</td></tr>
<tr><td class="h">158</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L158">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self, $dx, $dy) = @_;</td></tr>
<tr><td class="h">159</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L159">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ($self-&gt;length &gt; 0) {</td></tr>
<tr><td class="h">160</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;addPt($dx,$dy);</td></tr>
<tr><td class="h">161</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">162</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">163</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($x, $y) = $self-&gt;getPt($self-&gt;length-1);</td></tr>
<tr><td class="h">164</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;addPt($x+$dx,$y+$dy);</td></tr>
<tr><td class="h">165</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">166</td><td colspan="6"></td></tr><tr><td class="h">167</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub transform($$$$$$$) {</td></tr>
<tr><td class="h">168</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# see PostScript Ref. page 154</td></tr>
<tr><td class="h">169</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L169">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self, $a, $b, $c, $d, $tx, $ty) = @_;</td></tr>
<tr><td class="h">170</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $size = $self-&gt;length;</td></tr>
<tr><td class="h">171</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for (my $i=0;$i&lt;$size;$i++) {</td></tr>
<tr><td class="h">172</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($x,$y)=$self-&gt;getPt($i);</td></tr>
<tr><td class="h">173</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;setPt($i, $a*$x+$c*$y+$tx, $b*$x+$d*$y+$ty);</td></tr>
<tr><td class="h">174</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">175</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">176</td><td colspan="6"></td></tr><tr><td class="h">177</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub scale {</td></tr>
<tr><td class="h">178</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--subroutine.html#L178">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self, $sx, $sy, $cx, $cy) = @_;</td></tr>
<tr><td class="h">179</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-lib-perl5-GD-Polygon-pm--branch.html#L179">0</a></div></td><td><div class="c0"><a href="-usr-lib-perl5-GD-Polygon-pm--condition.html#L179">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;offset(-$cx,-$cy) if defined $cx or defined $cy;</td></tr>
<tr><td class="h">180</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;transform($sx,0,0,$sy,$cx,$cy);</td></tr>
<tr><td class="h">181</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">182</td><td colspan="6"></td></tr><tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
