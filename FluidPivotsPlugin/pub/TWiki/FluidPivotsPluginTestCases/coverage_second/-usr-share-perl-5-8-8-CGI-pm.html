<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 0.61
Devel::Cover is copyright 2001-2006, Paul Johnson (pjcj@cpan.org)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: /usr/share/perl/5.8.8/CGI.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">/usr/share/perl/5.8.8/CGI.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">47.9%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">package CGI;</td></tr>
<tr><td class="h">2</td><td></td><td></td><td></td><td></td><td></td><td class="s">require 5.004;</td></tr>
<tr><td class="h">3</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3">1</a></div></td><td><div>6</div><div>2</div><div>11</div></td><td class="s">use Carp &#39;croak&#39;;</td></tr>
<tr><td class="h">4</td><td colspan="6"></td></tr><tr><td class="h">5</td><td></td><td></td><td></td><td></td><td></td><td class="s"># See the bottom of this file for the POD documentation.  Search for the</td></tr>
<tr><td class="h">6</td><td></td><td></td><td></td><td></td><td></td><td class="s"># string &#39;=head&#39;.</td></tr>
<tr><td class="h">7</td><td colspan="6"></td></tr><tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td class="s"># You can run this file through either pod2man or pod2html to produce pretty</td></tr>
<tr><td class="h">9</td><td></td><td></td><td></td><td></td><td></td><td class="s"># documentation in manual or html file format (these utilities are part of the</td></tr>
<tr><td class="h">10</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Perl 5 distribution).</td></tr>
<tr><td class="h">11</td><td colspan="6"></td></tr><tr><td class="h">12</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Copyright 1995-1998 Lincoln D. Stein.  All rights reserved.</td></tr>
<tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td class="s"># It may be used and modified freely, but I do request that this copyright</td></tr>
<tr><td class="h">14</td><td></td><td></td><td></td><td></td><td></td><td class="s"># notice remain attached to the file.  You may modify this module as you </td></tr>
<tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td class="s"># wish, but if you redistribute a modified version, please attach a note</td></tr>
<tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td class="s"># listing the modifications you have made.</td></tr>
<tr><td class="h">17</td><td colspan="6"></td></tr><tr><td class="h">18</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The most recent version and complete docs are available at:</td></tr>
<tr><td class="h">19</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   http://stein.cshl.org/WWW/software/CGI/</td></tr>
<tr><td class="h">20</td><td colspan="6"></td></tr><tr><td class="h">21</td><td></td><td></td><td></td><td></td><td></td><td class="s">$CGI::revision = &#39;$Id: CGI.pm,v 1.194 2005/12/06 22:12:56 lstein Exp $&#39;;</td></tr>
<tr><td class="h">22</td><td></td><td></td><td></td><td></td><td></td><td class="s">$CGI::VERSION=&#39;3.15&#39;;</td></tr>
<tr><td class="h">23</td><td colspan="6"></td></tr><tr><td class="h">24</td><td></td><td></td><td></td><td></td><td></td><td class="s"># HARD-CODED LOCATION FOR FILE UPLOAD TEMPORARY FILES.</td></tr>
<tr><td class="h">25</td><td></td><td></td><td></td><td></td><td></td><td class="s"># UNCOMMENT THIS ONLY IF YOU KNOW WHAT YOU&#39;RE DOING.</td></tr>
<tr><td class="h">26</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $CGITempFile::TMPDIRECTORY = &#39;/usr/tmp&#39;;</td></tr>
<tr><td class="h">27</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L27">1</a></div></td><td><div>9</div><div>18</div><div>9</div></td><td class="s">use CGI::Util qw(rearrange make_attributes unescape escape expires ebcdic2ascii ascii2ebcdic);</td></tr>
<tr><td class="h">28</td><td colspan="6"></td></tr><tr><td class="h">29</td><td></td><td></td><td></td><td></td><td></td><td class="s">#use constant XHTML_DTD =&gt; [&#39;-//W3C//DTD XHTML Basic 1.0//EN&#39;,</td></tr>
<tr><td class="h">30</td><td></td><td></td><td></td><td></td><td></td><td class="s">#                           &#39;http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd&#39;];</td></tr>
<tr><td class="h">31</td><td colspan="6"></td></tr><tr><td class="h">32</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">use constant XHTML_DTD =&gt; [&#39;-//W3C//DTD XHTML 1.0 Transitional//EN&#39;,</td></tr>
<tr><td class="h">33</td><td><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L33">1</a></div></td><td><div>10</div><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#39;];</td></tr>
<tr><td class="h">34</td><td colspan="6"></td></tr><tr><td class="h">35</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">36</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;local $^W = 0;</td></tr>
<tr><td class="h">37</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$TAINTED = substr(&quot;$0$^X&quot;,0,0);</td></tr>
<tr><td class="h">38</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">39</td><td colspan="6"></td></tr><tr><td class="h">40</td><td></td><td></td><td></td><td></td><td></td><td class="s">$MOD_PERL = 0; # no mod_perl by default</td></tr>
<tr><td class="h">41</td><td></td><td></td><td></td><td></td><td></td><td class="s">@SAVED_SYMBOLS = ();</td></tr>
<tr><td class="h">42</td><td colspan="6"></td></tr><tr><td class="h">43</td><td></td><td></td><td></td><td></td><td></td><td class="s"># &gt;&gt;&gt;&gt;&gt; Here are some globals that you might want to adjust &lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr><td class="h">44</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub initialize_globals {</td></tr>
<tr><td class="h">45</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to enable copious autoloader debugging messages</td></tr>
<tr><td class="h">46</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L46">1</a></div></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$AUTOLOAD_DEBUG = 0;</td></tr>
<tr><td class="h">47</td><td colspan="6"></td></tr><tr><td class="h">48</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to generate XTML-compatible output</td></tr>
<tr><td class="h">49</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$XHTML = 1;</td></tr>
<tr><td class="h">50</td><td colspan="6"></td></tr><tr><td class="h">51</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Change this to the preferred DTD to print in start_html()</td></tr>
<tr><td class="h">52</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# or use default_dtd(&#39;text of DTD to use&#39;);</td></tr>
<tr><td class="h">53</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$DEFAULT_DTD = [ &#39;-//W3C//DTD HTML 4.01 Transitional//EN&#39;,</td></tr>
<tr><td class="h">54</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;http://www.w3.org/TR/html4/loose.dtd&#39; ] ;</td></tr>
<tr><td class="h">55</td><td colspan="6"></td></tr><tr><td class="h">56</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to enable NOSTICKY scripts</td></tr>
<tr><td class="h">57</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# or: </td></tr>
<tr><td class="h">58</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    1) use CGI qw(-nosticky)</td></tr>
<tr><td class="h">59</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    2) $CGI::nosticky(1)</td></tr>
<tr><td class="h">60</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$NOSTICKY = 0;</td></tr>
<tr><td class="h">61</td><td colspan="6"></td></tr><tr><td class="h">62</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to enable NPH scripts</td></tr>
<tr><td class="h">63</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# or: </td></tr>
<tr><td class="h">64</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    1) use CGI qw(-nph)</td></tr>
<tr><td class="h">65</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    2) CGI::nph(1)</td></tr>
<tr><td class="h">66</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    3) print header(-nph=&gt;1)</td></tr>
<tr><td class="h">67</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$NPH = 0;</td></tr>
<tr><td class="h">68</td><td colspan="6"></td></tr><tr><td class="h">69</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to enable debugging from @ARGV</td></tr>
<tr><td class="h">70</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set to 2 to enable debugging from STDIN</td></tr>
<tr><td class="h">71</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG = 1;</td></tr>
<tr><td class="h">72</td><td colspan="6"></td></tr><tr><td class="h">73</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to make the temporary files created</td></tr>
<tr><td class="h">74</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# during file uploads safe from prying eyes</td></tr>
<tr><td class="h">75</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# or do...</td></tr>
<tr><td class="h">76</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    1) use CGI qw(:private_tempfiles)</td></tr>
<tr><td class="h">77</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    2) CGI::private_tempfiles(1);</td></tr>
<tr><td class="h">78</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$PRIVATE_TEMPFILES = 0;</td></tr>
<tr><td class="h">79</td><td colspan="6"></td></tr><tr><td class="h">80</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to generate automatic tab indexes</td></tr>
<tr><td class="h">81</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$TABINDEX = 0;</td></tr>
<tr><td class="h">82</td><td colspan="6"></td></tr><tr><td class="h">83</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to 1 to cause files uploaded in multipart documents</td></tr>
<tr><td class="h">84</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# to be closed, instead of caching the file handle</td></tr>
<tr><td class="h">85</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# or:</td></tr>
<tr><td class="h">86</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    1) use CGI qw(:close_upload_files)</td></tr>
<tr><td class="h">87</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    2) $CGI::close_upload_files(1);</td></tr>
<tr><td class="h">88</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Uploads with many files run out of file handles.</td></tr>
<tr><td class="h">89</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Also, for performance, since the file is already on disk,</td></tr>
<tr><td class="h">90</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# it can just be renamed, instead of read and written.</td></tr>
<tr><td class="h">91</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CLOSE_UPLOAD_FILES = 0;</td></tr>
<tr><td class="h">92</td><td colspan="6"></td></tr><tr><td class="h">93</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Set this to a positive value to limit the size of a POSTing</td></tr>
<tr><td class="h">94</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# to a certain number of bytes:</td></tr>
<tr><td class="h">95</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$POST_MAX = -1;</td></tr>
<tr><td class="h">96</td><td colspan="6"></td></tr><tr><td class="h">97</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Change this to 1 to disable uploads entirely:</td></tr>
<tr><td class="h">98</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$DISABLE_UPLOADS = 0;</td></tr>
<tr><td class="h">99</td><td colspan="6"></td></tr><tr><td class="h">100</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Automatically determined -- don&#39;t change</td></tr>
<tr><td class="h">101</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$EBCDIC = 0;</td></tr>
<tr><td class="h">102</td><td colspan="6"></td></tr><tr><td class="h">103</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Change this to 1 to suppress redundant HTTP headers</td></tr>
<tr><td class="h">104</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$HEADERS_ONCE = 0;</td></tr>
<tr><td class="h">105</td><td colspan="6"></td></tr><tr><td class="h">106</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# separate the name=value pairs by semicolons rather than ampersands</td></tr>
<tr><td class="h">107</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$USE_PARAM_SEMICOLONS = 1;</td></tr>
<tr><td class="h">108</td><td colspan="6"></td></tr><tr><td class="h">109</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Do not include undefined params parsed from query string</td></tr>
<tr><td class="h">110</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# use CGI qw(-no_undef_params);</td></tr>
<tr><td class="h">111</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$NO_UNDEF_PARAMS = 0;</td></tr>
<tr><td class="h">112</td><td colspan="6"></td></tr><tr><td class="h">113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Other globals that you shouldn&#39;t worry about.</td></tr>
<tr><td class="h">114</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $Q;</td></tr>
<tr><td class="h">115</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$BEEN_THERE = 0;</td></tr>
<tr><td class="h">116</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$DTD_PUBLIC_IDENTIFIER = &quot;&quot;;</td></tr>
<tr><td class="h">117</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef @QUERY_PARAM;</td></tr>
<tr><td class="h">118</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef %EXPORT;</td></tr>
<tr><td class="h">119</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $QUERY_CHARSET;</td></tr>
<tr><td class="h">120</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef %QUERY_FIELDNAMES;</td></tr>
<tr><td class="h">121</td><td colspan="6"></td></tr><tr><td class="h">122</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# prevent complaints by mod_perl</td></tr>
<tr><td class="h">123</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;1;</td></tr>
<tr><td class="h">124</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">125</td><td colspan="6"></td></tr><tr><td class="h">126</td><td></td><td></td><td></td><td></td><td></td><td class="s"># ------------------ START OF THE LIBRARY ------------</td></tr>
<tr><td class="h">127</td><td colspan="6"></td></tr><tr><td class="h">128</td><td></td><td></td><td></td><td></td><td></td><td class="s">*end_form = \&amp;endform;</td></tr>
<tr><td class="h">129</td><td colspan="6"></td></tr><tr><td class="h">130</td><td></td><td></td><td></td><td></td><td></td><td class="s"># make mod_perlhappy</td></tr>
<tr><td class="h">131</td><td></td><td></td><td></td><td></td><td></td><td class="s">initialize_globals();</td></tr>
<tr><td class="h">132</td><td colspan="6"></td></tr><tr><td class="h">133</td><td></td><td></td><td></td><td></td><td></td><td class="s"># FIGURE OUT THE OS WE&#39;RE RUNNING UNDER</td></tr>
<tr><td class="h">134</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Some systems support the $^O variable.  If not</td></tr>
<tr><td class="h">135</td><td></td><td></td><td></td><td></td><td></td><td class="s"># available then require() the Config library</td></tr>
<tr><td class="h">136</td><td></td><td></td><td></td><td></td><td></td><td class="s">unless ($OS) {</td></tr>
<tr><td class="h">137</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ($OS = $^O) {</td></tr>
<tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require Config;</td></tr>
<tr><td class="h">139</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$OS = $Config::Config{&#39;osname&#39;};</td></tr>
<tr><td class="h">140</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">141</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">142</td><td></td><td></td><td></td><td></td><td></td><td class="s">if ($OS =~ /^MSWin/i) {</td></tr>
<tr><td class="h">143</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$OS = &#39;WINDOWS&#39;;</td></tr>
<tr><td class="h">144</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($OS =~ /^VMS/i) {</td></tr>
<tr><td class="h">145</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$OS = &#39;VMS&#39;;</td></tr>
<tr><td class="h">146</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($OS =~ /^dos/i) {</td></tr>
<tr><td class="h">147</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$OS = &#39;DOS&#39;;</td></tr>
<tr><td class="h">148</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($OS =~ /^MacOS/i) {</td></tr>
<tr><td class="h">149</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$OS = &#39;MACINTOSH&#39;;</td></tr>
<tr><td class="h">150</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($OS =~ /^os2/i) {</td></tr>
<tr><td class="h">151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$OS = &#39;OS2&#39;;</td></tr>
<tr><td class="h">152</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($OS =~ /^epoc/i) {</td></tr>
<tr><td class="h">153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$OS = &#39;EPOC&#39;;</td></tr>
<tr><td class="h">154</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($OS =~ /^cygwin/i) {</td></tr>
<tr><td class="h">155</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$OS = &#39;CYGWIN&#39;;</td></tr>
<tr><td class="h">156</td><td></td><td></td><td></td><td></td><td></td><td class="s">} else {</td></tr>
<tr><td class="h">157</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$OS = &#39;UNIX&#39;;</td></tr>
<tr><td class="h">158</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">159</td><td colspan="6"></td></tr><tr><td class="h">160</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Some OS logic.  Binary mode enabled on DOS, NT and VMS</td></tr>
<tr><td class="h">161</td><td></td><td></td><td></td><td></td><td></td><td class="s">$needs_binmode = $OS=~/^(WINDOWS|DOS|OS2|MSWin|CYGWIN)/;</td></tr>
<tr><td class="h">162</td><td colspan="6"></td></tr><tr><td class="h">163</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This is the default class for the CGI object to use when all else fails.</td></tr>
<tr><td class="h">164</td><td></td><td></td><td></td><td></td><td></td><td class="s">$DefaultClass = &#39;CGI&#39; unless defined $CGI::DefaultClass;</td></tr>
<tr><td class="h">165</td><td colspan="6"></td></tr><tr><td class="h">166</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This is where to look for autoloaded routines.</td></tr>
<tr><td class="h">167</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AutoloadClass = $DefaultClass unless defined $CGI::AutoloadClass;</td></tr>
<tr><td class="h">168</td><td colspan="6"></td></tr><tr><td class="h">169</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The path separator is a slash, backslash or semicolon, depending</td></tr>
<tr><td class="h">170</td><td></td><td></td><td></td><td></td><td></td><td class="s"># on the paltform.</td></tr>
<tr><td class="h">171</td><td></td><td></td><td></td><td></td><td></td><td class="s">$SL = {</td></tr>
<tr><td class="h">172</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNIX    =&gt; &#39;/&#39;,  OS2 =&gt; &#39;\\&#39;, EPOC      =&gt; &#39;/&#39;, CYGWIN =&gt; &#39;/&#39;,</td></tr>
<tr><td class="h">173</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WINDOWS =&gt; &#39;\\&#39;, DOS =&gt; &#39;\\&#39;, MACINTOSH =&gt; &#39;:&#39;, VMS    =&gt; &#39;/&#39;</td></tr>
<tr><td class="h">174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}-&gt;{$OS};</td></tr>
<tr><td class="h">175</td><td colspan="6"></td></tr><tr><td class="h">176</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This no longer seems to be necessary</td></tr>
<tr><td class="h">177</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Turn on NPH scripts by default when running under IIS server!</td></tr>
<tr><td class="h">178</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $NPH++ if defined($ENV{&#39;SERVER_SOFTWARE&#39;}) &amp;&amp; $ENV{&#39;SERVER_SOFTWARE&#39;}=~/IIS/;</td></tr>
<tr><td class="h">179</td><td></td><td></td><td></td><td></td><td></td><td class="s">$IIS++ if defined($ENV{&#39;SERVER_SOFTWARE&#39;}) &amp;&amp; $ENV{&#39;SERVER_SOFTWARE&#39;}=~/IIS/;</td></tr>
<tr><td class="h">180</td><td colspan="6"></td></tr><tr><td class="h">181</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Turn on special checking for Doug MacEachern&#39;s modperl</td></tr>
<tr><td class="h">182</td><td></td><td></td><td></td><td></td><td></td><td class="s">if (exists $ENV{MOD_PERL}) {</td></tr>
<tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# mod_perl handlers may run system() on scripts using CGI.pm;</td></tr>
<tr><td class="h">184</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# Make sure so we don&#39;t get fooled by inherited $ENV{MOD_PERL}</td></tr>
<tr><td class="h">185</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if (exists $ENV{MOD_PERL_API_VERSION} &amp;&amp; $ENV{MOD_PERL_API_VERSION} == 2) {</td></tr>
<tr><td class="h">186</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$MOD_PERL = 2;</td></tr>
<tr><td class="h">187</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Apache2::Response;</td></tr>
<tr><td class="h">188</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Apache2::RequestRec;</td></tr>
<tr><td class="h">189</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Apache2::RequestUtil;</td></tr>
<tr><td class="h">190</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Apache2::RequestIO;</td></tr>
<tr><td class="h">191</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require APR::Pool;</td></tr>
<tr><td class="h">192</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">193</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$MOD_PERL = 1;</td></tr>
<tr><td class="h">194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Apache;</td></tr>
<tr><td class="h">195</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">196</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">197</td><td colspan="6"></td></tr><tr><td class="h">198</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Turn on special checking for ActiveState&#39;s PerlEx</td></tr>
<tr><td class="h">199</td><td></td><td></td><td></td><td></td><td></td><td class="s">$PERLEX++ if defined($ENV{&#39;GATEWAY_INTERFACE&#39;}) &amp;&amp; $ENV{&#39;GATEWAY_INTERFACE&#39;} =~ /^CGI-PerlEx/;</td></tr>
<tr><td class="h">200</td><td colspan="6"></td></tr><tr><td class="h">201</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Define the CRLF sequence.  I can&#39;t use a simple &quot;\r\n&quot; because the meaning</td></tr>
<tr><td class="h">202</td><td></td><td></td><td></td><td></td><td></td><td class="s"># of &quot;\n&quot; is different on different OS&#39;s (sometimes it generates CRLF, sometimes LF</td></tr>
<tr><td class="h">203</td><td></td><td></td><td></td><td></td><td></td><td class="s"># and sometimes CR).  The most popular VMS web server</td></tr>
<tr><td class="h">204</td><td></td><td></td><td></td><td></td><td></td><td class="s"># doesn&#39;t accept CRLF -- instead it wants a LR.  EBCDIC machines don&#39;t</td></tr>
<tr><td class="h">205</td><td></td><td></td><td></td><td></td><td></td><td class="s"># use ASCII, so \015\012 means something different.  I find this all </td></tr>
<tr><td class="h">206</td><td></td><td></td><td></td><td></td><td></td><td class="s"># really annoying.</td></tr>
<tr><td class="h">207</td><td></td><td></td><td></td><td></td><td></td><td class="s">$EBCDIC = &quot;\t&quot; ne &quot;\011&quot;;</td></tr>
<tr><td class="h">208</td><td></td><td></td><td></td><td></td><td></td><td class="s">if ($OS eq &#39;VMS&#39;) {</td></tr>
<tr><td class="h">209</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$CRLF = &quot;\n&quot;;</td></tr>
<tr><td class="h">210</td><td></td><td></td><td></td><td></td><td></td><td class="s">} elsif ($EBCDIC) {</td></tr>
<tr><td class="h">211</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$CRLF= &quot;\r\n&quot;;</td></tr>
<tr><td class="h">212</td><td></td><td></td><td></td><td></td><td></td><td class="s">} else {</td></tr>
<tr><td class="h">213</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$CRLF = &quot;\015\012&quot;;</td></tr>
<tr><td class="h">214</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">215</td><td colspan="6"></td></tr><tr><td class="h">216</td><td></td><td></td><td></td><td></td><td></td><td class="s">if ($needs_binmode) {</td></tr>
<tr><td class="h">217</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DefaultClass-&gt;binmode(\*main::STDOUT);</td></tr>
<tr><td class="h">218</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DefaultClass-&gt;binmode(\*main::STDIN);</td></tr>
<tr><td class="h">219</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DefaultClass-&gt;binmode(\*main::STDERR);</td></tr>
<tr><td class="h">220</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">221</td><td colspan="6"></td></tr><tr><td class="h">222</td><td></td><td></td><td></td><td></td><td></td><td class="s">%EXPORT_TAGS = (</td></tr>
<tr><td class="h">223</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:html2&#39;=&gt;[&#39;h1&#39;..&#39;h6&#39;,qw/p br hr ol ul li dl dt dd menu code var strong em</td></tr>
<tr><td class="h">224</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tt u i b blockquote pre img a address cite samp dfn html head</td></tr>
<tr><td class="h">225</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base body Link nextid title meta kbd start_html end_html</td></tr>
<tr><td class="h">226</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input Select option comment charset escapeHTML/],</td></tr>
<tr><td class="h">227</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:html3&#39;=&gt;[qw/div table caption th td TR Tr sup Sub strike applet Param </td></tr>
<tr><td class="h">228</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;embed basefont style span layer ilayer font frameset frame script small big Area Map/],</td></tr>
<tr><td class="h">229</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:html4&#39;=&gt;[qw/abbr acronym bdo col colgroup del fieldset iframe</td></tr>
<tr><td class="h">230</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ins label legend noframes noscript object optgroup Q </td></tr>
<tr><td class="h">231</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thead tbody tfoot/], </td></tr>
<tr><td class="h">232</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:netscape&#39;=&gt;[qw/blink fontsize center/],</td></tr>
<tr><td class="h">233</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:form&#39;=&gt;[qw/textfield textarea filefield password_field hidden checkbox checkbox_group </td></tr>
<tr><td class="h">234</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;submit reset defaults radio_group popup_menu button autoEscape</td></tr>
<tr><td class="h">235</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scrolling_list image_button start_form end_form startform endform</td></tr>
<tr><td class="h">236</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_multipart_form end_multipart_form isindex tmpFileName uploadInfo URL_ENCODED MULTIPART/],</td></tr>
<tr><td class="h">237</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:cgi&#39;=&gt;[qw/param upload path_info path_translated request_uri url self_url script_name </td></tr>
<tr><td class="h">238</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookie Dump</td></tr>
<tr><td class="h">239</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raw_cookie request_method query_string Accept user_agent remote_host content_type</td></tr>
<tr><td class="h">240</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remote_addr referer server_name server_software server_port server_protocol virtual_port</td></tr>
<tr><td class="h">241</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual_host remote_ident auth_type http append</td></tr>
<tr><td class="h">242</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save_parameters restore_parameters param_fetch</td></tr>
<tr><td class="h">243</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remote_user user_name header redirect import_names put </td></tr>
<tr><td class="h">244</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete Delete_all url_param cgi_error/],</td></tr>
<tr><td class="h">245</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:ssl&#39; =&gt; [qw/https/],</td></tr>
<tr><td class="h">246</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:cgi-lib&#39; =&gt; [qw/ReadParse PrintHeader HtmlTop HtmlBot SplitParam Vars/],</td></tr>
<tr><td class="h">247</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:html&#39; =&gt; [qw/:html2 :html3 :html4 :netscape/],</td></tr>
<tr><td class="h">248</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:standard&#39; =&gt; [qw/:html2 :html3 :html4 :form :cgi/],</td></tr>
<tr><td class="h">249</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:push&#39; =&gt; [qw/multipart_init multipart_start multipart_end multipart_final/],</td></tr>
<tr><td class="h">250</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:all&#39; =&gt; [qw/:html2 :html3 :netscape :form :cgi :internal :html4/]</td></tr>
<tr><td class="h">251</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">252</td><td colspan="6"></td></tr><tr><td class="h">253</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Custom &#39;can&#39; method for both autoloaded and non-autoloaded subroutines.</td></tr>
<tr><td class="h">254</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Author: Cees Hek &lt;cees@sitesuite.com.au&gt;</td></tr>
<tr><td class="h">255</td><td colspan="6"></td></tr><tr><td class="h">256</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub can {</td></tr>
<tr><td class="h">257</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L257">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($class, $method) = @_;</td></tr>
<tr><td class="h">258</td><td colspan="6"></td></tr><tr><td class="h">259</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# See if UNIVERSAL::can finds it.</td></tr>
<tr><td class="h">260</td><td colspan="6"></td></tr><tr><td class="h">261</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L261">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (my $func = $class -&gt; SUPER::can($method) ){</td></tr>
<tr><td class="h">262</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $func;</td></tr>
<tr><td class="h">263</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">264</td><td colspan="6"></td></tr><tr><td class="h">265</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Try to compile the function.</td></tr>
<tr><td class="h">266</td><td colspan="6"></td></tr><tr><td class="h">267</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval {</td></tr>
<tr><td class="h">268</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# _compile looks at $AUTOLOAD for the function name.</td></tr>
<tr><td class="h">269</td><td colspan="6"></td></tr><tr><td class="h">270</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $AUTOLOAD = join &quot;::&quot;, $class, $method;</td></tr>
<tr><td class="h">271</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;_compile;</td></tr>
<tr><td class="h">272</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">273</td><td colspan="6"></td></tr><tr><td class="h">274</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Now that the function is loaded (if it exists)</td></tr>
<tr><td class="h">275</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# just use UNIVERSAL::can again to do the work.</td></tr>
<tr><td class="h">276</td><td colspan="6"></td></tr><tr><td class="h">277</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $class -&gt; SUPER::can($method);</td></tr>
<tr><td class="h">278</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">279</td><td colspan="6"></td></tr><tr><td class="h">280</td><td></td><td></td><td></td><td></td><td></td><td class="s"># to import symbols into caller</td></tr>
<tr><td class="h">281</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub import {</td></tr>
<tr><td class="h">282</td><td><div class="c3">7</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L282">7</a></div></td><td><div>28</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">283</td><td colspan="6"></td></tr><tr><td class="h">284</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# This causes modules to clash.</td></tr>
<tr><td class="h">285</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef %EXPORT_OK;</td></tr>
<tr><td class="h">286</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>66</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef %EXPORT;</td></tr>
<tr><td class="h">287</td><td colspan="6"></td></tr><tr><td class="h">288</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_setup_symbols(@_);</td></tr>
<tr><td class="h">289</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($callpack, $callfile, $callline) = caller;</td></tr>
<tr><td class="h">290</td><td colspan="6"></td></tr><tr><td class="h">291</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# To allow overriding, search through the packages</td></tr>
<tr><td class="h">292</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Till we find one in which the correct subroutine is defined.</td></tr>
<tr><td class="h">293</td><td><div class="c3">7</div><div class="c3">7</div></td><td></td><td></td><td></td><td><div>23</div><div>42</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @packages = ($self,@{&quot;$self\:\:ISA&quot;});</td></tr>
<tr><td class="h">294</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>62</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $sym (keys %EXPORT) {</td></tr>
<tr><td class="h">295</td><td><div class="c3">145</div></td><td></td><td></td><td></td><td><div>356</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pck;</td></tr>
<tr><td class="h">296</td><td><div class="c3">145</div><div class="c3">145</div></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L296">33</a></div></td><td></td><td><div>340</div><div>796</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $def = ${&quot;$self\:\:AutoloadClass&quot;} || $DefaultClass;</td></tr>
<tr><td class="h">297</td><td><div class="c3">145</div></td><td></td><td></td><td></td><td><div>464</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $pck (@packages) {</td></tr>
<tr><td class="h">298</td><td><div class="c3">145</div><div class="c3">145</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L298">100</a></div></td><td></td><td></td><td><div>340</div><div>915</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined(&amp;{&quot;$pck\:\:$sym&quot;})) {</td></tr>
<tr><td class="h">299</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$def = $pck;</td></tr>
<tr><td class="h">300</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">301</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">302</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">303</td><td><div class="c3">145</div><div class="c3">145</div><div class="c3">145</div></td><td></td><td></td><td></td><td><div>385</div><div>849</div><div>1062</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{&quot;${callpack}::$sym&quot;} = \&amp;{&quot;$def\:\:$sym&quot;};</td></tr>
<tr><td class="h">304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">305</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">306</td><td colspan="6"></td></tr><tr><td class="h">307</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub compile {</td></tr>
<tr><td class="h">308</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L308">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $pack = shift;</td></tr>
<tr><td class="h">309</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$pack-&gt;_setup_symbols(&#39;-compile&#39;,@_);</td></tr>
<tr><td class="h">310</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">311</td><td colspan="6"></td></tr><tr><td class="h">312</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub expand_tags {</td></tr>
<tr><td class="h">313</td><td><div class="c3">145</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L313">145</a></div></td><td><div>434</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($tag) = @_;</td></tr>
<tr><td class="h">314</td><td><div class="c3">145</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L314">100</a></div></td><td></td><td></td><td><div>619</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return (&quot;start_$1&quot;,&quot;end_$1&quot;) if $tag=~/^(?:\*|start_|end_)(.+)/;</td></tr>
<tr><td class="h">315</td><td><div class="c3">143</div></td><td></td><td></td><td></td><td><div>327</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@r);</td></tr>
<tr><td class="h">316</td><td><div class="c3">143</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L316">100</a></div></td><td></td><td></td><td><div>831</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ($tag) unless $EXPORT_TAGS{$tag};</td></tr>
<tr><td class="h">317</td><td><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td></td><td><div>14</div><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@{$EXPORT_TAGS{$tag}}) {</td></tr>
<tr><td class="h">318</td><td><div class="c3">143</div></td><td></td><td></td><td></td><td><div>474</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@r,&amp;expand_tags($_));</td></tr>
<tr><td class="h">319</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">320</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>83</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @r;</td></tr>
<tr><td class="h">321</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">322</td><td colspan="6"></td></tr><tr><td class="h">323</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: new</td></tr>
<tr><td class="h">324</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The new routine.  This will check the current environment</td></tr>
<tr><td class="h">325</td><td></td><td></td><td></td><td></td><td></td><td class="s"># for an existing query string, and initialize itself, if so.</td></tr>
<tr><td class="h">326</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">327</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">328</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L328">2</a></div></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;my($class,@initializer) = @_;</td></tr>
<tr><td class="h">329</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;my $self = {};</td></tr>
<tr><td class="h">330</td><td colspan="6"></td></tr><tr><td class="h">331</td><td><div class="c3">2</div></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L331">25</a></div></td><td></td><td><div>34</div></td><td class="s">&nbsp;&nbsp;bless $self,ref $class || $class || $DefaultClass;</td></tr>
<tr><td class="h">332</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L332">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L332">25</a></div></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;if (ref($initializer[0])</td></tr>
<tr><td class="h">333</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (UNIVERSAL::isa($initializer[0],&#39;Apache&#39;)</td></tr>
<tr><td class="h">334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||</td></tr>
<tr><td class="h">335</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNIVERSAL::isa($initializer[0],&#39;Apache2::RequestRec&#39;)</td></tr>
<tr><td class="h">336</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)) {</td></tr>
<tr><td class="h">337</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;r(shift @initializer);</td></tr>
<tr><td class="h">338</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">339</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L339">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L339">33</a></div></td><td></td><td><div>12</div></td><td class="s">&nbsp;if (ref($initializer[0]) </td></tr>
<tr><td class="h">340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (UNIVERSAL::isa($initializer[0],&#39;CODE&#39;))) {</td></tr>
<tr><td class="h">341</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;upload_hook(shift @initializer, shift @initializer);</td></tr>
<tr><td class="h">342</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">343</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L343">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;if ($MOD_PERL) {</td></tr>
<tr><td class="h">344</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L344">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($MOD_PERL == 1) {</td></tr>
<tr><td class="h">345</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L345">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;r(Apache-&gt;request) unless $self-&gt;r;</td></tr>
<tr><td class="h">346</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $r = $self-&gt;r;</td></tr>
<tr><td class="h">347</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$r-&gt;register_cleanup(\&amp;CGI::_reset_globals);</td></tr>
<tr><td class="h">348</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">349</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">350</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# XXX: once we have the new API</td></tr>
<tr><td class="h">351</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# will do a real PerlOptions -SetupEnv check</td></tr>
<tr><td class="h">352</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L352">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;r(Apache2::RequestUtil-&gt;request) unless $self-&gt;r;</td></tr>
<tr><td class="h">353</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $r = $self-&gt;r;</td></tr>
<tr><td class="h">354</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L354">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$r-&gt;subprocess_env unless exists $ENV{REQUEST_METHOD};</td></tr>
<tr><td class="h">355</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$r-&gt;pool-&gt;cleanup_register(\&amp;CGI::_reset_globals);</td></tr>
<tr><td class="h">356</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">357</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $NPH;</td></tr>
<tr><td class="h">358</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">359</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L359">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;$self-&gt;_reset_globals if $PERLEX;</td></tr>
<tr><td class="h">360</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;$self-&gt;init(@initializer);</td></tr>
<tr><td class="h">361</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;return $self;</td></tr>
<tr><td class="h">362</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">363</td><td colspan="6"></td></tr><tr><td class="h">364</td><td></td><td></td><td></td><td></td><td></td><td class="s"># We provide a DESTROY method so that we can ensure that</td></tr>
<tr><td class="h">365</td><td></td><td></td><td></td><td></td><td></td><td class="s"># temporary files are closed (via Fh-&gt;DESTROY) before they</td></tr>
<tr><td class="h">366</td><td></td><td></td><td></td><td></td><td></td><td class="s"># are unlinked (via CGITempFile-&gt;DESTROY) because it is not</td></tr>
<tr><td class="h">367</td><td></td><td></td><td></td><td></td><td></td><td class="s"># possible to unlink an open file on Win32. We explicitly</td></tr>
<tr><td class="h">368</td><td></td><td></td><td></td><td></td><td></td><td class="s"># call DESTROY on each, rather than just undefing them and</td></tr>
<tr><td class="h">369</td><td></td><td></td><td></td><td></td><td></td><td class="s"># letting Perl DESTROY them by garbage collection, in case the</td></tr>
<tr><td class="h">370</td><td></td><td></td><td></td><td></td><td></td><td class="s"># user is still holding any reference to them as well.</td></tr>
<tr><td class="h">371</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub DESTROY {</td></tr>
<tr><td class="h">372</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L372">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">373</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L373">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;if ($OS eq &#39;WINDOWS&#39;) {</td></tr>
<tr><td class="h">374</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $href (values %{$self-&gt;{&#39;.tmpfiles&#39;}}) {</td></tr>
<tr><td class="h">375</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L375">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$href-&gt;{hndl}-&gt;DESTROY if defined $href-&gt;{hndl};</td></tr>
<tr><td class="h">376</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L376">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$href-&gt;{name}-&gt;DESTROY if defined $href-&gt;{name};</td></tr>
<tr><td class="h">377</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">378</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">379</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">380</td><td colspan="6"></td></tr><tr><td class="h">381</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub r {</td></tr>
<tr><td class="h">382</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L382">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">383</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $r = $self-&gt;{&#39;.r&#39;};</td></tr>
<tr><td class="h">384</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L384">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.r&#39;} = shift if @_;</td></tr>
<tr><td class="h">385</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$r;</td></tr>
<tr><td class="h">386</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">387</td><td colspan="6"></td></tr><tr><td class="h">388</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub upload_hook {</td></tr>
<tr><td class="h">389</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L389">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $self;</td></tr>
<tr><td class="h">390</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L390">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;if (ref $_[0] eq &#39;CODE&#39;) {</td></tr>
<tr><td class="h">391</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::Q = $self = $CGI::DefaultClass-&gt;new(@_);</td></tr>
<tr><td class="h">392</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">393</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self = shift;</td></tr>
<tr><td class="h">394</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">395</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my ($hook,$data) = @_;</td></tr>
<tr><td class="h">396</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.upload_hook&#39;} = $hook;</td></tr>
<tr><td class="h">397</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.upload_data&#39;} = $data;</td></tr>
<tr><td class="h">398</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">399</td><td colspan="6"></td></tr><tr><td class="h">400</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: param</td></tr>
<tr><td class="h">401</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns the value(s)of a named parameter.</td></tr>
<tr><td class="h">402</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If invoked in a list context, returns the</td></tr>
<tr><td class="h">403</td><td></td><td></td><td></td><td></td><td></td><td class="s"># entire list.  Otherwise returns the first</td></tr>
<tr><td class="h">404</td><td></td><td></td><td></td><td></td><td></td><td class="s"># member of the list.</td></tr>
<tr><td class="h">405</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If name is not provided, return a list of all</td></tr>
<tr><td class="h">406</td><td></td><td></td><td></td><td></td><td></td><td class="s"># the known parameters names available.</td></tr>
<tr><td class="h">407</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If more than one argument is provided, the</td></tr>
<tr><td class="h">408</td><td></td><td></td><td></td><td></td><td></td><td class="s"># second and subsequent arguments are used to</td></tr>
<tr><td class="h">409</td><td></td><td></td><td></td><td></td><td></td><td class="s"># set the value of the parameter.</td></tr>
<tr><td class="h">410</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">411</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub param {</td></tr>
<tr><td class="h">412</td><td><div class="c3">64</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L412">64</a></div></td><td><div>310</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">413</td><td><div class="c3">64</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L413">100</a></div></td><td></td><td></td><td><div>342</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;all_parameters unless @p;</td></tr>
<tr><td class="h">414</td><td><div class="c3">51</div></td><td></td><td></td><td></td><td><div>163</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$value,@other);</td></tr>
<tr><td class="h">415</td><td colspan="6"></td></tr><tr><td class="h">416</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# For compatibility between old calling style and use_named_parameters() style, </td></tr>
<tr><td class="h">417</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# we have to special case for a single parameter present.</td></tr>
<tr><td class="h">418</td><td><div class="c3">51</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L418">50</a></div></td><td></td><td></td><td><div>219</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (@p &gt; 1) {</td></tr>
<tr><td class="h">419</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($name,$value,@other) = rearrange([NAME,[DEFAULT,VALUE,VALUES]],@p);</td></tr>
<tr><td class="h">420</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(@values);</td></tr>
<tr><td class="h">421</td><td colspan="6"></td></tr><tr><td class="h">422</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L422">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (substr($p[0],0,1) eq &#39;-&#39;) {</td></tr>
<tr><td class="h">423</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L423">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L423">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L423">0</a></div></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@values = defined($value) ? (ref($value) &amp;&amp; ref($value) eq &#39;ARRAY&#39; ? @{$value} : $value) : ();</td></tr>
<tr><td class="h">424</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">425</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach ($value,@other) {</td></tr>
<tr><td class="h">426</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L426">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@values,$_) if defined($_);</td></tr>
<tr><td class="h">427</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">428</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">429</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If values is provided, then we set it.</td></tr>
<tr><td class="h">430</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L430">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@values) {</td></tr>
<tr><td class="h">431</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter($name);</td></tr>
<tr><td class="h">432</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{$name}=[@values];</td></tr>
<tr><td class="h">433</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">434</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">435</td><td><div class="c3">51</div></td><td></td><td></td><td></td><td><div>165</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$name = $p[0];</td></tr>
<tr><td class="h">436</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">437</td><td colspan="6"></td></tr><tr><td class="h">438</td><td><div class="c3">51</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L438">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L438">33</a></div></td><td></td><td><div>730</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless defined($name) &amp;&amp; $self-&gt;{$name};</td></tr>
<tr><td class="h">439</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L439">0</a></div></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @{$self-&gt;{$name}} : $self-&gt;{$name}-&gt;[0];</td></tr>
<tr><td class="h">440</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">441</td><td colspan="6"></td></tr><tr><td class="h">442</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub self_or_default {</td></tr>
<tr><td class="h">443</td><td><div class="c3">3659</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L443">50</a></div></td><td><div class="c1"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L443">75</a></div></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L443">3659</a></div></td><td><div>42616</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @_ if defined($_[0]) &amp;&amp; (!ref($_[0])) &amp;&amp;($_[0] eq &#39;CGI&#39;);</td></tr>
<tr><td class="h">444</td><td><div class="c3">3659</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L444">100</a></div></td><td><div class="c1"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L444">75</a></div></td><td></td><td><div>54516</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless (defined($_[0]) &amp;&amp; </td></tr>
<tr><td class="h">445</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ref($_[0]) eq &#39;CGI&#39; || UNIVERSAL::isa($_[0],&#39;CGI&#39;)) # slightly optimized for common case</td></tr>
<tr><td class="h">446</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) {</td></tr>
<tr><td class="h">447</td><td><div class="c3">3568</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L447">100</a></div></td><td></td><td></td><td><div>15695</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Q = $CGI::DefaultClass-&gt;new unless defined($Q);</td></tr>
<tr><td class="h">448</td><td><div class="c3">3568</div></td><td></td><td></td><td></td><td><div>13017</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unshift(@_,$Q);</td></tr>
<tr><td class="h">449</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">450</td><td><div class="c3">3659</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L450">50</a></div></td><td></td><td></td><td><div>27197</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @_ : $Q;</td></tr>
<tr><td class="h">451</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">452</td><td colspan="6"></td></tr><tr><td class="h">453</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub self_or_CGI {</td></tr>
<tr><td class="h">454</td><td><div class="c3">11</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L454">11</a></div></td><td><div>40</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local $^W=0;                # prevent a warning</td></tr>
<tr><td class="h">455</td><td><div class="c3">11</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L455">100</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L455">50</a></div></td><td></td><td><div>165</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined($_[0]) &amp;&amp;</td></tr>
<tr><td class="h">456</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(substr(ref($_[0]),0,3) eq &#39;CGI&#39; </td></tr>
<tr><td class="h">457</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| UNIVERSAL::isa($_[0],&#39;CGI&#39;))) {</td></tr>
<tr><td class="h">458</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return @_;</td></tr>
<tr><td class="h">459</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">460</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ($DefaultClass,@_);</td></tr>
<tr><td class="h">461</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">462</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">463</td><td colspan="6"></td></tr><tr><td class="h">464</td><td></td><td></td><td></td><td></td><td></td><td class="s">########################################</td></tr>
<tr><td class="h">465</td><td></td><td></td><td></td><td></td><td></td><td class="s"># THESE METHODS ARE MORE OR LESS PRIVATE</td></tr>
<tr><td class="h">466</td><td></td><td></td><td></td><td></td><td></td><td class="s"># GO TO THE __DATA__ SECTION TO SEE MORE</td></tr>
<tr><td class="h">467</td><td></td><td></td><td></td><td></td><td></td><td class="s"># PUBLIC METHODS</td></tr>
<tr><td class="h">468</td><td></td><td></td><td></td><td></td><td></td><td class="s">########################################</td></tr>
<tr><td class="h">469</td><td colspan="6"></td></tr><tr><td class="h">470</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Initialize the query object from the environment.</td></tr>
<tr><td class="h">471</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If a parameter list is found, this object will be set</td></tr>
<tr><td class="h">472</td><td></td><td></td><td></td><td></td><td></td><td class="s"># to an associative array in which parameter names are keys</td></tr>
<tr><td class="h">473</td><td></td><td></td><td></td><td></td><td></td><td class="s"># and the values are stored as lists</td></tr>
<tr><td class="h">474</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If a keyword list is found, this method creates a bogus</td></tr>
<tr><td class="h">475</td><td></td><td></td><td></td><td></td><td></td><td class="s"># parameter list with the single parameter &#39;keywords&#39;.</td></tr>
<tr><td class="h">476</td><td colspan="6"></td></tr><tr><td class="h">477</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub init {</td></tr>
<tr><td class="h">478</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L478">2</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">479</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;my($query_string,$meth,$content_length,$fh,@lines) = (&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;);</td></tr>
<tr><td class="h">480</td><td colspan="6"></td></tr><tr><td class="h">481</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;my $initializer = shift;  # for backward compatibility</td></tr>
<tr><td class="h">482</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;local($/) = &quot;\n&quot;;</td></tr>
<tr><td class="h">483</td><td colspan="6"></td></tr><tr><td class="h">484</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# set autoescaping on by default</td></tr>
<tr><td class="h">485</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;escape&#39;} = 1;</td></tr>
<tr><td class="h">486</td><td colspan="6"></td></tr><tr><td class="h">487</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# if we get called more than once, we want to initialize</td></tr>
<tr><td class="h">488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# ourselves from the original query (which may be gone</td></tr>
<tr><td class="h">489</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# if it was read from STDIN originally.)</td></tr>
<tr><td class="h">490</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L490">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L490">33</a></div></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined(@QUERY_PARAM) &amp;&amp; !defined($initializer)) {</td></tr>
<tr><td class="h">491</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (@QUERY_PARAM) {</td></tr>
<tr><td class="h">492</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;param(&#39;-name&#39;=&gt;$_,&#39;-value&#39;=&gt;$QUERY_PARAM{$_});</td></tr>
<tr><td class="h">493</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">494</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;charset($QUERY_CHARSET);</td></tr>
<tr><td class="h">495</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.fieldnames&#39;} = {%QUERY_FIELDNAMES};</td></tr>
<tr><td class="h">496</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">497</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">498</td><td colspan="6"></td></tr><tr><td class="h">499</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L499">50</a></div></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$meth=$ENV{&#39;REQUEST_METHOD&#39;} if defined($ENV{&#39;REQUEST_METHOD&#39;});</td></tr>
<tr><td class="h">500</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L500">50</a></div></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$content_length = defined($ENV{&#39;CONTENT_LENGTH&#39;}) ? $ENV{&#39;CONTENT_LENGTH&#39;} : 0;</td></tr>
<tr><td class="h">501</td><td colspan="6"></td></tr><tr><td class="h">502</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L502">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$fh = to_filehandle($initializer) if $initializer;</td></tr>
<tr><td class="h">503</td><td colspan="6"></td></tr><tr><td class="h">504</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# set charset to the safe ISO-8859-1</td></tr>
<tr><td class="h">505</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;charset(&#39;ISO-8859-1&#39;);</td></tr>
<tr><td class="h">506</td><td colspan="6"></td></tr><tr><td class="h">507</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;METHOD: {</td></tr>
<tr><td class="h">508</td><td colspan="6"></td></tr><tr><td class="h">509</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# avoid unreasonably large postings</td></tr>
<tr><td class="h">510</td><td><div class="c3">2</div><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L510">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L510">33</a></div></td><td></td><td><div>5</div><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (($POST_MAX &gt; 0) &amp;&amp; ($content_length &gt; $POST_MAX)) {</td></tr>
<tr><td class="h">511</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# quietly read and discard the post</td></tr>
<tr><td class="h">512</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $buffer;</td></tr>
<tr><td class="h">513</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $tmplength = $content_length;</td></tr>
<tr><td class="h">514</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while($tmplength &gt; 0) {</td></tr>
<tr><td class="h">515</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L515">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $maxbuffer = ($tmplength &lt; 10000)?$tmplength:10000;</td></tr>
<tr><td class="h">516</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L516">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $bytesread = $MOD_PERL ? $self-&gt;r-&gt;read($buffer,$maxbuffer) : read(STDIN,$buffer,$maxbuffer);</td></tr>
<tr><td class="h">517</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tmplength -= $bytesread;</td></tr>
<tr><td class="h">518</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">519</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;cgi_error(&quot;413 Request entity too large&quot;);</td></tr>
<tr><td class="h">520</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">521</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">522</td><td colspan="6"></td></tr><tr><td class="h">523</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Process multipart postings, but only if the initializer is</td></tr>
<tr><td class="h">524</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# not defined.</td></tr>
<tr><td class="h">525</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L525">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L525">20</a></div></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($meth eq &#39;POST&#39;</td></tr>
<tr><td class="h">526</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined($ENV{&#39;CONTENT_TYPE&#39;})</td></tr>
<tr><td class="h">527</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $ENV{&#39;CONTENT_TYPE&#39;}=~m|^multipart/form-data|</td></tr>
<tr><td class="h">528</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; !defined($initializer)</td></tr>
<tr><td class="h">529</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) {</td></tr>
<tr><td class="h">530</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($boundary) = $ENV{&#39;CONTENT_TYPE&#39;} =~ /boundary=\&quot;?([^\&quot;;,]+)\&quot;?/;</td></tr>
<tr><td class="h">531</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;read_multipart($boundary,$content_length);</td></tr>
<tr><td class="h">532</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">533</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} </td></tr>
<tr><td class="h">534</td><td colspan="6"></td></tr><tr><td class="h">535</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If initializer is defined, then read parameters</td></tr>
<tr><td class="h">536</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# from it.</td></tr>
<tr><td class="h">537</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L537">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined($initializer)) {</td></tr>
<tr><td class="h">538</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L538">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (UNIVERSAL::isa($initializer,&#39;CGI&#39;)) {</td></tr>
<tr><td class="h">539</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = $initializer-&gt;query_string;</td></tr>
<tr><td class="h">540</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">541</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">542</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L542">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L542">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref($initializer) &amp;&amp; ref($initializer) eq &#39;HASH&#39;) {</td></tr>
<tr><td class="h">543</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %$initializer) {</td></tr>
<tr><td class="h">544</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;param(&#39;-name&#39;=&gt;$_,&#39;-value&#39;=&gt;$initializer-&gt;{$_});</td></tr>
<tr><td class="h">545</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">546</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">547</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">548</td><td colspan="6"></td></tr><tr><td class="h">549</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L549">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L549">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined($fh) &amp;&amp; ($fh ne &#39;&#39;)) {</td></tr>
<tr><td class="h">550</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (&lt;$fh&gt;) {</td></tr>
<tr><td class="h">551</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp;</td></tr>
<tr><td class="h">552</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L552">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last if /^=/;</td></tr>
<tr><td class="h">553</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@lines,$_);</td></tr>
<tr><td class="h">554</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">555</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# massage back into standard format</td></tr>
<tr><td class="h">556</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L556">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (&quot;@lines&quot; =~ /=/) {</td></tr>
<tr><td class="h">557</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string=join(&quot;&amp;&quot;,@lines);</td></tr>
<tr><td class="h">558</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">559</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string=join(&quot;+&quot;,@lines);</td></tr>
<tr><td class="h">560</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">561</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">562</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">563</td><td colspan="6"></td></tr><tr><td class="h">564</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L564">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L564">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined($fh) &amp;&amp; ($fh ne &#39;&#39;)) {</td></tr>
<tr><td class="h">565</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (&lt;$fh&gt;) {</td></tr>
<tr><td class="h">566</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp;</td></tr>
<tr><td class="h">567</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L567">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last if /^=/;</td></tr>
<tr><td class="h">568</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@lines,$_);</td></tr>
<tr><td class="h">569</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">570</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# massage back into standard format</td></tr>
<tr><td class="h">571</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L571">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (&quot;@lines&quot; =~ /=/) {</td></tr>
<tr><td class="h">572</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string=join(&quot;&amp;&quot;,@lines);</td></tr>
<tr><td class="h">573</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">574</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string=join(&quot;+&quot;,@lines);</td></tr>
<tr><td class="h">575</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">576</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">577</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">578</td><td colspan="6"></td></tr><tr><td class="h">579</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# last chance -- treat it as a string</td></tr>
<tr><td class="h">580</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L580">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$initializer = $$initializer if ref($initializer) eq &#39;SCALAR&#39;;</td></tr>
<tr><td class="h">581</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = $initializer;</td></tr>
<tr><td class="h">582</td><td colspan="6"></td></tr><tr><td class="h">583</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">585</td><td colspan="6"></td></tr><tr><td class="h">586</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If method is GET or HEAD, fetch the query from</td></tr>
<tr><td class="h">587</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the environment.</td></tr>
<tr><td class="h">588</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L588">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($meth=~/^(GET|HEAD)$/) {</td></tr>
<tr><td class="h">589</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L589">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($MOD_PERL) {</td></tr>
<tr><td class="h">590</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = $self-&gt;r-&gt;args;</td></tr>
<tr><td class="h">591</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">592</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L592">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = $ENV{&#39;QUERY_STRING&#39;} if defined $ENV{&#39;QUERY_STRING&#39;};</td></tr>
<tr><td class="h">593</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L593">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L593">0</a></div></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string ||= $ENV{&#39;REDIRECT_QUERY_STRING&#39;} if defined $ENV{&#39;REDIRECT_QUERY_STRING&#39;};</td></tr>
<tr><td class="h">594</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">595</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">596</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">597</td><td colspan="6"></td></tr><tr><td class="h">598</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L598">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($meth eq &#39;POST&#39;) {</td></tr>
<tr><td class="h">599</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L599">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;read_from_client(\$query_string,$content_length,0)</td></tr>
<tr><td class="h">600</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $content_length &gt; 0;</td></tr>
<tr><td class="h">601</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Some people want to have their cake and eat it too!</td></tr>
<tr><td class="h">602</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Uncomment this line to have the contents of the query string</td></tr>
<tr><td class="h">603</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# APPENDED to the POST data.</td></tr>
<tr><td class="h">604</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $query_string .= (length($query_string) ? &#39;&amp;&#39; : &#39;&#39;) . $ENV{&#39;QUERY_STRING&#39;} if defined $ENV{&#39;QUERY_STRING&#39;};</td></tr>
<tr><td class="h">605</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last METHOD;</td></tr>
<tr><td class="h">606</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">607</td><td colspan="6"></td></tr><tr><td class="h">608</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If $meth is not of GET, POST or HEAD, assume we&#39;re being debugged offline.</td></tr>
<tr><td class="h">609</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check the command line and then the standard input for data.</td></tr>
<tr><td class="h">610</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# We use the shellwords package in order to behave the way that</td></tr>
<tr><td class="h">611</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# UN*X programmers expect.</td></tr>
<tr><td class="h">612</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L612">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DEBUG)</td></tr>
<tr><td class="h">613</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">614</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $cmdline_ret = read_from_cmdline();</td></tr>
<tr><td class="h">615</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = $cmdline_ret-&gt;{&#39;query_string&#39;};</td></tr>
<tr><td class="h">616</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L616">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined($cmdline_ret-&gt;{&#39;subpath&#39;}))</td></tr>
<tr><td class="h">617</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">618</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;path_info($cmdline_ret-&gt;{&#39;subpath&#39;});</td></tr>
<tr><td class="h">619</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">621</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">622</td><td colspan="6"></td></tr><tr><td class="h">623</td><td></td><td></td><td></td><td></td><td></td><td class="s"># YL: Begin Change for XML handler 10/19/2001</td></tr>
<tr><td class="h">624</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L624">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L624">20</a></div></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($meth eq &#39;POST&#39;</td></tr>
<tr><td class="h">625</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined($ENV{&#39;CONTENT_TYPE&#39;})</td></tr>
<tr><td class="h">626</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $ENV{&#39;CONTENT_TYPE&#39;} !~ m|^application/x-www-form-urlencoded|</td></tr>
<tr><td class="h">627</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $ENV{&#39;CONTENT_TYPE&#39;} !~ m|^multipart/form-data| ) {</td></tr>
<tr><td class="h">628</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($param) = &#39;POSTDATA&#39; ;</td></tr>
<tr><td class="h">629</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter($param) ;</td></tr>
<tr><td class="h">630</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push (@{$self-&gt;{$param}},$query_string);</td></tr>
<tr><td class="h">631</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $query_string ;</td></tr>
<tr><td class="h">632</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">633</td><td></td><td></td><td></td><td></td><td></td><td class="s"># YL: End Change for XML handler 10/19/2001</td></tr>
<tr><td class="h">634</td><td colspan="6"></td></tr><tr><td class="h">635</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# We now have the query string in hand.  We do slightly</td></tr>
<tr><td class="h">636</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# different things for keyword lists and parameter lists.</td></tr>
<tr><td class="h">637</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L637">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L637">33</a></div></td><td></td><td><div>36</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $query_string &amp;&amp; length $query_string) {</td></tr>
<tr><td class="h">638</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L638">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($query_string =~ /[&amp;=;]/) {</td></tr>
<tr><td class="h">639</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;parse_params($query_string);</td></tr>
<tr><td class="h">640</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">641</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter(&#39;keywords&#39;);</td></tr>
<tr><td class="h">642</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;keywords&#39;} = [$self-&gt;parse_keywordlist($query_string)];</td></tr>
<tr><td class="h">643</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">644</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">645</td><td colspan="6"></td></tr><tr><td class="h">646</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Special case.  Erase everything if there is a field named</td></tr>
<tr><td class="h">647</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# .defaults.</td></tr>
<tr><td class="h">648</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L648">50</a></div></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;param(&#39;.defaults&#39;)) {</td></tr>
<tr><td class="h">649</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;delete_all();</td></tr>
<tr><td class="h">650</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">651</td><td colspan="6"></td></tr><tr><td class="h">652</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Associative array containing our defined fieldnames</td></tr>
<tr><td class="h">653</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.fieldnames&#39;} = {};</td></tr>
<tr><td class="h">654</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach ($self-&gt;param(&#39;.cgifields&#39;)) {</td></tr>
<tr><td class="h">655</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.fieldnames&#39;}-&gt;{$_}++;</td></tr>
<tr><td class="h">656</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">657</td><td colspan="6"></td></tr><tr><td class="h">658</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Clear out our default submission button flag if present</td></tr>
<tr><td class="h">659</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;delete(&#39;.submit&#39;);</td></tr>
<tr><td class="h">660</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;delete(&#39;.cgifields&#39;);</td></tr>
<tr><td class="h">661</td><td colspan="6"></td></tr><tr><td class="h">662</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L662">50</a></div></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;save_request unless defined $initializer;</td></tr>
<tr><td class="h">663</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">664</td><td colspan="6"></td></tr><tr><td class="h">665</td><td></td><td></td><td></td><td></td><td></td><td class="s"># FUNCTIONS TO OVERRIDE:</td></tr>
<tr><td class="h">666</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Turn a string into a filehandle</td></tr>
<tr><td class="h">667</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub to_filehandle {</td></tr>
<tr><td class="h">668</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L668">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $thingy = shift;</td></tr>
<tr><td class="h">669</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L669">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $thingy;</td></tr>
<tr><td class="h">670</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L670">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $thingy if UNIVERSAL::isa($thingy,&#39;GLOB&#39;);</td></tr>
<tr><td class="h">671</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L671">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $thingy if UNIVERSAL::isa($thingy,&#39;FileHandle&#39;);</td></tr>
<tr><td class="h">672</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L672">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (!ref($thingy)) {</td></tr>
<tr><td class="h">673</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $caller = 1;</td></tr>
<tr><td class="h">674</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (my $package = caller($caller++)) {</td></tr>
<tr><td class="h">675</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L675">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($tmp) = $thingy=~/[\&#39;:]/ ? $thingy : &quot;$package\:\:$thingy&quot;; </td></tr>
<tr><td class="h">676</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L676">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $tmp if defined(fileno($tmp));</td></tr>
<tr><td class="h">677</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">678</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">679</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">680</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">681</td><td colspan="6"></td></tr><tr><td class="h">682</td><td></td><td></td><td></td><td></td><td></td><td class="s"># send output to the browser</td></tr>
<tr><td class="h">683</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub put {</td></tr>
<tr><td class="h">684</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L684">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">685</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;print(@p);</td></tr>
<tr><td class="h">686</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">687</td><td colspan="6"></td></tr><tr><td class="h">688</td><td></td><td></td><td></td><td></td><td></td><td class="s"># print to standard output (for overriding in mod_perl)</td></tr>
<tr><td class="h">689</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub print {</td></tr>
<tr><td class="h">690</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L690">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;shift;</td></tr>
<tr><td class="h">691</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;CORE::print(@_);</td></tr>
<tr><td class="h">692</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">693</td><td colspan="6"></td></tr><tr><td class="h">694</td><td></td><td></td><td></td><td></td><td></td><td class="s"># get/set last cgi_error</td></tr>
<tr><td class="h">695</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub cgi_error {</td></tr>
<tr><td class="h">696</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L696">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$err) = self_or_default(@_);</td></tr>
<tr><td class="h">697</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L697">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.cgi_error&#39;} = $err if defined $err;</td></tr>
<tr><td class="h">698</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.cgi_error&#39;};</td></tr>
<tr><td class="h">699</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">700</td><td colspan="6"></td></tr><tr><td class="h">701</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub save_request {</td></tr>
<tr><td class="h">702</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L702">2</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">703</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# We&#39;re going to play with the package globals now so that if we get called</td></tr>
<tr><td class="h">704</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# again, we initialize ourselves in exactly the same way.  This allows</td></tr>
<tr><td class="h">705</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# us to have several of these objects.</td></tr>
<tr><td class="h">706</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@QUERY_PARAM = $self-&gt;param; # save list of parameters</td></tr>
<tr><td class="h">707</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@QUERY_PARAM) {</td></tr>
<tr><td class="h">708</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L708">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless defined $_;</td></tr>
<tr><td class="h">709</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$QUERY_PARAM{$_}=$self-&gt;{$_};</td></tr>
<tr><td class="h">710</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">711</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$QUERY_CHARSET = $self-&gt;charset;</td></tr>
<tr><td class="h">712</td><td><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td></td><td><div>6</div><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;%QUERY_FIELDNAMES = %{$self-&gt;{&#39;.fieldnames&#39;}};</td></tr>
<tr><td class="h">713</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">714</td><td colspan="6"></td></tr><tr><td class="h">715</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub parse_params {</td></tr>
<tr><td class="h">716</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L716">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$tosplit) = @_;</td></tr>
<tr><td class="h">717</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@pairs) = split(/[&amp;;]/,$tosplit);</td></tr>
<tr><td class="h">718</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($param,$value);</td></tr>
<tr><td class="h">719</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@pairs) {</td></tr>
<tr><td class="h">720</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($param,$value) = split(&#39;=&#39;,$_,2);</td></tr>
<tr><td class="h">721</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L721">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless defined $param;</td></tr>
<tr><td class="h">722</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L722">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L722">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $NO_UNDEF_PARAMS and not defined $value;</td></tr>
<tr><td class="h">723</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L723">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = &#39;&#39; unless defined $value;</td></tr>
<tr><td class="h">724</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param = unescape($param);</td></tr>
<tr><td class="h">725</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = unescape($value);</td></tr>
<tr><td class="h">726</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter($param);</td></tr>
<tr><td class="h">727</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push (@{$self-&gt;{$param}},$value);</td></tr>
<tr><td class="h">728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">729</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">730</td><td colspan="6"></td></tr><tr><td class="h">731</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub add_parameter {</td></tr>
<tr><td class="h">732</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L732">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$param)=@_;</td></tr>
<tr><td class="h">733</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L733">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless defined $param;</td></tr>
<tr><td class="h">734</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L734">0</a></div></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push (@{$self-&gt;{&#39;.parameters&#39;}},$param) </td></tr>
<tr><td class="h">735</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless defined($self-&gt;{$param});</td></tr>
<tr><td class="h">736</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">737</td><td colspan="6"></td></tr><tr><td class="h">738</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub all_parameters {</td></tr>
<tr><td class="h">739</td><td><div class="c3">13</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L739">13</a></div></td><td><div>44</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">740</td><td><div class="c3">13</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L740">100</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L740">67</a></div></td><td></td><td><div>160</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return () unless defined($self) &amp;&amp; $self-&gt;{&#39;.parameters&#39;};</td></tr>
<tr><td class="h">741</td><td><div class="c3">11</div><div class="c3">11</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L741">50</a></div></td><td></td><td></td><td><div>31</div><div>97</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return () unless @{$self-&gt;{&#39;.parameters&#39;}};</td></tr>
<tr><td class="h">742</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @{$self-&gt;{&#39;.parameters&#39;}};</td></tr>
<tr><td class="h">743</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">744</td><td colspan="6"></td></tr><tr><td class="h">745</td><td></td><td></td><td></td><td></td><td></td><td class="s"># put a filehandle into binary mode (DOS)</td></tr>
<tr><td class="h">746</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub binmode {</td></tr>
<tr><td class="h">747</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L747">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L747">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L747">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless defined($_[1]) &amp;&amp; defined fileno($_[1]);</td></tr>
<tr><td class="h">748</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;CORE::binmode($_[1]);</td></tr>
<tr><td class="h">749</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">750</td><td colspan="6"></td></tr><tr><td class="h">751</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _make_tag_func {</td></tr>
<tr><td class="h">752</td><td><div class="c3">13</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L752">13</a></div></td><td><div>53</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$tagname) = @_;</td></tr>
<tr><td class="h">753</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>55</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $func = qq(</td></tr>
<tr><td class="h">754</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub $tagname {</td></tr>
<tr><td class="h">755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my (\$q,\$a,\@rest) = self_or_default(\@_);</td></tr>
<tr><td class="h">756</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(\$attr) = &#39;&#39;;</td></tr>
<tr><td class="h">757</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref(\$a) &amp;&amp; ref(\$a) eq &#39;HASH&#39;) {</td></tr>
<tr><td class="h">758</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(\@attr) = make_attributes(\$a,\$q-&gt;{&#39;escape&#39;});</td></tr>
<tr><td class="h">759</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\$attr = &quot; \@attr&quot; if \@attr;</td></tr>
<tr><td class="h">760</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">761</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unshift \@rest,\$a if defined \$a;</td></tr>
<tr><td class="h">762</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">763</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">764</td><td><div class="c3">13</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L764">100</a></div><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L764">100</a></div></td><td></td><td></td><td><div>70</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($tagname=~/start_(\w+)/i) {</td></tr>
<tr><td class="h">765</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func .= qq! return &quot;&lt;\L$1\E\$attr&gt;&quot;;} !;</td></tr>
<tr><td class="h">766</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($tagname=~/end_(\w+)/i) {</td></tr>
<tr><td class="h">767</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func .= qq! return &quot;&lt;\L/$1\E&gt;&quot;; } !;</td></tr>
<tr><td class="h">768</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">769</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>95</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func .= qq#</td></tr>
<tr><td class="h">770</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \$XHTML ? &quot;\L&lt;$tagname\E\$attr /&gt;&quot; : &quot;\L&lt;$tagname\E\$attr&gt;&quot; unless \@rest;</td></tr>
<tr><td class="h">771</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(\$tag,\$untag) = (&quot;\L&lt;$tagname\E\$attr&gt;&quot;,&quot;\L&lt;/$tagname&gt;\E&quot;);</td></tr>
<tr><td class="h">772</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my \@result = map { &quot;\$tag\$_\$untag&quot; } </td></tr>
<tr><td class="h">773</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ref(\$rest[0]) eq &#39;ARRAY&#39;) ? \@{\$rest[0]} : &quot;\@rest&quot;;</td></tr>
<tr><td class="h">774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;\@result&quot;;</td></tr>
<tr><td class="h">775</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}#;</td></tr>
<tr><td class="h">776</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">777</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>67</div></td><td class="s">return $func;</td></tr>
<tr><td class="h">778</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">779</td><td colspan="6"></td></tr><tr><td class="h">780</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub AUTOLOAD {</td></tr>
<tr><td class="h">781</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L781">50</a></div></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L781">31</a></div></td><td><div>158</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;print STDERR &quot;CGI::AUTOLOAD for $AUTOLOAD\n&quot; if $CGI::AUTOLOAD_DEBUG;</td></tr>
<tr><td class="h">782</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>111</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $func = &amp;_compile;</td></tr>
<tr><td class="h">783</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>171</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;goto &amp;$func;</td></tr>
<tr><td class="h">784</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">785</td><td colspan="6"></td></tr><tr><td class="h">786</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _compile {</td></tr>
<tr><td class="h">787</td><td><div class="c3">31</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L787">31</a></div></td><td><div>105</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($func) = $AUTOLOAD;</td></tr>
<tr><td class="h">788</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>82</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($pack,$func_name);</td></tr>
<tr><td class="h">789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">790</td><td><div class="c3">31</div><div class="c3">31</div></td><td></td><td></td><td></td><td><div>83</div><div>142</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local($1,$2); # this fixes an obscure variable suicide problem.</td></tr>
<tr><td class="h">791</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>182</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func=~/(.+)::([^:]+)$/;</td></tr>
<tr><td class="h">792</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>135</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($pack,$func_name) = ($1,$2);</td></tr>
<tr><td class="h">793</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>98</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pack=~s/::SUPER$//;	# fix another obscure problem</td></tr>
<tr><td class="h">794</td><td><div class="c0">0</div><div class="c3">31</div></td><td></td><td></td><td></td><td><div>0</div><div>205</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pack = ${&quot;$pack\:\:AutoloadClass&quot;} || $CGI::DefaultClass</td></tr>
<tr><td class="h">795</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L795">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L795">0</a></div></td><td></td><td><div>88</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless defined(${&quot;$pack\:\:AUTOLOADED_ROUTINES&quot;});</td></tr>
<tr><td class="h">796</td><td colspan="6"></td></tr><tr><td class="h">797</td><td><div class="c3">31</div><div class="c3">31</div></td><td></td><td></td><td></td><td><div>98</div><div>139</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($sub) = \%{&quot;$pack\:\:SUBS&quot;};</td></tr>
<tr><td class="h">798</td><td><div class="c3">31</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L798">100</a></div></td><td></td><td></td><td><div>201</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (%$sub) {</td></tr>
<tr><td class="h">799</td><td><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($auto) = \${&quot;$pack\:\:AUTOLOADED_ROUTINES&quot;};</td></tr>
<tr><td class="h">800</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local ($@,$!);</td></tr>
<tr><td class="h">801</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4169</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval &quot;package $pack; $$auto&quot;;</td></tr>
<tr><td class="h">802</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L802">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak(&quot;$AUTOLOAD: $@&quot;) if $@;</td></tr>
<tr><td class="h">803</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$auto = &#39;&#39;;  # Free the unneeded storage (but don&#39;t undef it!!!)</td></tr>
<tr><td class="h">804</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">805</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>137</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($code) = $sub-&gt;{$func_name};</td></tr>
<tr><td class="h">806</td><td colspan="6"></td></tr><tr><td class="h">807</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L807">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L807">67</a></div></td><td></td><td><div>271</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code = &quot;sub $AUTOLOAD { }&quot; if (!$code and $func_name eq &#39;DESTROY&#39;);</td></tr>
<tr><td class="h">808</td><td><div class="c3">31</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L808">100</a></div></td><td></td><td></td><td><div>148</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!$code) {</td></tr>
<tr><td class="h">809</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>51</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(my $base = $func_name) =~ s/^(start_|end_)//i;</td></tr>
<tr><td class="h">810</td><td><div class="c3">13</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L810">50</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L810">0</a></div><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L810">33</a></div></td><td></td><td><div>204</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($EXPORT{&#39;:any&#39;} || </td></tr>
<tr><td class="h">811</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$EXPORT{&#39;-any&#39;} ||</td></tr>
<tr><td class="h">812</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$EXPORT{$base} || </td></tr>
<tr><td class="h">813</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(%EXPORT_OK || grep(++$EXPORT_OK{$_},&amp;expand_tags(&#39;:html&#39;)))</td></tr>
<tr><td class="h">814</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; $EXPORT_OK{$base}) {</td></tr>
<tr><td class="h">815</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>76</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code = $CGI::DefaultClass-&gt;_make_tag_func($func_name);</td></tr>
<tr><td class="h">816</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">817</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">818</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L818">50</a></div></td><td></td><td></td><td><div>210</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak(&quot;Undefined subroutine $AUTOLOAD\n&quot;) unless $code;</td></tr>
<tr><td class="h">819</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>198</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local ($@,$!);</td></tr>
<tr><td class="h">820</td><td><div class="c3">31</div><div class="c3">253</div><div class="c3">253</div><div class="c3">253</div><div class="c3">253</div><div class="c3">253</div><div class="c0">0</div><div class="c3">253</div><div class="c3">253</div><div class="c3">253</div><div class="c3">253</div><div class="c0">0</div><div class="c3">253</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c0">0</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">176</div><div class="c3">176</div><div class="c3">176</div><div class="c3">176</div><div class="c3">176</div><div class="c0">0</div><div class="c3">176</div><div class="c3">176</div><div class="c3">176</div><div class="c3">176</div><div class="c0">0</div><div class="c3">176</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">42</div><div class="c3">42</div><div class="c3">42</div><div class="c0">0</div><div class="c0">0</div><div class="c3">42</div><div class="c3">42</div><div class="c3">42</div><div class="c3">42</div><div class="c3">42</div><div class="c0">0</div><div class="c3">42</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c0">0</div><div class="c3">4</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">31</div><div class="c3">31</div><div class="c3">31</div><div class="c0">0</div><div class="c0">0</div><div class="c3">31</div><div class="c3">31</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c0">0</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">7</div><div class="c3">7</div><div class="c3">7</div><div class="c3">7</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">12</div><div class="c3">12</div><div class="c3">12</div><div class="c3">12</div><div class="c3">12</div><div class="c0">0</div><div class="c3">12</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">5</div><div class="c3">5</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">5</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">4</div><div class="c3">4</div><div class="c0">0</div><div class="c3">4</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">520</div><div class="c3">520</div><div class="c3">520</div><div class="c3">520</div><div class="c3">520</div><div class="c0">0</div><div class="c3">520</div><div class="c3">520</div><div class="c3">520</div><div class="c3">520</div><div class="c0">0</div><div class="c3">520</div><div class="c3">31</div><div class="c3">31</div><div class="c3">31</div><div class="c3">31</div><div class="c3">31</div><div class="c0">0</div><div class="c3">31</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1969</div><div class="c3">1969</div><div class="c3">1969</div><div class="c3">1969</div><div class="c3">1969</div><div class="c0">0</div><div class="c3">1969</div><div class="c3">1969</div><div class="c3">1969</div><div class="c3">1969</div><div class="c0">0</div><div class="c3">1969</div><div class="c3">527</div><div class="c3">527</div><div class="c3">527</div><div class="c3">527</div><div class="c3">527</div><div class="c0">0</div><div class="c3">527</div><div class="c3">527</div><div class="c3">527</div><div class="c3">527</div><div class="c0">0</div><div class="c3">527</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c0">0</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c0">0</div><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">100</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">100</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L820">50</a></div></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">253</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">2</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">176</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">42</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">4</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">31</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">7</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">12</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">5</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">4</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">520</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">31</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1969</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">527</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">1</a></div><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L820">3</a></div></td><td><div>5038</div><div>1014</div><div>858</div><div>2380</div><div>1181</div><div>1483</div><div>0</div><div>1055</div><div>1073</div><div>1586</div><div>1810</div><div>0</div><div>2335</div><div>7</div><div>16</div><div>15</div><div>13</div><div>21</div><div>0</div><div>9</div><div>9</div><div>8</div><div>16</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>768</div><div>615</div><div>1671</div><div>852</div><div>1163</div><div>0</div><div>779</div><div>791</div><div>961</div><div>875</div><div>0</div><div>1041</div><div>5</div><div>3</div><div>6</div><div>0</div><div>0</div><div>6</div><div>4</div><div>4</div><div>7</div><div>4</div><div>0</div><div>5</div><div>5</div><div>6</div><div>5</div><div>0</div><div>6</div><div>175</div><div>131</div><div>221</div><div>0</div><div>0</div><div>220</div><div>168</div><div>181</div><div>225</div><div>194</div><div>0</div><div>31960</div><div>6</div><div>11</div><div>7</div><div>6</div><div>12</div><div>6</div><div>4</div><div>0</div><div>4</div><div>16</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>16</div><div>22</div><div>20</div><div>9</div><div>15</div><div>13</div><div>14</div><div>20</div><div>16</div><div>17</div><div>0</div><div>16</div><div>5</div><div>4</div><div>13</div><div>7</div><div>9</div><div>0</div><div>6</div><div>5</div><div>8</div><div>7</div><div>0</div><div>52</div><div>142</div><div>116</div><div>177</div><div>0</div><div>0</div><div>141</div><div>158</div><div>5</div><div>3</div><div>9</div><div>9</div><div>8</div><div>4</div><div>0</div><div>7</div><div>5</div><div>11</div><div>6</div><div>13</div><div>6</div><div>30</div><div>9</div><div>5</div><div>5</div><div>5</div><div>5</div><div>4</div><div>0</div><div>0</div><div>6</div><div>13</div><div>4</div><div>4</div><div>9</div><div>10</div><div>5</div><div>16</div><div>9</div><div>4</div><div>4</div><div>5</div><div>6</div><div>6</div><div>7</div><div>0</div><div>0</div><div>6</div><div>16</div><div>12</div><div>23</div><div>0</div><div>0</div><div>15</div><div>30</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>31</div><div>38</div><div>21</div><div>88</div><div>0</div><div>0</div><div>0</div><div>0</div><div>11</div><div>15</div><div>27</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>57</div><div>43</div><div>115</div><div>61</div><div>89</div><div>0</div><div>121</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>23</div><div>43</div><div>0</div><div>0</div><div>10</div><div>8</div><div>6</div><div>33</div><div>16</div><div>10</div><div>16</div><div>16</div><div>16</div><div>23</div><div>20</div><div>20</div><div>13</div><div>21</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>12</div><div>25</div><div>0</div><div>27</div><div>5</div><div>6</div><div>6</div><div>0</div><div>0</div><div>0</div><div>0</div><div>4</div><div>5</div><div>27</div><div>14</div><div>23</div><div>0</div><div>5</div><div>6</div><div>17</div><div>37</div><div>27</div><div>2093</div><div>1750</div><div>4719</div><div>2386</div><div>3001</div><div>0</div><div>2160</div><div>2129</div><div>2800</div><div>2290</div><div>0</div><div>3081</div><div>168</div><div>108</div><div>311</div><div>173</div><div>241</div><div>0</div><div>179</div><div>7</div><div>4</div><div>6</div><div>0</div><div>0</div><div>6</div><div>5</div><div>4</div><div>13</div><div>5</div><div>0</div><div>10</div><div>7773</div><div>6500</div><div>17982</div><div>8922</div><div>12505</div><div>0</div><div>8247</div><div>8009</div><div>10241</div><div>8912</div><div>0</div><div>12394</div><div>2193</div><div>1773</div><div>4934</div><div>2403</div><div>3626</div><div>0</div><div>2236</div><div>2175</div><div>3101</div><div>2815</div><div>0</div><div>3856</div><div>9</div><div>5</div><div>7</div><div>9</div><div>3</div><div>0</div><div>0</div><div>9</div><div>15</div><div>32</div><div>14</div><div>51</div><div>14</div><div>15</div><div>18</div><div>17</div><div>16</div><div>68</div><div>19</div><div>37</div><div>12</div><div>38</div><div>15</div><div>18</div><div>12</div><div>15</div><div>17</div><div>13</div><div>0</div><div>0</div><div>0</div><div>13</div><div>12</div><div>0</div><div>0</div><div>19</div><div>19</div><div>14</div><div>0</div><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval &quot;package $pack; $code&quot;;</td></tr>
<tr><td class="h">821</td><td><div class="c3">31</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L821">50</a></div></td><td></td><td></td><td><div>218</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($@) {</td></tr>
<tr><td class="h">822</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ =~ s/ at .*\n//;</td></tr>
<tr><td class="h">823</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak(&quot;$AUTOLOAD: $@&quot;);</td></tr>
<tr><td class="h">824</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">825</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}       </td></tr>
<tr><td class="h">826</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>116</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;CORE::delete($sub-&gt;{$func_name});  #free storage</td></tr>
<tr><td class="h">827</td><td><div class="c3">31</div></td><td></td><td></td><td></td><td><div>165</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &quot;$pack\:\:$func_name&quot;;</td></tr>
<tr><td class="h">828</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">829</td><td colspan="6"></td></tr><tr><td class="h">830</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _selected {</td></tr>
<tr><td class="h">831</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L831">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">832</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $value = shift;</td></tr>
<tr><td class="h">833</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L833">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;return &#39;&#39; unless $value;</td></tr>
<tr><td class="h">834</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L834">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;return $XHTML ? qq(selected=&quot;selected&quot; ) : qq(selected );</td></tr>
<tr><td class="h">835</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">836</td><td colspan="6"></td></tr><tr><td class="h">837</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _checked {</td></tr>
<tr><td class="h">838</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L838">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">839</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $value = shift;</td></tr>
<tr><td class="h">840</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L840">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;return &#39;&#39; unless $value;</td></tr>
<tr><td class="h">841</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L841">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;return $XHTML ? qq(checked=&quot;checked&quot; ) : qq(checked );</td></tr>
<tr><td class="h">842</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">843</td><td colspan="6"></td></tr><tr><td class="h">844</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L844">0</a></div></td><td><div>0</div></td><td class="s">sub _reset_globals { initialize_globals(); }</td></tr>
<tr><td class="h">845</td><td colspan="6"></td></tr><tr><td class="h">846</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _setup_symbols {</td></tr>
<tr><td class="h">847</td><td><div class="c3">7</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L847">7</a></div></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">848</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $compile = 0;</td></tr>
<tr><td class="h">849</td><td colspan="6"></td></tr><tr><td class="h">850</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# to avoid reexporting unwanted variables</td></tr>
<tr><td class="h">851</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef %EXPORT;</td></tr>
<tr><td class="h">852</td><td colspan="6"></td></tr><tr><td class="h">853</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@_) {</td></tr>
<tr><td class="h">854</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L854">50</a></div></td><td></td><td></td><td><div>44</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$HEADERS_ONCE++,         next if /^[:-]unique_headers$/;</td></tr>
<tr><td class="h">855</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L855">50</a></div></td><td></td><td></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$NPH++,                  next if /^[:-]nph$/;</td></tr>
<tr><td class="h">856</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L856">50</a></div></td><td></td><td></td><td><div>40</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$NOSTICKY++,             next if /^[:-]nosticky$/;</td></tr>
<tr><td class="h">857</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L857">50</a></div></td><td></td><td></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG=0,                next if /^[:-]no_?[Dd]ebug$/;</td></tr>
<tr><td class="h">858</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L858">50</a></div></td><td></td><td></td><td><div>34</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG=2,                next if /^[:-][Dd]ebug$/;</td></tr>
<tr><td class="h">859</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L859">50</a></div></td><td></td><td></td><td><div>176</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$USE_PARAM_SEMICOLONS++, next if /^[:-]newstyle_urls$/;</td></tr>
<tr><td class="h">860</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L860">50</a></div></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$XHTML++,                next if /^[:-]xhtml$/;</td></tr>
<tr><td class="h">861</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L861">50</a></div></td><td></td><td></td><td><div>42</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$XHTML=0,                next if /^[:-]no_?xhtml$/;</td></tr>
<tr><td class="h">862</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L862">50</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$USE_PARAM_SEMICOLONS=0, next if /^[:-]oldstyle_urls$/;</td></tr>
<tr><td class="h">863</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L863">50</a></div></td><td></td><td></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$PRIVATE_TEMPFILES++,    next if /^[:-]private_tempfiles$/;</td></tr>
<tr><td class="h">864</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L864">50</a></div></td><td></td><td></td><td><div>39</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$TABINDEX++,             next if /^[:-]tabindex$/;</td></tr>
<tr><td class="h">865</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L865">50</a></div></td><td></td><td></td><td><div>106</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CLOSE_UPLOAD_FILES++,   next if /^[:-]close_upload_files$/;</td></tr>
<tr><td class="h">866</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L866">100</a></div></td><td></td><td></td><td><div>73</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$EXPORT{$_}++,           next if /^[:-]any$/;</td></tr>
<tr><td class="h">867</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L867">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$compile++,              next if /^[:-]compile$/;</td></tr>
<tr><td class="h">868</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L868">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$NO_UNDEF_PARAMS++,      next if /^[:-]no_undef_params$/;</td></tr>
<tr><td class="h">869</td><td colspan="6"></td></tr><tr><td class="h">870</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This is probably extremely evil code -- to be deleted some day.</td></tr>
<tr><td class="h">871</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L871">50</a></div></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/^[-]autoload$/) {</td></tr>
<tr><td class="h">872</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($pkg) = caller(1);</td></tr>
<tr><td class="h">873</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{&quot;${pkg}::AUTOLOAD&quot;} = sub { </td></tr>
<tr><td class="h">874</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L874">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($routine) = $AUTOLOAD;</td></tr>
<tr><td class="h">875</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$routine =~ s/^.*::/CGI::/;</td></tr>
<tr><td class="h">876</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;$routine;</td></tr>
<tr><td class="h">877</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">878</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">879</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">880</td><td colspan="6"></td></tr><tr><td class="h">881</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (&amp;expand_tags($_)) {</td></tr>
<tr><td class="h">882</td><td><div class="c3">141</div></td><td></td><td></td><td></td><td><div>349</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tr/a-zA-Z0-9_//cd;  # don&#39;t allow weird function names</td></tr>
<tr><td class="h">883</td><td><div class="c3">141</div></td><td></td><td></td><td></td><td><div>557</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$EXPORT{$_}++;</td></tr>
<tr><td class="h">884</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">885</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">886</td><td><div class="c3">7</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L886">50</a></div></td><td></td><td></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_compile_all(keys %EXPORT) if $compile;</td></tr>
<tr><td class="h">887</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@SAVED_SYMBOLS = @_;</td></tr>
<tr><td class="h">888</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">889</td><td colspan="6"></td></tr><tr><td class="h">890</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub charset {</td></tr>
<tr><td class="h">891</td><td><div class="c3">5</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L891">5</a></div></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;my ($self,$charset) = self_or_default(@_);</td></tr>
<tr><td class="h">892</td><td><div class="c3">5</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L892">100</a></div></td><td></td><td></td><td><div>28</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.charset&#39;} = $charset if defined $charset;</td></tr>
<tr><td class="h">893</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.charset&#39;};</td></tr>
<tr><td class="h">894</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">895</td><td colspan="6"></td></tr><tr><td class="h">896</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub element_id {</td></tr>
<tr><td class="h">897</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L897">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my ($self,$new_value) = self_or_default(@_);</td></tr>
<tr><td class="h">898</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L898">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.elid&#39;} = $new_value if defined $new_value;</td></tr>
<tr><td class="h">899</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;sprintf(&#39;%010d&#39;,$self-&gt;{&#39;.elid&#39;}++);</td></tr>
<tr><td class="h">900</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">901</td><td colspan="6"></td></tr><tr><td class="h">902</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub element_tab {</td></tr>
<tr><td class="h">903</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L903">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my ($self,$new_value) = self_or_default(@_);</td></tr>
<tr><td class="h">904</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L904">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.etab&#39;} ||= 1;</td></tr>
<tr><td class="h">905</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L905">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;$self-&gt;{&#39;.etab&#39;} = $new_value if defined $new_value;</td></tr>
<tr><td class="h">906</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;my $tab = $self-&gt;{&#39;.etab&#39;}++;</td></tr>
<tr><td class="h">907</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L907">0</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L907">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;return &#39;&#39; unless $TABINDEX or defined $new_value;</td></tr>
<tr><td class="h">908</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;return qq(tabindex=&quot;$tab&quot; );</td></tr>
<tr><td class="h">909</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">910</td><td colspan="6"></td></tr><tr><td class="h">911</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################################################</td></tr>
<tr><td class="h">912</td><td></td><td></td><td></td><td></td><td></td><td class="s">################# THESE FUNCTIONS ARE AUTOLOADED ON DEMAND ####################</td></tr>
<tr><td class="h">913</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################################################</td></tr>
<tr><td class="h">914</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES = &#39;&#39;;      # get rid of -w warning</td></tr>
<tr><td class="h">915</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES=&lt;&lt;&#39;END_OF_AUTOLOAD&#39;;</td></tr>
<tr><td class="h">916</td><td colspan="6"></td></tr><tr><td class="h">917</td><td></td><td></td><td></td><td></td><td></td><td class="s">%SUBS = (</td></tr>
<tr><td class="h">918</td><td colspan="6"></td></tr><tr><td class="h">919</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;URL_ENCODED&#39;=&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">920</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub URL_ENCODED { &#39;application/x-www-form-urlencoded&#39;; }</td></tr>
<tr><td class="h">921</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">922</td><td colspan="6"></td></tr><tr><td class="h">923</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;MULTIPART&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">924</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub MULTIPART {  &#39;multipart/form-data&#39;; }</td></tr>
<tr><td class="h">925</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">926</td><td colspan="6"></td></tr><tr><td class="h">927</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;SERVER_PUSH&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">928</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub SERVER_PUSH { &#39;multipart/x-mixed-replace;boundary=&quot;&#39; . shift() . &#39;&quot;&#39;; }</td></tr>
<tr><td class="h">929</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">930</td><td colspan="6"></td></tr><tr><td class="h">931</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;new_MultipartBuffer&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">932</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a new multipart buffer</td></tr>
<tr><td class="h">933</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new_MultipartBuffer {</td></tr>
<tr><td class="h">934</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$boundary,$length) = @_;</td></tr>
<tr><td class="h">935</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return MultipartBuffer-&gt;new($self,$boundary,$length);</td></tr>
<tr><td class="h">936</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">937</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">938</td><td colspan="6"></td></tr><tr><td class="h">939</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;read_from_client&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">940</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Read data from a file handle</td></tr>
<tr><td class="h">941</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub read_from_client {</td></tr>
<tr><td class="h">942</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self, $buff, $len, $offset) = @_;</td></tr>
<tr><td class="h">943</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local $^W=0;                # prevent a warning</td></tr>
<tr><td class="h">944</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $MOD_PERL</td></tr>
<tr><td class="h">945</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? $self-&gt;r-&gt;read($$buff, $len, $offset)</td></tr>
<tr><td class="h">946</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: read(\*STDIN, $$buff, $len, $offset);</td></tr>
<tr><td class="h">947</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">948</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">949</td><td colspan="6"></td></tr><tr><td class="h">950</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;delete&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">951</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: delete</td></tr>
<tr><td class="h">952</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Deletes the named parameter entirely.</td></tr>
<tr><td class="h">953</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">954</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub delete {</td></tr>
<tr><td class="h">955</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">956</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@names) = rearrange([NAME],@p);</td></tr>
<tr><td class="h">957</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @to_delete = ref($names[0]) eq &#39;ARRAY&#39; ? @$names[0] : @names;</td></tr>
<tr><td class="h">958</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %to_delete;</td></tr>
<tr><td class="h">959</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $name (@to_delete)</td></tr>
<tr><td class="h">960</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">961</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CORE::delete $self-&gt;{$name};</td></tr>
<tr><td class="h">962</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CORE::delete $self-&gt;{&#39;.fieldnames&#39;}-&gt;{$name};</td></tr>
<tr><td class="h">963</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$to_delete{$name}++;</td></tr>
<tr><td class="h">964</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">965</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@{$self-&gt;{&#39;.parameters&#39;}}=grep { !exists($to_delete{$_}) } $self-&gt;param();</td></tr>
<tr><td class="h">966</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">967</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">968</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">969</td><td colspan="6"></td></tr><tr><td class="h">970</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: import_names</td></tr>
<tr><td class="h">971</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Import all parameters into the given namespace.</td></tr>
<tr><td class="h">972</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Assumes namespace &#39;Q&#39; if not specified</td></tr>
<tr><td class="h">973</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">974</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;import_names&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">975</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub import_names {</td></tr>
<tr><td class="h">976</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$namespace,$delete) = self_or_default(@_);</td></tr>
<tr><td class="h">977</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$namespace = &#39;Q&#39; unless defined($namespace);</td></tr>
<tr><td class="h">978</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Can&#39;t import names into \&quot;main\&quot;\n&quot; if \%{&quot;${namespace}::&quot;} == \%::;</td></tr>
<tr><td class="h">979</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($delete || $MOD_PERL || exists $ENV{&#39;FCGI_ROLE&#39;}) {</td></tr>
<tr><td class="h">980</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# can anyone find an easier way to do this?</td></tr>
<tr><td class="h">981</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %{&quot;${namespace}::&quot;}) {</td></tr>
<tr><td class="h">982</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local *symbol = &quot;${namespace}::${_}&quot;;</td></tr>
<tr><td class="h">983</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $symbol;</td></tr>
<tr><td class="h">984</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef @symbol;</td></tr>
<tr><td class="h">985</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef %symbol;</td></tr>
<tr><td class="h">986</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">987</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">988</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($param,@value,$var);</td></tr>
<tr><td class="h">989</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $param ($self-&gt;param) {</td></tr>
<tr><td class="h">990</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# protect against silly names</td></tr>
<tr><td class="h">991</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($var = $param)=~tr/a-zA-Z0-9_/_/c;</td></tr>
<tr><td class="h">992</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$var =~ s/^(?=\d)/_/;</td></tr>
<tr><td class="h">993</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local *symbol = &quot;${namespace}::$var&quot;;</td></tr>
<tr><td class="h">994</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@value = $self-&gt;param($param);</td></tr>
<tr><td class="h">995</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@symbol = @value;</td></tr>
<tr><td class="h">996</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$symbol = $value[0];</td></tr>
<tr><td class="h">997</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">998</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">999</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1000</td><td colspan="6"></td></tr><tr><td class="h">1001</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: keywords</td></tr>
<tr><td class="h">1002</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Keywords acts a bit differently.  Calling it in a list context</td></tr>
<tr><td class="h">1003</td><td></td><td></td><td></td><td></td><td></td><td class="s"># returns the list of keywords.  </td></tr>
<tr><td class="h">1004</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Calling it in a scalar context gives you the size of the list.</td></tr>
<tr><td class="h">1005</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1006</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;keywords&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1007</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub keywords {</td></tr>
<tr><td class="h">1008</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@values) = self_or_default(@_);</td></tr>
<tr><td class="h">1009</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If values is provided, then we set it.</td></tr>
<tr><td class="h">1010</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;keywords&#39;}=[@values] if @values;</td></tr>
<tr><td class="h">1011</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@result) = defined($self-&gt;{&#39;keywords&#39;}) ? @{$self-&gt;{&#39;keywords&#39;}} : ();</td></tr>
<tr><td class="h">1012</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@result;</td></tr>
<tr><td class="h">1013</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1014</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1015</td><td colspan="6"></td></tr><tr><td class="h">1016</td><td></td><td></td><td></td><td></td><td></td><td class="s"># These are some tie() interfaces for compatibility</td></tr>
<tr><td class="h">1017</td><td></td><td></td><td></td><td></td><td></td><td class="s"># with Steve Brenner&#39;s cgi-lib.pl routines</td></tr>
<tr><td class="h">1018</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;Vars&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1019</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub Vars {</td></tr>
<tr><td class="h">1020</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $q = shift;</td></tr>
<tr><td class="h">1021</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %in;</td></tr>
<tr><td class="h">1022</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;tie(%in,CGI,$q);</td></tr>
<tr><td class="h">1023</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return %in if wantarray;</td></tr>
<tr><td class="h">1024</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return \%in;</td></tr>
<tr><td class="h">1025</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1026</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1027</td><td colspan="6"></td></tr><tr><td class="h">1028</td><td></td><td></td><td></td><td></td><td></td><td class="s"># These are some tie() interfaces for compatibility</td></tr>
<tr><td class="h">1029</td><td></td><td></td><td></td><td></td><td></td><td class="s"># with Steve Brenner&#39;s cgi-lib.pl routines</td></tr>
<tr><td class="h">1030</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;ReadParse&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1031</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub ReadParse {</td></tr>
<tr><td class="h">1032</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local(*in);</td></tr>
<tr><td class="h">1033</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (@_) {</td></tr>
<tr><td class="h">1034</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*in = $_[0];</td></tr>
<tr><td class="h">1035</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1036</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pkg = caller();</td></tr>
<tr><td class="h">1037</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*in=*{&quot;${pkg}::in&quot;};</td></tr>
<tr><td class="h">1038</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1039</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;tie(%in,CGI);</td></tr>
<tr><td class="h">1040</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return scalar(keys %in);</td></tr>
<tr><td class="h">1041</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1042</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1043</td><td colspan="6"></td></tr><tr><td class="h">1044</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;PrintHeader&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1045</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub PrintHeader {</td></tr>
<tr><td class="h">1046</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = self_or_default(@_);</td></tr>
<tr><td class="h">1047</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;header();</td></tr>
<tr><td class="h">1048</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1049</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1050</td><td colspan="6"></td></tr><tr><td class="h">1051</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;HtmlTop&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1052</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub HtmlTop {</td></tr>
<tr><td class="h">1053</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1054</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;start_html(@p);</td></tr>
<tr><td class="h">1055</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1056</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1057</td><td colspan="6"></td></tr><tr><td class="h">1058</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;HtmlBot&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1059</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub HtmlBot {</td></tr>
<tr><td class="h">1060</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1061</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;end_html(@p);</td></tr>
<tr><td class="h">1062</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1063</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1064</td><td colspan="6"></td></tr><tr><td class="h">1065</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;SplitParam&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1066</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub SplitParam {</td></tr>
<tr><td class="h">1067</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($param) = @_;</td></tr>
<tr><td class="h">1068</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my (@params) = split (&quot;\0&quot;, $param);</td></tr>
<tr><td class="h">1069</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return (wantarray ? @params : $params[0]);</td></tr>
<tr><td class="h">1070</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1071</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1072</td><td colspan="6"></td></tr><tr><td class="h">1073</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;MethGet&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1074</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub MethGet {</td></tr>
<tr><td class="h">1075</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return request_method() eq &#39;GET&#39;;</td></tr>
<tr><td class="h">1076</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1077</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1078</td><td colspan="6"></td></tr><tr><td class="h">1079</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;MethPost&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1080</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub MethPost {</td></tr>
<tr><td class="h">1081</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return request_method() eq &#39;POST&#39;;</td></tr>
<tr><td class="h">1082</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1083</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1084</td><td colspan="6"></td></tr><tr><td class="h">1085</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;TIEHASH&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1086</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub TIEHASH {</td></tr>
<tr><td class="h">1087</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $class = shift;</td></tr>
<tr><td class="h">1088</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $arg   = $_[0];</td></tr>
<tr><td class="h">1089</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (ref($arg) &amp;&amp; UNIVERSAL::isa($arg,&#39;CGI&#39;)) {</td></tr>
<tr><td class="h">1090</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $arg;</td></tr>
<tr><td class="h">1091</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1092</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $Q ||= $class-&gt;new(@_);</td></tr>
<tr><td class="h">1093</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1094</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1095</td><td colspan="6"></td></tr><tr><td class="h">1096</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;STORE&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1097</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub STORE {</td></tr>
<tr><td class="h">1098</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">1099</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $tag  = shift;</td></tr>
<tr><td class="h">1100</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $vals = shift;</td></tr>
<tr><td class="h">1101</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @vals = index($vals,&quot;\0&quot;)!=-1 ? split(&quot;\0&quot;,$vals) : $vals;</td></tr>
<tr><td class="h">1102</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;param(-name=&gt;$tag,-value=&gt;\@vals);</td></tr>
<tr><td class="h">1103</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1104</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1105</td><td colspan="6"></td></tr><tr><td class="h">1106</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;FETCH&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1107</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub FETCH {</td></tr>
<tr><td class="h">1108</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $_[0] if $_[1] eq &#39;CGI&#39;;</td></tr>
<tr><td class="h">1109</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return undef unless defined $_[0]-&gt;param($_[1]);</td></tr>
<tr><td class="h">1110</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return join(&quot;\0&quot;,$_[0]-&gt;param($_[1]));</td></tr>
<tr><td class="h">1111</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1112</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1113</td><td colspan="6"></td></tr><tr><td class="h">1114</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;FIRSTKEY&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1115</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub FIRSTKEY {</td></tr>
<tr><td class="h">1116</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$_[0]-&gt;{&#39;.iterator&#39;}=0;</td></tr>
<tr><td class="h">1117</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$_[0]-&gt;{&#39;.parameters&#39;}-&gt;[$_[0]-&gt;{&#39;.iterator&#39;}++];</td></tr>
<tr><td class="h">1118</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1119</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1120</td><td colspan="6"></td></tr><tr><td class="h">1121</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;NEXTKEY&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1122</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub NEXTKEY {</td></tr>
<tr><td class="h">1123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$_[0]-&gt;{&#39;.parameters&#39;}-&gt;[$_[0]-&gt;{&#39;.iterator&#39;}++];</td></tr>
<tr><td class="h">1124</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1125</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1126</td><td colspan="6"></td></tr><tr><td class="h">1127</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;EXISTS&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1128</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub EXISTS {</td></tr>
<tr><td class="h">1129</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;exists $_[0]-&gt;{$_[1]};</td></tr>
<tr><td class="h">1130</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1131</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1132</td><td colspan="6"></td></tr><tr><td class="h">1133</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;DELETE&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1134</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub DELETE {</td></tr>
<tr><td class="h">1135</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$_[0]-&gt;delete($_[1]);</td></tr>
<tr><td class="h">1136</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1137</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1138</td><td colspan="6"></td></tr><tr><td class="h">1139</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;CLEAR&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1140</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub CLEAR {</td></tr>
<tr><td class="h">1141</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;%{$_[0]}=();</td></tr>
<tr><td class="h">1142</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1143</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1144</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1145</td><td colspan="6"></td></tr><tr><td class="h">1146</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1147</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Append a new value to an existing query</td></tr>
<tr><td class="h">1148</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1149</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;append&#39; =&gt; &lt;&lt;&#39;EOF&#39;,</td></tr>
<tr><td class="h">1150</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub append {</td></tr>
<tr><td class="h">1151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1152</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$value) = rearrange([NAME,[VALUE,VALUES]],@p);</td></tr>
<tr><td class="h">1153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@values) = defined($value) ? (ref($value) ? @{$value} : $value) : ();</td></tr>
<tr><td class="h">1154</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (@values) {</td></tr>
<tr><td class="h">1155</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter($name);</td></tr>
<tr><td class="h">1156</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@{$self-&gt;{$name}},@values);</td></tr>
<tr><td class="h">1157</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1158</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;param($name);</td></tr>
<tr><td class="h">1159</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1160</td><td></td><td></td><td></td><td></td><td></td><td class="s">EOF</td></tr>
<tr><td class="h">1161</td><td colspan="6"></td></tr><tr><td class="h">1162</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: delete_all</td></tr>
<tr><td class="h">1163</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Delete all parameters</td></tr>
<tr><td class="h">1164</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1165</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;delete_all&#39; =&gt; &lt;&lt;&#39;EOF&#39;,</td></tr>
<tr><td class="h">1166</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub delete_all {</td></tr>
<tr><td class="h">1167</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = self_or_default(@_);</td></tr>
<tr><td class="h">1168</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @param = $self-&gt;param();</td></tr>
<tr><td class="h">1169</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;delete(@param);</td></tr>
<tr><td class="h">1170</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1171</td><td></td><td></td><td></td><td></td><td></td><td class="s">EOF</td></tr>
<tr><td class="h">1172</td><td colspan="6"></td></tr><tr><td class="h">1173</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;Delete&#39; =&gt; &lt;&lt;&#39;EOF&#39;,</td></tr>
<tr><td class="h">1174</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub Delete {</td></tr>
<tr><td class="h">1175</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1176</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;delete(@p);</td></tr>
<tr><td class="h">1177</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1178</td><td></td><td></td><td></td><td></td><td></td><td class="s">EOF</td></tr>
<tr><td class="h">1179</td><td colspan="6"></td></tr><tr><td class="h">1180</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;Delete_all&#39; =&gt; &lt;&lt;&#39;EOF&#39;,</td></tr>
<tr><td class="h">1181</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub Delete_all {</td></tr>
<tr><td class="h">1182</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1183</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;delete_all(@p);</td></tr>
<tr><td class="h">1184</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1185</td><td></td><td></td><td></td><td></td><td></td><td class="s">EOF</td></tr>
<tr><td class="h">1186</td><td colspan="6"></td></tr><tr><td class="h">1187</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: autoescape</td></tr>
<tr><td class="h">1188</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If you want to turn off the autoescaping features,</td></tr>
<tr><td class="h">1189</td><td></td><td></td><td></td><td></td><td></td><td class="s"># call this method with undef as the argument</td></tr>
<tr><td class="h">1190</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;autoEscape&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1191</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub autoEscape {</td></tr>
<tr><td class="h">1192</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$escape) = self_or_default(@_);</td></tr>
<tr><td class="h">1193</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $d = $self-&gt;{&#39;escape&#39;};</td></tr>
<tr><td class="h">1194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;escape&#39;} = $escape;</td></tr>
<tr><td class="h">1195</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$d;</td></tr>
<tr><td class="h">1196</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1197</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1198</td><td colspan="6"></td></tr><tr><td class="h">1199</td><td colspan="6"></td></tr><tr><td class="h">1200</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: version</td></tr>
<tr><td class="h">1201</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the current version</td></tr>
<tr><td class="h">1202</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1203</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;version&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1204</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub version {</td></tr>
<tr><td class="h">1205</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $VERSION;</td></tr>
<tr><td class="h">1206</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1207</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1208</td><td colspan="6"></td></tr><tr><td class="h">1209</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: url_param</td></tr>
<tr><td class="h">1210</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a parameter in the QUERY_STRING, regardless of</td></tr>
<tr><td class="h">1211</td><td></td><td></td><td></td><td></td><td></td><td class="s"># whether this was a POST or a GET</td></tr>
<tr><td class="h">1212</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1213</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;url_param&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1214</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub url_param {</td></tr>
<tr><td class="h">1215</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1216</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $name = shift(@p);</td></tr>
<tr><td class="h">1217</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return undef unless exists($ENV{QUERY_STRING});</td></tr>
<tr><td class="h">1218</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless (exists($self-&gt;{&#39;.url_param&#39;})) {</td></tr>
<tr><td class="h">1219</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.url_param&#39;}={}; # empty hash</td></tr>
<tr><td class="h">1220</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($ENV{QUERY_STRING} =~ /=/) {</td></tr>
<tr><td class="h">1221</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(@pairs) = split(/[&amp;;]/,$ENV{QUERY_STRING});</td></tr>
<tr><td class="h">1222</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($param,$value);</td></tr>
<tr><td class="h">1223</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (@pairs) {</td></tr>
<tr><td class="h">1224</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($param,$value) = split(&#39;=&#39;,$_,2);</td></tr>
<tr><td class="h">1225</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param = unescape($param);</td></tr>
<tr><td class="h">1226</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = unescape($value);</td></tr>
<tr><td class="h">1227</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@{$self-&gt;{&#39;.url_param&#39;}-&gt;{$param}},$value);</td></tr>
<tr><td class="h">1228</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1229</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1230</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.url_param&#39;}-&gt;{&#39;keywords&#39;} = [$self-&gt;parse_keywordlist($ENV{QUERY_STRING})];</td></tr>
<tr><td class="h">1231</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1232</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1233</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return keys %{$self-&gt;{&#39;.url_param&#39;}} unless defined($name);</td></tr>
<tr><td class="h">1234</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return () unless $self-&gt;{&#39;.url_param&#39;}-&gt;{$name};</td></tr>
<tr><td class="h">1235</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @{$self-&gt;{&#39;.url_param&#39;}-&gt;{$name}}</td></tr>
<tr><td class="h">1236</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $self-&gt;{&#39;.url_param&#39;}-&gt;{$name}-&gt;[0];</td></tr>
<tr><td class="h">1237</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1238</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1239</td><td colspan="6"></td></tr><tr><td class="h">1240</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: Dump</td></tr>
<tr><td class="h">1241</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns a string in which all the known parameter/value </td></tr>
<tr><td class="h">1242</td><td></td><td></td><td></td><td></td><td></td><td class="s"># pairs are represented as nested lists, mainly for the purposes </td></tr>
<tr><td class="h">1243</td><td></td><td></td><td></td><td></td><td></td><td class="s"># of debugging.</td></tr>
<tr><td class="h">1244</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1245</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;Dump&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1246</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub Dump {</td></tr>
<tr><td class="h">1247</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = self_or_default(@_);</td></tr>
<tr><td class="h">1248</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($param,$value,@result);</td></tr>
<tr><td class="h">1249</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;&lt;ul&gt;&lt;/ul&gt;&#39; unless $self-&gt;param;</td></tr>
<tr><td class="h">1250</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;ul&gt;&quot;);</td></tr>
<tr><td class="h">1251</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $param ($self-&gt;param) {</td></tr>
<tr><td class="h">1252</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($name)=$self-&gt;escapeHTML($param);</td></tr>
<tr><td class="h">1253</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;li&gt;&lt;strong&gt;$param&lt;/strong&gt;&lt;/li&gt;&quot;);</td></tr>
<tr><td class="h">1254</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;ul&gt;&quot;);</td></tr>
<tr><td class="h">1255</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $value ($self-&gt;param($param)) {</td></tr>
<tr><td class="h">1256</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $self-&gt;escapeHTML($value);</td></tr>
<tr><td class="h">1257</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\n/&lt;br \/&gt;\n/g;</td></tr>
<tr><td class="h">1258</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;li&gt;$value&lt;/li&gt;&quot;);</td></tr>
<tr><td class="h">1259</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1260</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;/ul&gt;&quot;);</td></tr>
<tr><td class="h">1261</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1262</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;/ul&gt;&quot;);</td></tr>
<tr><td class="h">1263</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return join(&quot;\n&quot;,@result);</td></tr>
<tr><td class="h">1264</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1265</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1266</td><td colspan="6"></td></tr><tr><td class="h">1267</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method as_string</td></tr>
<tr><td class="h">1268</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1269</td><td></td><td></td><td></td><td></td><td></td><td class="s"># synonym for &quot;dump&quot;</td></tr>
<tr><td class="h">1270</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1271</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;as_string&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1272</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub as_string {</td></tr>
<tr><td class="h">1273</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&amp;Dump(@_);</td></tr>
<tr><td class="h">1274</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1275</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1276</td><td colspan="6"></td></tr><tr><td class="h">1277</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: save</td></tr>
<tr><td class="h">1278</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Write values out to a filehandle in such a way that they can</td></tr>
<tr><td class="h">1279</td><td></td><td></td><td></td><td></td><td></td><td class="s"># be reinitialized by the filehandle form of the new() method</td></tr>
<tr><td class="h">1280</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1281</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;save&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1282</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub save {</td></tr>
<tr><td class="h">1283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$filehandle) = self_or_default(@_);</td></tr>
<tr><td class="h">1284</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$filehandle = to_filehandle($filehandle);</td></tr>
<tr><td class="h">1285</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($param);</td></tr>
<tr><td class="h">1286</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local($,) = &#39;&#39;;  # set print field separator back to a sane value</td></tr>
<tr><td class="h">1287</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local($\) = &#39;&#39;;  # set output line separator to a sane value</td></tr>
<tr><td class="h">1288</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $param ($self-&gt;param) {</td></tr>
<tr><td class="h">1289</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($escaped_param) = escape($param);</td></tr>
<tr><td class="h">1290</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($value);</td></tr>
<tr><td class="h">1291</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $value ($self-&gt;param($param)) {</td></tr>
<tr><td class="h">1292</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $filehandle &quot;$escaped_param=&quot;,escape(&quot;$value&quot;),&quot;\n&quot;;</td></tr>
<tr><td class="h">1293</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1294</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1295</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %{$self-&gt;{&#39;.fieldnames&#39;}}) {</td></tr>
<tr><td class="h">1296</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $filehandle &quot;.cgifields=&quot;,escape(&quot;$_&quot;),&quot;\n&quot;;</td></tr>
<tr><td class="h">1297</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1298</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;print $filehandle &quot;=\n&quot;;    # end of record</td></tr>
<tr><td class="h">1299</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1300</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1301</td><td colspan="6"></td></tr><tr><td class="h">1302</td><td colspan="6"></td></tr><tr><td class="h">1303</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: save_parameters</td></tr>
<tr><td class="h">1304</td><td></td><td></td><td></td><td></td><td></td><td class="s"># An alias for save() that is a better name for exportation.</td></tr>
<tr><td class="h">1305</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Only intended to be used with the function (non-OO) interface.</td></tr>
<tr><td class="h">1306</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1307</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;save_parameters&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1308</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub save_parameters {</td></tr>
<tr><td class="h">1309</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $fh = shift;</td></tr>
<tr><td class="h">1310</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return save(to_filehandle($fh));</td></tr>
<tr><td class="h">1311</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1312</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1313</td><td colspan="6"></td></tr><tr><td class="h">1314</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: restore_parameters</td></tr>
<tr><td class="h">1315</td><td></td><td></td><td></td><td></td><td></td><td class="s"># A way to restore CGI parameters from an initializer.</td></tr>
<tr><td class="h">1316</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Only intended to be used with the function (non-OO) interface.</td></tr>
<tr><td class="h">1317</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1318</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;restore_parameters&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1319</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub restore_parameters {</td></tr>
<tr><td class="h">1320</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$Q = $CGI::DefaultClass-&gt;new(@_);</td></tr>
<tr><td class="h">1321</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1322</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1323</td><td colspan="6"></td></tr><tr><td class="h">1324</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: multipart_init</td></tr>
<tr><td class="h">1325</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a Content-Type: style header for server-push</td></tr>
<tr><td class="h">1326</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This has to be NPH on most web servers, and it is advisable to set $| = 1</td></tr>
<tr><td class="h">1327</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1328</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Many thanks to Ed Jordan &lt;ed@fidalgo.net&gt; for this</td></tr>
<tr><td class="h">1329</td><td></td><td></td><td></td><td></td><td></td><td class="s"># contribution, updated by Andrew Benham (adsb@bigfoot.com)</td></tr>
<tr><td class="h">1330</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1331</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;multipart_init&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1332</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub multipart_init {</td></tr>
<tr><td class="h">1333</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($boundary,@other) = rearrange([BOUNDARY],@p);</td></tr>
<tr><td class="h">1335</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$boundary = $boundary || &#39;------- =_aaaaaaaaaa0&#39;;</td></tr>
<tr><td class="h">1336</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;separator&#39;} = &quot;$CRLF--$boundary$CRLF&quot;;</td></tr>
<tr><td class="h">1337</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;final_separator&#39;} = &quot;$CRLF--$boundary--$CRLF&quot;;</td></tr>
<tr><td class="h">1338</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$type = SERVER_PUSH($boundary);</td></tr>
<tr><td class="h">1339</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;header(</td></tr>
<tr><td class="h">1340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-nph =&gt; 0,</td></tr>
<tr><td class="h">1341</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-type =&gt; $type,</td></tr>
<tr><td class="h">1342</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map { split &quot;=&quot;, $_, 2 } @other),</td></tr>
<tr><td class="h">1343</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;) . &quot;WARNING: YOUR BROWSER DOESN&#39;T SUPPORT THIS SERVER-PUSH TECHNOLOGY.&quot; . $self-&gt;multipart_end;</td></tr>
<tr><td class="h">1344</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1345</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1346</td><td colspan="6"></td></tr><tr><td class="h">1347</td><td colspan="6"></td></tr><tr><td class="h">1348</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: multipart_start</td></tr>
<tr><td class="h">1349</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a Content-Type: style header for server-push, start of section</td></tr>
<tr><td class="h">1350</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1351</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Many thanks to Ed Jordan &lt;ed@fidalgo.net&gt; for this</td></tr>
<tr><td class="h">1352</td><td></td><td></td><td></td><td></td><td></td><td class="s"># contribution, updated by Andrew Benham (adsb@bigfoot.com)</td></tr>
<tr><td class="h">1353</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1354</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;multipart_start&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1355</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub multipart_start {</td></tr>
<tr><td class="h">1356</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@header);</td></tr>
<tr><td class="h">1357</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1358</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($type,@other) = rearrange([TYPE],@p);</td></tr>
<tr><td class="h">1359</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$type = $type || &#39;text/html&#39;;</td></tr>
<tr><td class="h">1360</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Content-Type: $type&quot;);</td></tr>
<tr><td class="h">1361</td><td colspan="6"></td></tr><tr><td class="h">1362</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# rearrange() was designed for the HTML portion, so we</td></tr>
<tr><td class="h">1363</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# need to fix it up a little.</td></tr>
<tr><td class="h">1364</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@other) {</td></tr>
<tr><td class="h">1365</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Don&#39;t use \s because of perl bug 21951</td></tr>
<tr><td class="h">1366</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless my($header,$value) = /([^ \r\n\t=]+)=\&quot;?(.+?)\&quot;?$/;</td></tr>
<tr><td class="h">1367</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($_ = $header) =~ s/^(\w)(.*)/$1 . lc ($2) . &#39;: &#39;.$self-&gt;unescapeHTML($value)/e;</td></tr>
<tr><td class="h">1368</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1369</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,@other);</td></tr>
<tr><td class="h">1370</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $header = join($CRLF,@header).&quot;${CRLF}${CRLF}&quot;;</td></tr>
<tr><td class="h">1371</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $header;</td></tr>
<tr><td class="h">1372</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1373</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1374</td><td colspan="6"></td></tr><tr><td class="h">1375</td><td colspan="6"></td></tr><tr><td class="h">1376</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: multipart_end</td></tr>
<tr><td class="h">1377</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a MIME boundary separator for server-push, end of section</td></tr>
<tr><td class="h">1378</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1379</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Many thanks to Ed Jordan &lt;ed@fidalgo.net&gt; for this</td></tr>
<tr><td class="h">1380</td><td></td><td></td><td></td><td></td><td></td><td class="s"># contribution</td></tr>
<tr><td class="h">1381</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1382</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;multipart_end&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1383</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub multipart_end {</td></tr>
<tr><td class="h">1384</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1385</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;separator&#39;};</td></tr>
<tr><td class="h">1386</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1387</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1388</td><td colspan="6"></td></tr><tr><td class="h">1389</td><td colspan="6"></td></tr><tr><td class="h">1390</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: multipart_final</td></tr>
<tr><td class="h">1391</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a MIME boundary separator for server-push, end of all sections</td></tr>
<tr><td class="h">1392</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1393</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Contributed by Andrew Benham (adsb@bigfoot.com)</td></tr>
<tr><td class="h">1394</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1395</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;multipart_final&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1396</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub multipart_final {</td></tr>
<tr><td class="h">1397</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1398</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;final_separator&#39;} . &quot;WARNING: YOUR BROWSER DOESN&#39;T SUPPORT THIS SERVER-PUSH TECHNOLOGY.&quot; . $CRLF;</td></tr>
<tr><td class="h">1399</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1400</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1401</td><td colspan="6"></td></tr><tr><td class="h">1402</td><td colspan="6"></td></tr><tr><td class="h">1403</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: header</td></tr>
<tr><td class="h">1404</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a Content-Type: style header</td></tr>
<tr><td class="h">1405</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1406</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1407</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;header&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1408</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub header {</td></tr>
<tr><td class="h">1409</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1410</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@header);</td></tr>
<tr><td class="h">1411</td><td colspan="6"></td></tr><tr><td class="h">1412</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &quot;&quot; if $self-&gt;{&#39;.header_printed&#39;}++ and $HEADERS_ONCE;</td></tr>
<tr><td class="h">1413</td><td colspan="6"></td></tr><tr><td class="h">1414</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($type,$status,$cookie,$target,$expires,$nph,$charset,$attachment,$p3p,@other) = </td></tr>
<tr><td class="h">1415</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([[&#39;TYPE&#39;,&#39;CONTENT_TYPE&#39;,&#39;CONTENT-TYPE&#39;],</td></tr>
<tr><td class="h">1416</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;STATUS&#39;,[&#39;COOKIE&#39;,&#39;COOKIES&#39;],&#39;TARGET&#39;,</td></tr>
<tr><td class="h">1417</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;EXPIRES&#39;,&#39;NPH&#39;,&#39;CHARSET&#39;,</td></tr>
<tr><td class="h">1418</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ATTACHMENT&#39;,&#39;P3P&#39;],@p);</td></tr>
<tr><td class="h">1419</td><td colspan="6"></td></tr><tr><td class="h">1420</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$nph     ||= $NPH;</td></tr>
<tr><td class="h">1421</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $charset) {</td></tr>
<tr><td class="h">1422</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;charset($charset);</td></tr>
<tr><td class="h">1423</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1424</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$charset = $self-&gt;charset;</td></tr>
<tr><td class="h">1425</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1426</td><td colspan="6"></td></tr><tr><td class="h">1427</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# rearrange() was designed for the HTML portion, so we</td></tr>
<tr><td class="h">1428</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# need to fix it up a little.</td></tr>
<tr><td class="h">1429</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@other) {</td></tr>
<tr><td class="h">1430</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Don&#39;t use \s because of perl bug 21951</td></tr>
<tr><td class="h">1431</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless my($header,$value) = /([^ \r\n\t=]+)=\&quot;?(.+?)\&quot;?$/;</td></tr>
<tr><td class="h">1432</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($_ = $header) =~ s/^(\w)(.*)/&quot;\u$1\L$2&quot; . &#39;: &#39;.$self-&gt;unescapeHTML($value)/e;</td></tr>
<tr><td class="h">1433</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1434</td><td colspan="6"></td></tr><tr><td class="h">1435</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$type ||= &#39;text/html&#39; unless defined($type);</td></tr>
<tr><td class="h">1436</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$type .= &quot;; charset=$charset&quot; if $type ne &#39;&#39; and $type =~ m!^text/! and $type !~ /\bcharset\b/ and $charset ne &#39;&#39;;</td></tr>
<tr><td class="h">1437</td><td colspan="6"></td></tr><tr><td class="h">1438</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Maybe future compatibility.  Maybe not.</td></tr>
<tr><td class="h">1439</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $protocol = $ENV{SERVER_PROTOCOL} || &#39;HTTP/1.0&#39;;</td></tr>
<tr><td class="h">1440</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,$protocol . &#39; &#39; . ($status || &#39;200 OK&#39;)) if $nph;</td></tr>
<tr><td class="h">1441</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Server: &quot; . &amp;server_software()) if $nph;</td></tr>
<tr><td class="h">1442</td><td colspan="6"></td></tr><tr><td class="h">1443</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Status: $status&quot;) if $status;</td></tr>
<tr><td class="h">1444</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Window-Target: $target&quot;) if $target;</td></tr>
<tr><td class="h">1445</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($p3p) {</td></tr>
<tr><td class="h">1446</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p3p = join &#39; &#39;,@$p3p if ref($p3p) eq &#39;ARRAY&#39;;</td></tr>
<tr><td class="h">1447</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@header,qq(P3P: policyref=&quot;/w3c/p3p.xml&quot;, CP=&quot;$p3p&quot;));</td></tr>
<tr><td class="h">1448</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1449</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# push all the cookies -- there may be several</td></tr>
<tr><td class="h">1450</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($cookie) {</td></tr>
<tr><td class="h">1451</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(@cookie) = ref($cookie) &amp;&amp; ref($cookie) eq &#39;ARRAY&#39; ? @{$cookie} : $cookie;</td></tr>
<tr><td class="h">1452</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (@cookie) {</td></tr>
<tr><td class="h">1453</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $cs = UNIVERSAL::isa($_,&#39;CGI::Cookie&#39;) ? $_-&gt;as_string : $_;</td></tr>
<tr><td class="h">1454</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Set-Cookie: $cs&quot;) if $cs ne &#39;&#39;;</td></tr>
<tr><td class="h">1455</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1456</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1457</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# if the user indicates an expiration time, then we need</td></tr>
<tr><td class="h">1458</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# both an Expires and a Date header (so that the browser is</td></tr>
<tr><td class="h">1459</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# uses OUR clock)</td></tr>
<tr><td class="h">1460</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Expires: &quot; . expires($expires,&#39;http&#39;))</td></tr>
<tr><td class="h">1461</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $expires;</td></tr>
<tr><td class="h">1462</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Date: &quot; . expires(0,&#39;http&#39;)) if $expires || $cookie || $nph;</td></tr>
<tr><td class="h">1463</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Pragma: no-cache&quot;) if $self-&gt;cache();</td></tr>
<tr><td class="h">1464</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Content-Disposition: attachment; filename=\&quot;$attachment\&quot;&quot;) if $attachment;</td></tr>
<tr><td class="h">1465</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,map {ucfirst $_} @other);</td></tr>
<tr><td class="h">1466</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@header,&quot;Content-Type: $type&quot;) if $type ne &#39;&#39;;</td></tr>
<tr><td class="h">1467</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $header = join($CRLF,@header).&quot;${CRLF}${CRLF}&quot;;</td></tr>
<tr><td class="h">1468</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($MOD_PERL and not $nph) {</td></tr>
<tr><td class="h">1469</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;r-&gt;send_cgi_header($header);</td></tr>
<tr><td class="h">1470</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &#39;&#39;;</td></tr>
<tr><td class="h">1471</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1472</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $header;</td></tr>
<tr><td class="h">1473</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1474</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1475</td><td colspan="6"></td></tr><tr><td class="h">1476</td><td colspan="6"></td></tr><tr><td class="h">1477</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: cache</td></tr>
<tr><td class="h">1478</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Control whether header() will produce the no-cache</td></tr>
<tr><td class="h">1479</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Pragma directive.</td></tr>
<tr><td class="h">1480</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1481</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;cache&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1482</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub cache {</td></tr>
<tr><td class="h">1483</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$new_value) = self_or_default(@_);</td></tr>
<tr><td class="h">1484</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$new_value = &#39;&#39; unless $new_value;</td></tr>
<tr><td class="h">1485</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($new_value ne &#39;&#39;) {</td></tr>
<tr><td class="h">1486</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;cache&#39;} = $new_value;</td></tr>
<tr><td class="h">1487</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;cache&#39;};</td></tr>
<tr><td class="h">1489</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1490</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1491</td><td colspan="6"></td></tr><tr><td class="h">1492</td><td colspan="6"></td></tr><tr><td class="h">1493</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: redirect</td></tr>
<tr><td class="h">1494</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return a Location: style header</td></tr>
<tr><td class="h">1495</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1496</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1497</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;redirect&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1498</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub redirect {</td></tr>
<tr><td class="h">1499</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1500</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($url,$target,$status,$cookie,$nph,@other) = </td></tr>
<tr><td class="h">1501</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([[LOCATION,URI,URL],TARGET,STATUS,[&#39;COOKIE&#39;,&#39;COOKIES&#39;],NPH],@p);</td></tr>
<tr><td class="h">1502</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$status = &#39;302 Moved&#39; unless defined $status;</td></tr>
<tr><td class="h">1503</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$url ||= $self-&gt;self_url;</td></tr>
<tr><td class="h">1504</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@o);</td></tr>
<tr><td class="h">1505</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@other) { tr/\&quot;//d; push(@o,split(&quot;=&quot;,$_,2)); }</td></tr>
<tr><td class="h">1506</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unshift(@o,</td></tr>
<tr><td class="h">1507</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;-Status&#39;  =&gt; $status,</td></tr>
<tr><td class="h">1508</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;-Location&#39;=&gt; $url,</td></tr>
<tr><td class="h">1509</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;-nph&#39;     =&gt; $nph);</td></tr>
<tr><td class="h">1510</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unshift(@o,&#39;-Target&#39;=&gt;$target) if $target;</td></tr>
<tr><td class="h">1511</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unshift(@o,&#39;-Type&#39;=&gt;&#39;&#39;);</td></tr>
<tr><td class="h">1512</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @unescaped;</td></tr>
<tr><td class="h">1513</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unshift(@unescaped,&#39;-Cookie&#39;=&gt;$cookie) if $cookie;</td></tr>
<tr><td class="h">1514</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;header((map {$self-&gt;unescapeHTML($_)} @o),@unescaped);</td></tr>
<tr><td class="h">1515</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1516</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1517</td><td colspan="6"></td></tr><tr><td class="h">1518</td><td colspan="6"></td></tr><tr><td class="h">1519</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: start_html</td></tr>
<tr><td class="h">1520</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Canned HTML header</td></tr>
<tr><td class="h">1521</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1522</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1523</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $title -&gt; (optional) The title for this HTML document (-title)</td></tr>
<tr><td class="h">1524</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $author -&gt; (optional) e-mail address of the author (-author)</td></tr>
<tr><td class="h">1525</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $base -&gt; (optional) if set to true, will enter the BASE address of this document</td></tr>
<tr><td class="h">1526</td><td></td><td></td><td></td><td></td><td></td><td class="s">#          for resolving relative references (-base) </td></tr>
<tr><td class="h">1527</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $xbase -&gt; (optional) alternative base at some remote location (-xbase)</td></tr>
<tr><td class="h">1528</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $target -&gt; (optional) target window to load all links into (-target)</td></tr>
<tr><td class="h">1529</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $script -&gt; (option) Javascript code (-script)</td></tr>
<tr><td class="h">1530</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $no_script -&gt; (option) Javascript &lt;noscript&gt; tag (-noscript)</td></tr>
<tr><td class="h">1531</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $meta -&gt; (optional) Meta information tags</td></tr>
<tr><td class="h">1532</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $head -&gt; (optional) any other elements you&#39;d like to incorporate into the &lt;head&gt; tag</td></tr>
<tr><td class="h">1533</td><td></td><td></td><td></td><td></td><td></td><td class="s">#           (a scalar or array ref)</td></tr>
<tr><td class="h">1534</td><td></td><td></td><td></td><td></td><td></td><td class="s"># $style -&gt; (optional) reference to an external style sheet</td></tr>
<tr><td class="h">1535</td><td></td><td></td><td></td><td></td><td></td><td class="s"># @other -&gt; (optional) any other named parameters you&#39;d like to incorporate into</td></tr>
<tr><td class="h">1536</td><td></td><td></td><td></td><td></td><td></td><td class="s">#           the &lt;body&gt; tag.</td></tr>
<tr><td class="h">1537</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1538</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;start_html&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1539</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub start_html {</td></tr>
<tr><td class="h">1540</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = &amp;self_or_default(@_);</td></tr>
<tr><td class="h">1541</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($title,$author,$base,$xbase,$script,$noscript,</td></tr>
<tr><td class="h">1542</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$target,$meta,$head,$style,$dtd,$lang,$encoding,$declare_xml,@other) = </td></tr>
<tr><td class="h">1543</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([TITLE,AUTHOR,BASE,XBASE,SCRIPT,NOSCRIPT,TARGET,</td></tr>
<tr><td class="h">1544</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;META,HEAD,STYLE,DTD,LANG,ENCODING,DECLARE_XML],@p);</td></tr>
<tr><td class="h">1545</td><td colspan="6"></td></tr><tr><td class="h">1546</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;element_id(0);</td></tr>
<tr><td class="h">1547</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;element_tab(0);</td></tr>
<tr><td class="h">1548</td><td colspan="6"></td></tr><tr><td class="h">1549</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$encoding = &#39;iso-8859-1&#39; unless defined $encoding;</td></tr>
<tr><td class="h">1550</td><td colspan="6"></td></tr><tr><td class="h">1551</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Need to sort out the DTD before it&#39;s okay to call escapeHTML().</td></tr>
<tr><td class="h">1552</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@result,$xml_dtd);</td></tr>
<tr><td class="h">1553</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($dtd) {</td></tr>
<tr><td class="h">1554</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined(ref($dtd)) and (ref($dtd) eq &#39;ARRAY&#39;)) {</td></tr>
<tr><td class="h">1555</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dtd = $DEFAULT_DTD unless $dtd-&gt;[0] =~ m|^-//|;</td></tr>
<tr><td class="h">1556</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1557</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dtd = $DEFAULT_DTD unless $dtd =~ m|^-//|;</td></tr>
<tr><td class="h">1558</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1559</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1560</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dtd = $XHTML ? XHTML_DTD : $DEFAULT_DTD;</td></tr>
<tr><td class="h">1561</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1562</td><td colspan="6"></td></tr><tr><td class="h">1563</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$xml_dtd++ if ref($dtd) eq &#39;ARRAY&#39; &amp;&amp; $dtd-&gt;[0] =~ /\bXHTML\b/i;</td></tr>
<tr><td class="h">1564</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$xml_dtd++ if ref($dtd) eq &#39;&#39; &amp;&amp; $dtd =~ /\bXHTML\b/i;</td></tr>
<tr><td class="h">1565</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @result,qq(&lt;?xml version=&quot;1.0&quot; encoding=&quot;$encoding&quot;?&gt;) if $xml_dtd &amp;&amp; $declare_xml;</td></tr>
<tr><td class="h">1566</td><td colspan="6"></td></tr><tr><td class="h">1567</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (ref($dtd) &amp;&amp; ref($dtd) eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">1568</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,qq(&lt;!DOCTYPE html\n\tPUBLIC &quot;$dtd-&gt;[0]&quot;\n\t &quot;$dtd-&gt;[1]&quot;&gt;));</td></tr>
<tr><td class="h">1569</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DTD_PUBLIC_IDENTIFIER = $dtd-&gt;[0];</td></tr>
<tr><td class="h">1570</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1571</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,qq(&lt;!DOCTYPE html\n\tPUBLIC &quot;$dtd&quot;&gt;));</td></tr>
<tr><td class="h">1572</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DTD_PUBLIC_IDENTIFIER = $dtd;</td></tr>
<tr><td class="h">1573</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1574</td><td colspan="6"></td></tr><tr><td class="h">1575</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Now that we know whether we&#39;re using the HTML 3.2 DTD or not, it&#39;s okay to</td></tr>
<tr><td class="h">1576</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# call escapeHTML().  Strangely enough, the title needs to be escaped as</td></tr>
<tr><td class="h">1577</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# HTML while the author needs to be escaped as a URL.</td></tr>
<tr><td class="h">1578</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$title = $self-&gt;escapeHTML($title || &#39;Untitled Document&#39;);</td></tr>
<tr><td class="h">1579</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$author = $self-&gt;escape($author);</td></tr>
<tr><td class="h">1580</td><td colspan="6"></td></tr><tr><td class="h">1581</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($DTD_PUBLIC_IDENTIFIER =~ /[^X]HTML (2\.0|3\.2)/i) {</td></tr>
<tr><td class="h">1582</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$lang = &quot;&quot; unless defined $lang;</td></tr>
<tr><td class="h">1583</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$XHTML = 0;</td></tr>
<tr><td class="h">1584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1585</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">1586</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$lang = &#39;en-US&#39; unless defined $lang;</td></tr>
<tr><td class="h">1587</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1588</td><td colspan="6"></td></tr><tr><td class="h">1589</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $lang_bits = $lang ne &#39;&#39; ? qq( lang=&quot;$lang&quot; xml:lang=&quot;$lang&quot;) : &#39;&#39;;</td></tr>
<tr><td class="h">1590</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $meta_bits = qq(&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=$encoding&quot; /&gt;) </td></tr>
<tr><td class="h">1591</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $XHTML &amp;&amp; $encoding &amp;&amp; !$declare_xml;</td></tr>
<tr><td class="h">1592</td><td colspan="6"></td></tr><tr><td class="h">1593</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$XHTML ? qq(&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;$lang_bits&gt;\n&lt;head&gt;\n&lt;title&gt;$title&lt;/title&gt;)</td></tr>
<tr><td class="h">1594</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: ($lang ? qq(&lt;html lang=&quot;$lang&quot;&gt;) : &quot;&lt;html&gt;&quot;)</td></tr>
<tr><td class="h">1595</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &quot;&lt;head&gt;&lt;title&gt;$title&lt;/title&gt;&quot;);</td></tr>
<tr><td class="h">1596</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $author) {</td></tr>
<tr><td class="h">1597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$XHTML ? &quot;&lt;link rev=\&quot;made\&quot; href=\&quot;mailto:$author\&quot; /&gt;&quot;</td></tr>
<tr><td class="h">1598</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: &quot;&lt;link rev=\&quot;made\&quot; href=\&quot;mailto:$author\&quot;&gt;&quot;);</td></tr>
<tr><td class="h">1599</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1600</td><td colspan="6"></td></tr><tr><td class="h">1601</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($base || $xbase || $target) {</td></tr>
<tr><td class="h">1602</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $href = $xbase || $self-&gt;url(&#39;-path&#39;=&gt;1);</td></tr>
<tr><td class="h">1603</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $t = $target ? qq/ target=&quot;$target&quot;/ : &#39;&#39;;</td></tr>
<tr><td class="h">1604</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$XHTML ? qq(&lt;base href=&quot;$href&quot;$t /&gt;) : qq(&lt;base href=&quot;$href&quot;$t&gt;));</td></tr>
<tr><td class="h">1605</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1606</td><td colspan="6"></td></tr><tr><td class="h">1607</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($meta &amp;&amp; ref($meta) &amp;&amp; (ref($meta) eq &#39;HASH&#39;)) {</td></tr>
<tr><td class="h">1608</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %$meta) { push(@result,$XHTML ? qq(&lt;meta name=&quot;$_&quot; content=&quot;$meta-&gt;{$_}&quot; /&gt;) </td></tr>
<tr><td class="h">1609</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;meta name=&quot;$_&quot; content=&quot;$meta-&gt;{$_}&quot;&gt;)); }</td></tr>
<tr><td class="h">1610</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1611</td><td colspan="6"></td></tr><tr><td class="h">1612</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,ref($head) ? @$head : $head) if $head;</td></tr>
<tr><td class="h">1613</td><td colspan="6"></td></tr><tr><td class="h">1614</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# handle the infrequently-used -style and -script parameters</td></tr>
<tr><td class="h">1615</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$self-&gt;_style($style))   if defined $style;</td></tr>
<tr><td class="h">1616</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$self-&gt;_script($script)) if defined $script;</td></tr>
<tr><td class="h">1617</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$meta_bits)              if defined $meta_bits;</td></tr>
<tr><td class="h">1618</td><td colspan="6"></td></tr><tr><td class="h">1619</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# handle -noscript parameter</td></tr>
<tr><td class="h">1620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&lt;&lt;END) if $noscript;</td></tr>
<tr><td class="h">1621</td><td></td><td></td><td></td><td></td><td></td><td class="s">&lt;noscript&gt;</td></tr>
<tr><td class="h">1622</td><td></td><td></td><td></td><td></td><td></td><td class="s">$noscript</td></tr>
<tr><td class="h">1623</td><td></td><td></td><td></td><td></td><td></td><td class="s">&lt;/noscript&gt;</td></tr>
<tr><td class="h">1624</td><td></td><td></td><td></td><td></td><td></td><td class="s">END</td></tr>
<tr><td class="h">1625</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;;</td></tr>
<tr><td class="h">1626</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">1627</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@result,&quot;&lt;/head&gt;\n&lt;body$other&gt;\n&quot;);</td></tr>
<tr><td class="h">1628</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return join(&quot;\n&quot;,@result);</td></tr>
<tr><td class="h">1629</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1630</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1631</td><td colspan="6"></td></tr><tr><td class="h">1632</td><td></td><td></td><td></td><td></td><td></td><td class="s">### Method: _style</td></tr>
<tr><td class="h">1633</td><td></td><td></td><td></td><td></td><td></td><td class="s"># internal method for generating a CSS style section</td></tr>
<tr><td class="h">1634</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1635</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_style&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1636</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _style {</td></tr>
<tr><td class="h">1637</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$style) = @_;</td></tr>
<tr><td class="h">1638</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my (@result);</td></tr>
<tr><td class="h">1639</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $type = &#39;text/css&#39;;</td></tr>
<tr><td class="h">1640</td><td colspan="6"></td></tr><tr><td class="h">1641</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $cdata_start = $XHTML ? &quot;\n&lt;!--/* &lt;![CDATA[ */&quot; : &quot;\n&lt;!-- &quot;;</td></tr>
<tr><td class="h">1642</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $cdata_end   = $XHTML ? &quot;\n/* ]]&gt; */--&gt;\n&quot; : &quot; --&gt;\n&quot;;</td></tr>
<tr><td class="h">1643</td><td colspan="6"></td></tr><tr><td class="h">1644</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @s = ref($style) eq &#39;ARRAY&#39; ? @$style : $style;</td></tr>
<tr><td class="h">1645</td><td colspan="6"></td></tr><tr><td class="h">1646</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $s (@s) {</td></tr>
<tr><td class="h">1647</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref($s)) {</td></tr>
<tr><td class="h">1648</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($src,$code,$verbatim,$stype,$foo,@other) =</td></tr>
<tr><td class="h">1649</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([qw(SRC CODE VERBATIM TYPE FOO)],</td></tr>
<tr><td class="h">1650</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&#39;-foo&#39;=&gt;&#39;bar&#39;,</td></tr>
<tr><td class="h">1651</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ref($s) eq &#39;ARRAY&#39; ? @$s : %$s));</td></tr>
<tr><td class="h">1652</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type  = $stype if $stype;</td></tr>
<tr><td class="h">1653</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $other = @other ? join &#39; &#39;,@other : &#39;&#39;;</td></tr>
<tr><td class="h">1654</td><td colspan="6"></td></tr><tr><td class="h">1655</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref($src) eq &quot;ARRAY&quot;) # Check to see if the $src variable is an array reference</td></tr>
<tr><td class="h">1656</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ # If it is, push a LINK tag for each one</td></tr>
<tr><td class="h">1657</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $src (@$src)</td></tr>
<tr><td class="h">1658</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">1659</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$XHTML ? qq(&lt;link rel=&quot;stylesheet&quot; type=&quot;$type&quot; href=&quot;$src&quot; $other/&gt;)</td></tr>
<tr><td class="h">1660</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;link rel=&quot;stylesheet&quot; type=&quot;$type&quot; href=&quot;$src&quot;$other&gt;)) if $src;</td></tr>
<tr><td class="h">1661</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1662</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1663</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</td></tr>
<tr><td class="h">1664</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ # Otherwise, push the single -src, if it exists.</td></tr>
<tr><td class="h">1665</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$XHTML ? qq(&lt;link rel=&quot;stylesheet&quot; type=&quot;$type&quot; href=&quot;$src&quot; $other/&gt;)</td></tr>
<tr><td class="h">1666</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;link rel=&quot;stylesheet&quot; type=&quot;$type&quot; href=&quot;$src&quot;$other&gt;)</td></tr>
<tr><td class="h">1667</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) if $src;</td></tr>
<tr><td class="h">1668</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1669</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($verbatim) {</td></tr>
<tr><td class="h">1670</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @v = ref($verbatim) eq &#39;ARRAY&#39; ? @$verbatim : $verbatim;</td></tr>
<tr><td class="h">1671</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result, &quot;&lt;style type=\&quot;text/css\&quot;&gt;\n$_\n&lt;/style&gt;&quot;) foreach @v;</td></tr>
<tr><td class="h">1672</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1673</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @c = ref($code) eq &#39;ARRAY&#39; ? @$code : $code if $code;</td></tr>
<tr><td class="h">1674</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,style({&#39;type&#39;=&gt;$type},&quot;$cdata_start\n$_\n$cdata_end&quot;)) foreach @c;</td></tr>
<tr><td class="h">1675</td><td colspan="6"></td></tr><tr><td class="h">1676</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1677</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $src = $s;</td></tr>
<tr><td class="h">1678</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$XHTML ? qq(&lt;link rel=&quot;stylesheet&quot; type=&quot;$type&quot; href=&quot;$src&quot; $other/&gt;)</td></tr>
<tr><td class="h">1679</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;link rel=&quot;stylesheet&quot; type=&quot;$type&quot; href=&quot;$src&quot;$other&gt;));</td></tr>
<tr><td class="h">1680</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1681</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1682</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@result;</td></tr>
<tr><td class="h">1683</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1684</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1685</td><td colspan="6"></td></tr><tr><td class="h">1686</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_script&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1687</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _script {</td></tr>
<tr><td class="h">1688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$script) = @_;</td></tr>
<tr><td class="h">1689</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my (@result);</td></tr>
<tr><td class="h">1690</td><td colspan="6"></td></tr><tr><td class="h">1691</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my (@scripts) = ref($script) eq &#39;ARRAY&#39; ? @$script : ($script);</td></tr>
<tr><td class="h">1692</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $script (@scripts) {</td></tr>
<tr><td class="h">1693</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($src,$code,$language);</td></tr>
<tr><td class="h">1694</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref($script)) { # script is a hash</td></tr>
<tr><td class="h">1695</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($src,$code,$language, $type) =</td></tr>
<tr><td class="h">1696</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([SRC,CODE,LANGUAGE,TYPE],</td></tr>
<tr><td class="h">1697</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;-foo&#39;=&gt;&#39;bar&#39;,	# a trick to allow the &#39;-&#39; to be omitted</td></tr>
<tr><td class="h">1698</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ref($script) eq &#39;ARRAY&#39; ? @$script : %$script);</td></tr>
<tr><td class="h">1699</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# User may not have specified language</td></tr>
<tr><td class="h">1700</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$language ||= &#39;JavaScript&#39;;</td></tr>
<tr><td class="h">1701</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (defined $type) {</td></tr>
<tr><td class="h">1702</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = lc $language;</td></tr>
<tr><td class="h">1703</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# strip &#39;1.2&#39; from &#39;javascript1.2&#39;</td></tr>
<tr><td class="h">1704</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type =~ s/^(\D+).*$/text\/$1/;</td></tr>
<tr><td class="h">1705</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1706</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1707</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($src,$code,$language, $type) = (&#39;&#39;,$script,&#39;JavaScript&#39;, &#39;text/javascript&#39;);</td></tr>
<tr><td class="h">1708</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1709</td><td colspan="6"></td></tr><tr><td class="h">1710</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $comment = &#39;//&#39;;  # javascript by default</td></tr>
<tr><td class="h">1711</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$comment = &#39;#&#39; if $type=~/perl|tcl/i;</td></tr>
<tr><td class="h">1712</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$comment = &quot;&#39;&quot; if $type=~/vbscript/i;</td></tr>
<tr><td class="h">1713</td><td colspan="6"></td></tr><tr><td class="h">1714</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($cdata_start,$cdata_end);</td></tr>
<tr><td class="h">1715</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($XHTML) {</td></tr>
<tr><td class="h">1716</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cdata_start    = &quot;$comment&lt;![CDATA[\n&quot;;</td></tr>
<tr><td class="h">1717</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cdata_end     .= &quot;\n$comment]]&gt;&quot;;</td></tr>
<tr><td class="h">1718</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1719</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cdata_start  =  &quot;\n&lt;!-- Hide script\n&quot;;</td></tr>
<tr><td class="h">1720</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cdata_end    = $comment;</td></tr>
<tr><td class="h">1721</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cdata_end   .= &quot; End script hiding --&gt;\n&quot;;</td></tr>
<tr><td class="h">1722</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1723</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(@satts);</td></tr>
<tr><td class="h">1724</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@satts,&#39;src&#39;=&gt;$src) if $src;</td></tr>
<tr><td class="h">1725</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@satts,&#39;language&#39;=&gt;$language) unless defined $type;</td></tr>
<tr><td class="h">1726</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@satts,&#39;type&#39;=&gt;$type);</td></tr>
<tr><td class="h">1727</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code = $cdata_start . $code . $cdata_end if defined $code;</td></tr>
<tr><td class="h">1728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@result,$self-&gt;script({@satts},$code || &#39;&#39;));</td></tr>
<tr><td class="h">1729</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1730</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@result;</td></tr>
<tr><td class="h">1731</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1732</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1733</td><td colspan="6"></td></tr><tr><td class="h">1734</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: end_html</td></tr>
<tr><td class="h">1735</td><td></td><td></td><td></td><td></td><td></td><td class="s"># End an HTML document.</td></tr>
<tr><td class="h">1736</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Trivial method for completeness.  Just returns &quot;&lt;/body&gt;&quot;</td></tr>
<tr><td class="h">1737</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1738</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;end_html&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1739</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub end_html {</td></tr>
<tr><td class="h">1740</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &quot;\n&lt;/body&gt;\n&lt;/html&gt;&quot;;</td></tr>
<tr><td class="h">1741</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1742</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1743</td><td colspan="6"></td></tr><tr><td class="h">1744</td><td colspan="6"></td></tr><tr><td class="h">1745</td><td></td><td></td><td></td><td></td><td></td><td class="s">################################</td></tr>
<tr><td class="h">1746</td><td></td><td></td><td></td><td></td><td></td><td class="s"># METHODS USED IN BUILDING FORMS</td></tr>
<tr><td class="h">1747</td><td></td><td></td><td></td><td></td><td></td><td class="s">################################</td></tr>
<tr><td class="h">1748</td><td colspan="6"></td></tr><tr><td class="h">1749</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: isindex</td></tr>
<tr><td class="h">1750</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Just prints out the isindex tag.</td></tr>
<tr><td class="h">1751</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1752</td><td></td><td></td><td></td><td></td><td></td><td class="s">#  $action -&gt; optional URL of script to run</td></tr>
<tr><td class="h">1753</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1754</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;isindex&gt; tag</td></tr>
<tr><td class="h">1755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;isindex&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1756</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub isindex {</td></tr>
<tr><td class="h">1757</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1758</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($action,@other) = rearrange([ACTION],@p);</td></tr>
<tr><td class="h">1759</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$action = qq/ action=&quot;$action&quot;/ if $action;</td></tr>
<tr><td class="h">1760</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">1761</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? &quot;&lt;isindex$action$other /&gt;&quot; : &quot;&lt;isindex$action$other&gt;&quot;;</td></tr>
<tr><td class="h">1762</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1763</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1764</td><td colspan="6"></td></tr><tr><td class="h">1765</td><td colspan="6"></td></tr><tr><td class="h">1766</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: startform</td></tr>
<tr><td class="h">1767</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Start a form</td></tr>
<tr><td class="h">1768</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1769</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $method -&gt; optional submission method to use (GET or POST)</td></tr>
<tr><td class="h">1770</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $action -&gt; optional URL of script to run</td></tr>
<tr><td class="h">1771</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $enctype -&gt;encoding to use (URL_ENCODED or MULTIPART)</td></tr>
<tr><td class="h">1772</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;startform&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1773</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub startform {</td></tr>
<tr><td class="h">1774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1775</td><td colspan="6"></td></tr><tr><td class="h">1776</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($method,$action,$enctype,@other) = </td></tr>
<tr><td class="h">1777</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([METHOD,ACTION,ENCTYPE],@p);</td></tr>
<tr><td class="h">1778</td><td colspan="6"></td></tr><tr><td class="h">1779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$method  = $self-&gt;escapeHTML(lc($method) || &#39;post&#39;);</td></tr>
<tr><td class="h">1780</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$enctype = $self-&gt;escapeHTML($enctype || &amp;URL_ENCODED);</td></tr>
<tr><td class="h">1781</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $action) {</td></tr>
<tr><td class="h">1782</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$action = $self-&gt;escapeHTML($action);</td></tr>
<tr><td class="h">1783</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1784</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">1785</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$action = $self-&gt;escapeHTML($self-&gt;request_uri);</td></tr>
<tr><td class="h">1786</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1787</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$action = qq(action=&quot;$action&quot;);</td></tr>
<tr><td class="h">1788</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">1789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.parametersToAdd&#39;}={};</td></tr>
<tr><td class="h">1790</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return qq/&lt;form method=&quot;$method&quot; $action enctype=&quot;$enctype&quot;$other&gt;\n/;</td></tr>
<tr><td class="h">1791</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1792</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1793</td><td colspan="6"></td></tr><tr><td class="h">1794</td><td colspan="6"></td></tr><tr><td class="h">1795</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: start_form</td></tr>
<tr><td class="h">1796</td><td></td><td></td><td></td><td></td><td></td><td class="s"># synonym for startform</td></tr>
<tr><td class="h">1797</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;start_form&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1798</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub start_form {</td></tr>
<tr><td class="h">1799</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$XHTML ? &amp;start_multipart_form : &amp;startform;</td></tr>
<tr><td class="h">1800</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1801</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1802</td><td colspan="6"></td></tr><tr><td class="h">1803</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;end_multipart_form&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1804</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub end_multipart_form {</td></tr>
<tr><td class="h">1805</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&amp;endform;</td></tr>
<tr><td class="h">1806</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1807</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1808</td><td colspan="6"></td></tr><tr><td class="h">1809</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: start_multipart_form</td></tr>
<tr><td class="h">1810</td><td></td><td></td><td></td><td></td><td></td><td class="s"># synonym for startform</td></tr>
<tr><td class="h">1811</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;start_multipart_form&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1812</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub start_multipart_form {</td></tr>
<tr><td class="h">1813</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1814</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined($p[0]) &amp;&amp; substr($p[0],0,1) eq &#39;-&#39;) {</td></tr>
<tr><td class="h">1815</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my(%p) = @p;</td></tr>
<tr><td class="h">1816</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p{&#39;-enctype&#39;}=&amp;MULTIPART;</td></tr>
<tr><td class="h">1817</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;startform(%p);</td></tr>
<tr><td class="h">1818</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1819</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($method,$action,@other) = </td></tr>
<tr><td class="h">1820</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([METHOD,ACTION],@p);</td></tr>
<tr><td class="h">1821</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;startform($method,$action,&amp;MULTIPART,@other);</td></tr>
<tr><td class="h">1822</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1823</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1824</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1825</td><td colspan="6"></td></tr><tr><td class="h">1826</td><td colspan="6"></td></tr><tr><td class="h">1827</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: endform</td></tr>
<tr><td class="h">1828</td><td></td><td></td><td></td><td></td><td></td><td class="s"># End a form</td></tr>
<tr><td class="h">1829</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;endform&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1830</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub endform {</td></tr>
<tr><td class="h">1831</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1832</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $NOSTICKY ) {</td></tr>
<tr><td class="h">1833</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? (&quot;&lt;/form&gt;&quot;) : &quot;\n&lt;/form&gt;&quot;;</td></tr>
<tr><td class="h">1834</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1835</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (my @fields = $self-&gt;get_fields) {</td></tr>
<tr><td class="h">1836</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? (&quot;&lt;div&gt;&quot;,@fields,&quot;&lt;/div&gt;&quot;,&quot;&lt;/form&gt;&quot;)</td></tr>
<tr><td class="h">1837</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: &quot;&lt;div&gt;&quot;.(join &#39;&#39;,@fields).&quot;&lt;/div&gt;\n&lt;/form&gt;&quot;;</td></tr>
<tr><td class="h">1838</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1839</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;&lt;/form&gt;&quot;;</td></tr>
<tr><td class="h">1840</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1841</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1842</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1843</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1844</td><td colspan="6"></td></tr><tr><td class="h">1845</td><td colspan="6"></td></tr><tr><td class="h">1846</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_textfield&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1847</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _textfield {</td></tr>
<tr><td class="h">1848</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$tag,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1849</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$default,$size,$maxlength,$override,$tabindex,@other) = </td></tr>
<tr><td class="h">1850</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,[DEFAULT,VALUE,VALUES],SIZE,MAXLENGTH,[OVERRIDE,FORCE],TABINDEX],@p);</td></tr>
<tr><td class="h">1851</td><td colspan="6"></td></tr><tr><td class="h">1852</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $current = $override ? $default : </td></tr>
<tr><td class="h">1853</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(defined($self-&gt;param($name)) ? $self-&gt;param($name) : $default);</td></tr>
<tr><td class="h">1854</td><td colspan="6"></td></tr><tr><td class="h">1855</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$current = defined($current) ? $self-&gt;escapeHTML($current,1) : &#39;&#39;;</td></tr>
<tr><td class="h">1856</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name = defined($name) ? $self-&gt;escapeHTML($name) : &#39;&#39;;</td></tr>
<tr><td class="h">1857</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($s) = defined($size) ? qq/ size=&quot;$size&quot;/ : &#39;&#39;;</td></tr>
<tr><td class="h">1858</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($m) = defined($maxlength) ? qq/ maxlength=&quot;$maxlength&quot;/ : &#39;&#39;;</td></tr>
<tr><td class="h">1859</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">1860</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# this entered at cristy&#39;s request to fix problems with file upload fields</td></tr>
<tr><td class="h">1861</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# and WebTV -- not sure it won&#39;t break stuff</td></tr>
<tr><td class="h">1862</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($value) = $current ne &#39;&#39; ? qq(value=&quot;$current&quot;) : &#39;&#39;;</td></tr>
<tr><td class="h">1863</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">1864</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? qq(&lt;input type=&quot;$tag&quot; name=&quot;$name&quot; $tabindex$value$s$m$other /&gt;) </td></tr>
<tr><td class="h">1865</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;input type=&quot;$tag&quot; name=&quot;$name&quot; $value$s$m$other&gt;);</td></tr>
<tr><td class="h">1866</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1867</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1868</td><td colspan="6"></td></tr><tr><td class="h">1869</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: textfield</td></tr>
<tr><td class="h">1870</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1871</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the text field</td></tr>
<tr><td class="h">1872</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $default -&gt; Optional default value of the field if not</td></tr>
<tr><td class="h">1873</td><td></td><td></td><td></td><td></td><td></td><td class="s">#                already defined.</td></tr>
<tr><td class="h">1874</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $size -&gt;  Optional width of field in characaters.</td></tr>
<tr><td class="h">1875</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $maxlength -&gt; Optional maximum number of characters.</td></tr>
<tr><td class="h">1876</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1877</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;text&quot;&gt; field</td></tr>
<tr><td class="h">1878</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1879</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;textfield&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1880</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub textfield {</td></tr>
<tr><td class="h">1881</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1882</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_textfield(&#39;text&#39;,@p);</td></tr>
<tr><td class="h">1883</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1884</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1885</td><td colspan="6"></td></tr><tr><td class="h">1886</td><td colspan="6"></td></tr><tr><td class="h">1887</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: filefield</td></tr>
<tr><td class="h">1888</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1889</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the file upload field</td></tr>
<tr><td class="h">1890</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $size -&gt;  Optional width of field in characaters.</td></tr>
<tr><td class="h">1891</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $maxlength -&gt; Optional maximum number of characters.</td></tr>
<tr><td class="h">1892</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1893</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;file&quot;&gt; field</td></tr>
<tr><td class="h">1894</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1895</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;filefield&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1896</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub filefield {</td></tr>
<tr><td class="h">1897</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1898</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_textfield(&#39;file&#39;,@p);</td></tr>
<tr><td class="h">1899</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1900</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1901</td><td colspan="6"></td></tr><tr><td class="h">1902</td><td colspan="6"></td></tr><tr><td class="h">1903</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: password</td></tr>
<tr><td class="h">1904</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a &quot;secret password&quot; entry field</td></tr>
<tr><td class="h">1905</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1906</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the field</td></tr>
<tr><td class="h">1907</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $default -&gt; Optional default value of the field if not</td></tr>
<tr><td class="h">1908</td><td></td><td></td><td></td><td></td><td></td><td class="s">#                already defined.</td></tr>
<tr><td class="h">1909</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $size -&gt;  Optional width of field in characters.</td></tr>
<tr><td class="h">1910</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $maxlength -&gt; Optional maximum characters that can be entered.</td></tr>
<tr><td class="h">1911</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1912</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;password&quot;&gt; field</td></tr>
<tr><td class="h">1913</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1914</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;password_field&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1915</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub password_field {</td></tr>
<tr><td class="h">1916</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1917</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_textfield(&#39;password&#39;,@p);</td></tr>
<tr><td class="h">1918</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1919</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1920</td><td colspan="6"></td></tr><tr><td class="h">1921</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: textarea</td></tr>
<tr><td class="h">1922</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1923</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the text field</td></tr>
<tr><td class="h">1924</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $default -&gt; Optional default value of the field if not</td></tr>
<tr><td class="h">1925</td><td></td><td></td><td></td><td></td><td></td><td class="s">#                already defined.</td></tr>
<tr><td class="h">1926</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $rows -&gt;  Optional number of rows in text area</td></tr>
<tr><td class="h">1927</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $columns -&gt; Optional number of columns in text area</td></tr>
<tr><td class="h">1928</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1929</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;textarea&gt;&lt;/textarea&gt; tag</td></tr>
<tr><td class="h">1930</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">1931</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;textarea&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1932</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub textarea {</td></tr>
<tr><td class="h">1933</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1934</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$default,$rows,$cols,$override,$tabindex,@other) =</td></tr>
<tr><td class="h">1935</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,[DEFAULT,VALUE],ROWS,[COLS,COLUMNS],[OVERRIDE,FORCE],TABINDEX],@p);</td></tr>
<tr><td class="h">1936</td><td colspan="6"></td></tr><tr><td class="h">1937</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($current)= $override ? $default :</td></tr>
<tr><td class="h">1938</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(defined($self-&gt;param($name)) ? $self-&gt;param($name) : $default);</td></tr>
<tr><td class="h">1939</td><td colspan="6"></td></tr><tr><td class="h">1940</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name = defined($name) ? $self-&gt;escapeHTML($name) : &#39;&#39;;</td></tr>
<tr><td class="h">1941</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$current = defined($current) ? $self-&gt;escapeHTML($current) : &#39;&#39;;</td></tr>
<tr><td class="h">1942</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($r) = $rows ? qq/ rows=&quot;$rows&quot;/ : &#39;&#39;;</td></tr>
<tr><td class="h">1943</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($c) = $cols ? qq/ cols=&quot;$cols&quot;/ : &#39;&#39;;</td></tr>
<tr><td class="h">1944</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">1945</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">1946</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return qq{&lt;textarea name=&quot;$name&quot; $tabindex$r$c$other&gt;$current&lt;/textarea&gt;};</td></tr>
<tr><td class="h">1947</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1948</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1949</td><td colspan="6"></td></tr><tr><td class="h">1950</td><td colspan="6"></td></tr><tr><td class="h">1951</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: button</td></tr>
<tr><td class="h">1952</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a javascript button.</td></tr>
<tr><td class="h">1953</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1954</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt;  (optional) Name for the button. (-name)</td></tr>
<tr><td class="h">1955</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $value -&gt; (optional) Value of the button when selected (and visible name) (-value)</td></tr>
<tr><td class="h">1956</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $onclick -&gt; (optional) Text of the JavaScript to run when the button is</td></tr>
<tr><td class="h">1957</td><td></td><td></td><td></td><td></td><td></td><td class="s">#                clicked.</td></tr>
<tr><td class="h">1958</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1959</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;button&quot;&gt; tag</td></tr>
<tr><td class="h">1960</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1961</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;button&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1962</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub button {</td></tr>
<tr><td class="h">1963</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1964</td><td colspan="6"></td></tr><tr><td class="h">1965</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($label,$value,$script,$tabindex,@other) = rearrange([NAME,[VALUE,LABEL],</td></tr>
<tr><td class="h">1966</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ONCLICK,SCRIPT],TABINDEX],@p);</td></tr>
<tr><td class="h">1967</td><td colspan="6"></td></tr><tr><td class="h">1968</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label);</td></tr>
<tr><td class="h">1969</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value=$self-&gt;escapeHTML($value,1);</td></tr>
<tr><td class="h">1970</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$script=$self-&gt;escapeHTML($script);</td></tr>
<tr><td class="h">1971</td><td colspan="6"></td></tr><tr><td class="h">1972</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name) = &#39;&#39;;</td></tr>
<tr><td class="h">1973</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name = qq/ name=&quot;$label&quot;/ if $label;</td></tr>
<tr><td class="h">1974</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value = $value || $label;</td></tr>
<tr><td class="h">1975</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($val) = &#39;&#39;;</td></tr>
<tr><td class="h">1976</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$val = qq/ value=&quot;$value&quot;/ if $value;</td></tr>
<tr><td class="h">1977</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$script = qq/ onclick=&quot;$script&quot;/ if $script;</td></tr>
<tr><td class="h">1978</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">1979</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">1980</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? qq(&lt;input type=&quot;button&quot; $tabindex$name$val$script$other /&gt;)</td></tr>
<tr><td class="h">1981</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;input type=&quot;button&quot;$name$val$script$other&gt;);</td></tr>
<tr><td class="h">1982</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1983</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">1984</td><td colspan="6"></td></tr><tr><td class="h">1985</td><td colspan="6"></td></tr><tr><td class="h">1986</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: submit</td></tr>
<tr><td class="h">1987</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a &quot;submit query&quot; button.</td></tr>
<tr><td class="h">1988</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">1989</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt;  (optional) Name for the button.</td></tr>
<tr><td class="h">1990</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $value -&gt; (optional) Value of the button when selected (also doubles as label).</td></tr>
<tr><td class="h">1991</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $label -&gt; (optional) Label printed on the button(also doubles as the value).</td></tr>
<tr><td class="h">1992</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">1993</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;submit&quot;&gt; tag</td></tr>
<tr><td class="h">1994</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">1995</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;submit&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">1996</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub submit {</td></tr>
<tr><td class="h">1997</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">1998</td><td colspan="6"></td></tr><tr><td class="h">1999</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($label,$value,$tabindex,@other) = rearrange([NAME,[VALUE,LABEL],TABINDEX],@p);</td></tr>
<tr><td class="h">2000</td><td colspan="6"></td></tr><tr><td class="h">2001</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label);</td></tr>
<tr><td class="h">2002</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value=$self-&gt;escapeHTML($value,1);</td></tr>
<tr><td class="h">2003</td><td colspan="6"></td></tr><tr><td class="h">2004</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $name = $NOSTICKY ? &#39;&#39; : &#39;name=&quot;.submit&quot; &#39;;</td></tr>
<tr><td class="h">2005</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name = qq/name=&quot;$label&quot; / if defined($label);</td></tr>
<tr><td class="h">2006</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value = defined($value) ? $value : $label;</td></tr>
<tr><td class="h">2007</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $val = &#39;&#39;;</td></tr>
<tr><td class="h">2008</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$val = qq/value=&quot;$value&quot; / if defined($value);</td></tr>
<tr><td class="h">2009</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2010</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot;@other &quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2011</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? qq(&lt;input type=&quot;submit&quot; $tabindex$name$val$other/&gt;)</td></tr>
<tr><td class="h">2012</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;input type=&quot;submit&quot; $name$val$other&gt;);</td></tr>
<tr><td class="h">2013</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2014</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2015</td><td colspan="6"></td></tr><tr><td class="h">2016</td><td colspan="6"></td></tr><tr><td class="h">2017</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: reset</td></tr>
<tr><td class="h">2018</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a &quot;reset&quot; button.</td></tr>
<tr><td class="h">2019</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2020</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; (optional) Name for the button.</td></tr>
<tr><td class="h">2021</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2022</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;reset&quot;&gt; tag</td></tr>
<tr><td class="h">2023</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2024</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;reset&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2025</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub reset {</td></tr>
<tr><td class="h">2026</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2027</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($label,$value,$tabindex,@other) = rearrange([&#39;NAME&#39;,[&#39;VALUE&#39;,&#39;LABEL&#39;],TABINDEX],@p);</td></tr>
<tr><td class="h">2028</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label);</td></tr>
<tr><td class="h">2029</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value=$self-&gt;escapeHTML($value,1);</td></tr>
<tr><td class="h">2030</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($name) = &#39; name=&quot;.reset&quot;&#39;;</td></tr>
<tr><td class="h">2031</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name = qq/ name=&quot;$label&quot;/ if defined($label);</td></tr>
<tr><td class="h">2032</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value = defined($value) ? $value : $label;</td></tr>
<tr><td class="h">2033</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($val) = &#39;&#39;;</td></tr>
<tr><td class="h">2034</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$val = qq/ value=&quot;$value&quot;/ if defined($value);</td></tr>
<tr><td class="h">2035</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2036</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2037</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? qq(&lt;input type=&quot;reset&quot; $tabindex$name$val$other /&gt;)</td></tr>
<tr><td class="h">2038</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;input type=&quot;reset&quot;$name$val$other&gt;);</td></tr>
<tr><td class="h">2039</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2040</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2041</td><td colspan="6"></td></tr><tr><td class="h">2042</td><td colspan="6"></td></tr><tr><td class="h">2043</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: defaults</td></tr>
<tr><td class="h">2044</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a &quot;defaults&quot; button.</td></tr>
<tr><td class="h">2045</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2046</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; (optional) Name for the button.</td></tr>
<tr><td class="h">2047</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2048</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;submit&quot; name=&quot;.defaults&quot;&gt; tag</td></tr>
<tr><td class="h">2049</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">2050</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Note: this button has a special meaning to the initialization script,</td></tr>
<tr><td class="h">2051</td><td></td><td></td><td></td><td></td><td></td><td class="s"># and tells it to ERASE the current query string so that your defaults</td></tr>
<tr><td class="h">2052</td><td></td><td></td><td></td><td></td><td></td><td class="s"># are used again!</td></tr>
<tr><td class="h">2053</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2054</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;defaults&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2055</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub defaults {</td></tr>
<tr><td class="h">2056</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2057</td><td colspan="6"></td></tr><tr><td class="h">2058</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($label,$tabindex,@other) = rearrange([[NAME,VALUE],TABINDEX],@p);</td></tr>
<tr><td class="h">2059</td><td colspan="6"></td></tr><tr><td class="h">2060</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label,1);</td></tr>
<tr><td class="h">2061</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$label = $label || &quot;Defaults&quot;;</td></tr>
<tr><td class="h">2062</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($value) = qq/ value=&quot;$label&quot;/;</td></tr>
<tr><td class="h">2063</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2064</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2065</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? qq(&lt;input type=&quot;submit&quot; name=&quot;.defaults&quot; $tabindex$value$other /&gt;)</td></tr>
<tr><td class="h">2066</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq/&lt;input type=&quot;submit&quot; NAME=&quot;.defaults&quot;$value$other&gt;/;</td></tr>
<tr><td class="h">2067</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2068</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2069</td><td colspan="6"></td></tr><tr><td class="h">2070</td><td colspan="6"></td></tr><tr><td class="h">2071</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: comment</td></tr>
<tr><td class="h">2072</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create an HTML &lt;!-- comment --&gt;</td></tr>
<tr><td class="h">2073</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters: a string</td></tr>
<tr><td class="h">2074</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;comment&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2075</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub comment {</td></tr>
<tr><td class="h">2076</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_CGI(@_);</td></tr>
<tr><td class="h">2077</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &quot;&lt;!-- @p --&gt;&quot;;</td></tr>
<tr><td class="h">2078</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2079</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2080</td><td colspan="6"></td></tr><tr><td class="h">2081</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: checkbox</td></tr>
<tr><td class="h">2082</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a checkbox that is not logically linked to any others.</td></tr>
<tr><td class="h">2083</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The field value is &quot;on&quot; when the button is checked.</td></tr>
<tr><td class="h">2084</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2085</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the checkbox</td></tr>
<tr><td class="h">2086</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $checked -&gt; (optional) turned on by default if true</td></tr>
<tr><td class="h">2087</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $value -&gt; (optional) value of the checkbox, &#39;on&#39; by default</td></tr>
<tr><td class="h">2088</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $label -&gt; (optional) a user-readable label printed next to the box.</td></tr>
<tr><td class="h">2089</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             Otherwise the checkbox name is used.</td></tr>
<tr><td class="h">2090</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2091</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;checkbox&quot;&gt; field</td></tr>
<tr><td class="h">2092</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2093</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;checkbox&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2094</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub checkbox {</td></tr>
<tr><td class="h">2095</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2096</td><td colspan="6"></td></tr><tr><td class="h">2097</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$checked,$value,$label,$override,$tabindex,@other) = </td></tr>
<tr><td class="h">2098</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,[CHECKED,SELECTED,ON],VALUE,LABEL,[OVERRIDE,FORCE],TABINDEX],@p);</td></tr>
<tr><td class="h">2099</td><td colspan="6"></td></tr><tr><td class="h">2100</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value = defined $value ? $value : &#39;on&#39;;</td></tr>
<tr><td class="h">2101</td><td colspan="6"></td></tr><tr><td class="h">2102</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (!$override &amp;&amp; ($self-&gt;{&#39;.fieldnames&#39;}-&gt;{$name} || </td></tr>
<tr><td class="h">2103</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined $self-&gt;param($name))) {</td></tr>
<tr><td class="h">2104</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$checked = grep($_ eq $value,$self-&gt;param($name)) ? $self-&gt;_checked(1) : &#39;&#39;;</td></tr>
<tr><td class="h">2105</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2106</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$checked = $self-&gt;_checked($checked);</td></tr>
<tr><td class="h">2107</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2108</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($the_label) = defined $label ? $label : $name;</td></tr>
<tr><td class="h">2109</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name = $self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2110</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$value = $self-&gt;escapeHTML($value,1);</td></tr>
<tr><td class="h">2111</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$the_label = $self-&gt;escapeHTML($the_label);</td></tr>
<tr><td class="h">2112</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot;@other &quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2114</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;register_parameter($name);</td></tr>
<tr><td class="h">2115</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? CGI::label(qq{&lt;input type=&quot;checkbox&quot; name=&quot;$name&quot; value=&quot;$value&quot; $tabindex$checked$other/&gt;$the_label})</td></tr>
<tr><td class="h">2116</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq{&lt;input type=&quot;checkbox&quot; name=&quot;$name&quot; value=&quot;$value&quot;$checked$other&gt;$the_label};</td></tr>
<tr><td class="h">2117</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2118</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2119</td><td colspan="6"></td></tr><tr><td class="h">2120</td><td colspan="6"></td></tr><tr><td class="h">2121</td><td colspan="6"></td></tr><tr><td class="h">2122</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Escape HTML -- used internally</td></tr>
<tr><td class="h">2123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;escapeHTML&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2124</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub escapeHTML {</td></tr>
<tr><td class="h">2125</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# hack to work around  earlier hacks</td></tr>
<tr><td class="h">2126</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @_,$_[0] if @_==1 &amp;&amp; $_[0] eq &#39;CGI&#39;;</td></tr>
<tr><td class="h">2127</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$toencode,$newlinestoo) = CGI::self_or_default(@_);</td></tr>
<tr><td class="h">2128</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless defined($toencode);</td></tr>
<tr><td class="h">2129</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $toencode if ref($self) &amp;&amp; !$self-&gt;{&#39;escape&#39;};</td></tr>
<tr><td class="h">2130</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{&amp;}{&amp;amp;}gso;</td></tr>
<tr><td class="h">2131</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{&lt;}{&amp;lt;}gso;</td></tr>
<tr><td class="h">2132</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{&gt;}{&amp;gt;}gso;</td></tr>
<tr><td class="h">2133</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DTD_PUBLIC_IDENTIFIER =~ /[^X]HTML 3\.2/i) {</td></tr>
<tr><td class="h">2134</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $quot; was accidentally omitted from the HTML 3.2 DTD -- see</td></tr>
<tr><td class="h">2135</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &lt;http://validator.w3.org/docs/errors.html#bad-entity&gt; /</td></tr>
<tr><td class="h">2136</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &lt;http://lists.w3.org/Archives/Public/www-html/1997Mar/0003.html&gt;.</td></tr>
<tr><td class="h">2137</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{&quot;}{&amp;#34;}gso;</td></tr>
<tr><td class="h">2138</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2139</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">2140</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{&quot;}{&amp;quot;}gso;</td></tr>
<tr><td class="h">2141</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2142</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $latin = uc $self-&gt;{&#39;.charset&#39;} eq &#39;ISO-8859-1&#39; ||</td></tr>
<tr><td class="h">2143</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uc $self-&gt;{&#39;.charset&#39;} eq &#39;WINDOWS-1252&#39;;</td></tr>
<tr><td class="h">2144</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($latin) {  # bug in some browsers</td></tr>
<tr><td class="h">2145</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{&#39;}{&amp;#39;}gso;</td></tr>
<tr><td class="h">2146</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{\x8b}{&amp;#8249;}gso;</td></tr>
<tr><td class="h">2147</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{\x9b}{&amp;#8250;}gso;</td></tr>
<tr><td class="h">2148</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $newlinestoo &amp;&amp; $newlinestoo) {</td></tr>
<tr><td class="h">2149</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{\012}{&amp;#10;}gso;</td></tr>
<tr><td class="h">2150</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toencode =~ s{\015}{&amp;#13;}gso;</td></tr>
<tr><td class="h">2151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2152</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $toencode;</td></tr>
<tr><td class="h">2154</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2155</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2156</td><td colspan="6"></td></tr><tr><td class="h">2157</td><td></td><td></td><td></td><td></td><td></td><td class="s"># unescape HTML -- used internally</td></tr>
<tr><td class="h">2158</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;unescapeHTML&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2159</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub unescapeHTML {</td></tr>
<tr><td class="h">2160</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# hack to work around  earlier hacks</td></tr>
<tr><td class="h">2161</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @_,$_[0] if @_==1 &amp;&amp; $_[0] eq &#39;CGI&#39;;</td></tr>
<tr><td class="h">2162</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$string) = CGI::self_or_default(@_);</td></tr>
<tr><td class="h">2163</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return undef unless defined($string);</td></tr>
<tr><td class="h">2164</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $latin = defined $self-&gt;{&#39;.charset&#39;} ? $self-&gt;{&#39;.charset&#39;} =~ /^(ISO-8859-1|WINDOWS-1252)$/i</td></tr>
<tr><td class="h">2165</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 1;</td></tr>
<tr><td class="h">2166</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# thanks to Randal Schwartz for the correct solution to this one</td></tr>
<tr><td class="h">2167</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$string=~ s[&amp;(.*?);]{</td></tr>
<tr><td class="h">2168</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $_ = $1;</td></tr>
<tr><td class="h">2169</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^amp$/i	? &quot;&amp;&quot; :</td></tr>
<tr><td class="h">2170</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^quot$/i	? &#39;&quot;&#39; :</td></tr>
<tr><td class="h">2171</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^gt$/i		? &quot;&gt;&quot; :</td></tr>
<tr><td class="h">2172</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^lt$/i		? &quot;&lt;&quot; :</td></tr>
<tr><td class="h">2173</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^#(\d+)$/ &amp;&amp; $latin	     ? chr($1) :</td></tr>
<tr><td class="h">2174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^#x([0-9a-f]+)$/i &amp;&amp; $latin ? chr(hex($1)) :</td></tr>
<tr><td class="h">2175</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_</td></tr>
<tr><td class="h">2176</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}gex;</td></tr>
<tr><td class="h">2177</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $string;</td></tr>
<tr><td class="h">2178</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2179</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2180</td><td colspan="6"></td></tr><tr><td class="h">2181</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Internal procedure - don&#39;t use</td></tr>
<tr><td class="h">2182</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_tableize&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2183</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _tableize {</td></tr>
<tr><td class="h">2184</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($rows,$columns,$rowheaders,$colheaders,@elements) = @_;</td></tr>
<tr><td class="h">2185</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @rowheaders = $rowheaders ? @$rowheaders : ();</td></tr>
<tr><td class="h">2186</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @colheaders = $colheaders ? @$colheaders : ();</td></tr>
<tr><td class="h">2187</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($result);</td></tr>
<tr><td class="h">2188</td><td colspan="6"></td></tr><tr><td class="h">2189</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined($columns)) {</td></tr>
<tr><td class="h">2190</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rows = int(0.99 + @elements/$columns) unless defined($rows);</td></tr>
<tr><td class="h">2191</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2192</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined($rows)) {</td></tr>
<tr><td class="h">2193</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$columns = int(0.99 + @elements/$rows) unless defined($columns);</td></tr>
<tr><td class="h">2194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2195</td><td colspan="6"></td></tr><tr><td class="h">2196</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# rearrange into a pretty table</td></tr>
<tr><td class="h">2197</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result = &quot;&lt;table&gt;&quot;;</td></tr>
<tr><td class="h">2198</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($row,$column);</td></tr>
<tr><td class="h">2199</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unshift(@colheaders,&#39;&#39;) if @colheaders &amp;&amp; @rowheaders;</td></tr>
<tr><td class="h">2200</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;tr&gt;&quot; if @colheaders;</td></tr>
<tr><td class="h">2201</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@colheaders) {</td></tr>
<tr><td class="h">2202</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;th&gt;$_&lt;/th&gt;&quot;;</td></tr>
<tr><td class="h">2203</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2204</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for ($row=0;$row&lt;$rows;$row++) {</td></tr>
<tr><td class="h">2205</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;tr&gt;&quot;;</td></tr>
<tr><td class="h">2206</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;th&gt;$rowheaders[$row]&lt;/th&gt;&quot; if @rowheaders;</td></tr>
<tr><td class="h">2207</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for ($column=0;$column&lt;$columns;$column++) {</td></tr>
<tr><td class="h">2208</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;td&gt;&quot; . $elements[$column*$rows + $row] . &quot;&lt;/td&gt;&quot;</td></tr>
<tr><td class="h">2209</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if defined($elements[$column*$rows + $row]);</td></tr>
<tr><td class="h">2210</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2211</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;/tr&gt;&quot;;</td></tr>
<tr><td class="h">2212</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2213</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;/table&gt;&quot;;</td></tr>
<tr><td class="h">2214</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $result;</td></tr>
<tr><td class="h">2215</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2216</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2217</td><td colspan="6"></td></tr><tr><td class="h">2218</td><td colspan="6"></td></tr><tr><td class="h">2219</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: radio_group</td></tr>
<tr><td class="h">2220</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a list of logically-linked radio buttons.</td></tr>
<tr><td class="h">2221</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2222</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Common name for all the buttons.</td></tr>
<tr><td class="h">2223</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $values -&gt; A pointer to a regular array containing the</td></tr>
<tr><td class="h">2224</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             values for each button in the group.</td></tr>
<tr><td class="h">2225</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $default -&gt; (optional) Value of the button to turn on by default.  Pass &#39;-&#39;</td></tr>
<tr><td class="h">2226</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               to turn _nothing_ on.</td></tr>
<tr><td class="h">2227</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $linebreak -&gt; (optional) Set to true to place linebreaks</td></tr>
<tr><td class="h">2228</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             between the buttons.</td></tr>
<tr><td class="h">2229</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $labels -&gt; (optional)</td></tr>
<tr><td class="h">2230</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             A pointer to an associative array of labels to print next to each checkbox</td></tr>
<tr><td class="h">2231</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             in the form $label{&#39;value&#39;}=&quot;Long explanatory label&quot;.</td></tr>
<tr><td class="h">2232</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             Otherwise the provided values are used as the labels.</td></tr>
<tr><td class="h">2233</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2234</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   An ARRAY containing a series of &lt;input type=&quot;radio&quot;&gt; fields</td></tr>
<tr><td class="h">2235</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2236</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;radio_group&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2237</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub radio_group {</td></tr>
<tr><td class="h">2238</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2239</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;$self-&gt;_box_group(&#39;radio&#39;,@p);</td></tr>
<tr><td class="h">2240</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2241</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2242</td><td colspan="6"></td></tr><tr><td class="h">2243</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: checkbox_group</td></tr>
<tr><td class="h">2244</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a list of logically-linked checkboxes.</td></tr>
<tr><td class="h">2245</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2246</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Common name for all the check boxes</td></tr>
<tr><td class="h">2247</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $values -&gt; A pointer to a regular array containing the</td></tr>
<tr><td class="h">2248</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             values for each checkbox in the group.</td></tr>
<tr><td class="h">2249</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $defaults -&gt; (optional)</td></tr>
<tr><td class="h">2250</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             1. If a pointer to a regular array of checkbox values,</td></tr>
<tr><td class="h">2251</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             then this will be used to decide which</td></tr>
<tr><td class="h">2252</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             checkboxes to turn on by default.</td></tr>
<tr><td class="h">2253</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             2. If a scalar, will be assumed to hold the</td></tr>
<tr><td class="h">2254</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             value of a single checkbox in the group to turn on. </td></tr>
<tr><td class="h">2255</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $linebreak -&gt; (optional) Set to true to place linebreaks</td></tr>
<tr><td class="h">2256</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             between the buttons.</td></tr>
<tr><td class="h">2257</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $labels -&gt; (optional)</td></tr>
<tr><td class="h">2258</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             A pointer to an associative array of labels to print next to each checkbox</td></tr>
<tr><td class="h">2259</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             in the form $label{&#39;value&#39;}=&quot;Long explanatory label&quot;.</td></tr>
<tr><td class="h">2260</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             Otherwise the provided values are used as the labels.</td></tr>
<tr><td class="h">2261</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2262</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   An ARRAY containing a series of &lt;input type=&quot;checkbox&quot;&gt; fields</td></tr>
<tr><td class="h">2263</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2264</td><td colspan="6"></td></tr><tr><td class="h">2265</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;checkbox_group&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2266</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub checkbox_group {</td></tr>
<tr><td class="h">2267</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2268</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;$self-&gt;_box_group(&#39;checkbox&#39;,@p);</td></tr>
<tr><td class="h">2269</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2270</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2271</td><td colspan="6"></td></tr><tr><td class="h">2272</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_box_group&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2273</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _box_group {</td></tr>
<tr><td class="h">2274</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self     = shift;</td></tr>
<tr><td class="h">2275</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $box_type = shift;</td></tr>
<tr><td class="h">2276</td><td colspan="6"></td></tr><tr><td class="h">2277</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$values,$defaults,$linebreak,$labels,$attributes,</td></tr>
<tr><td class="h">2278</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rows,$columns,$rowheaders,$colheaders,</td></tr>
<tr><td class="h">2279</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$override,$nolabels,$tabindex,@other) =</td></tr>
<tr><td class="h">2280</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([      NAME,[VALUES,VALUE],[DEFAULT,DEFAULTS],LINEBREAK,LABELS,ATTRIBUTES,</td></tr>
<tr><td class="h">2281</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ROWS,[COLUMNS,COLS],ROWHEADERS,COLHEADERS,</td></tr>
<tr><td class="h">2282</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[OVERRIDE,FORCE],NOLABELS,TABINDEX</td></tr>
<tr><td class="h">2283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],@_);</td></tr>
<tr><td class="h">2284</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($result,$checked);</td></tr>
<tr><td class="h">2285</td><td colspan="6"></td></tr><tr><td class="h">2286</td><td colspan="6"></td></tr><tr><td class="h">2287</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@elements,@values);</td></tr>
<tr><td class="h">2288</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@values = $self-&gt;_set_values_and_labels($values,\$labels,$name);</td></tr>
<tr><td class="h">2289</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %checked = $self-&gt;previous_or_default($name,$defaults,$override);</td></tr>
<tr><td class="h">2290</td><td colspan="6"></td></tr><tr><td class="h">2291</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If no check array is specified, check the first by default</td></tr>
<tr><td class="h">2292</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$checked{$values[0]}++ if $box_type eq &#39;radio&#39; &amp;&amp; !%checked;</td></tr>
<tr><td class="h">2293</td><td colspan="6"></td></tr><tr><td class="h">2294</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name=$self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2295</td><td colspan="6"></td></tr><tr><td class="h">2296</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %tabs = ();</td></tr>
<tr><td class="h">2297</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($TABINDEX &amp;&amp; $tabindex) {</td></tr>
<tr><td class="h">2298</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!ref $tabindex) {</td></tr>
<tr><td class="h">2299</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2300</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (ref $tabindex eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">2301</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%tabs = map {$_=&gt;$self-&gt;element_tab} @$tabindex;</td></tr>
<tr><td class="h">2302</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (ref $tabindex eq &#39;HASH&#39;) {</td></tr>
<tr><td class="h">2303</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%tabs = %$tabindex;</td></tr>
<tr><td class="h">2304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2305</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2306</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;%tabs = map {$_=&gt;$self-&gt;element_tab} @values unless %tabs;</td></tr>
<tr><td class="h">2307</td><td colspan="6"></td></tr><tr><td class="h">2308</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $other = @other ? &quot;@other &quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2309</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $radio_checked;</td></tr>
<tr><td class="h">2310</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@values) {</td></tr>
<tr><td class="h">2311</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $checkit = $self-&gt;_checked($box_type eq &#39;radio&#39; ? ($checked{$_} &amp;&amp; !$radio_checked++)</td></tr>
<tr><td class="h">2312</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $checked{$_});</td></tr>
<tr><td class="h">2313</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($break);</td></tr>
<tr><td class="h">2314</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($linebreak) {</td></tr>
<tr><td class="h">2315</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$break = $XHTML ? &quot;&lt;br /&gt;&quot; : &quot;&lt;br&gt;&quot;;</td></tr>
<tr><td class="h">2316</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2317</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">2318</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$break = &#39;&#39;;</td></tr>
<tr><td class="h">2319</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2320</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($label)=&#39;&#39;;</td></tr>
<tr><td class="h">2321</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (defined($nolabels) &amp;&amp; $nolabels) {</td></tr>
<tr><td class="h">2322</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label = $_;</td></tr>
<tr><td class="h">2323</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label = $labels-&gt;{$_} if defined($labels) &amp;&amp; defined($labels-&gt;{$_});</td></tr>
<tr><td class="h">2324</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label = $self-&gt;escapeHTML($label,1);</td></tr>
<tr><td class="h">2325</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2326</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attribs = $self-&gt;_set_attributes($_, $attributes);</td></tr>
<tr><td class="h">2327</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $tab     = $tabs{$_};</td></tr>
<tr><td class="h">2328</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_=$self-&gt;escapeHTML($_);</td></tr>
<tr><td class="h">2329</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($XHTML) {</td></tr>
<tr><td class="h">2330</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @elements,</td></tr>
<tr><td class="h">2331</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGI::label(</td></tr>
<tr><td class="h">2332</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq(&lt;input type=&quot;$box_type&quot; name=&quot;$name&quot; value=&quot;$_&quot; $checkit$other$tab$attribs/&gt;$label)).${break};</td></tr>
<tr><td class="h">2333</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@elements,qq/&lt;input type=&quot;$box_type&quot; name=&quot;$name&quot; value=&quot;$_&quot;$checkit$other$tab$attribs&gt;${label}${break}/);</td></tr>
<tr><td class="h">2335</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2336</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2337</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;register_parameter($name);</td></tr>
<tr><td class="h">2338</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @elements : &quot;@elements&quot;</td></tr>
<tr><td class="h">2339</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless defined($columns) || defined($rows);</td></tr>
<tr><td class="h">2340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return _tableize($rows,$columns,$rowheaders,$colheaders,@elements);</td></tr>
<tr><td class="h">2341</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2342</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2343</td><td colspan="6"></td></tr><tr><td class="h">2344</td><td colspan="6"></td></tr><tr><td class="h">2345</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: popup_menu</td></tr>
<tr><td class="h">2346</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a popup menu.</td></tr>
<tr><td class="h">2347</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2348</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name for all the menu</td></tr>
<tr><td class="h">2349</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $values -&gt; A pointer to a regular array containing the</td></tr>
<tr><td class="h">2350</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             text of each menu item.</td></tr>
<tr><td class="h">2351</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $default -&gt; (optional) Default item to display</td></tr>
<tr><td class="h">2352</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $labels -&gt; (optional)</td></tr>
<tr><td class="h">2353</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             A pointer to an associative array of labels to print next to each checkbox</td></tr>
<tr><td class="h">2354</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             in the form $label{&#39;value&#39;}=&quot;Long explanatory label&quot;.</td></tr>
<tr><td class="h">2355</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             Otherwise the provided values are used as the labels.</td></tr>
<tr><td class="h">2356</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2357</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing the definition of a popup menu.</td></tr>
<tr><td class="h">2358</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2359</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;popup_menu&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2360</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub popup_menu {</td></tr>
<tr><td class="h">2361</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2362</td><td colspan="6"></td></tr><tr><td class="h">2363</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$values,$default,$labels,$attributes,$override,$tabindex,@other) =</td></tr>
<tr><td class="h">2364</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,[VALUES,VALUE],[DEFAULT,DEFAULTS],LABELS,</td></tr>
<tr><td class="h">2365</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATTRIBUTES,[OVERRIDE,FORCE],TABINDEX],@p);</td></tr>
<tr><td class="h">2366</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($result,$selected);</td></tr>
<tr><td class="h">2367</td><td colspan="6"></td></tr><tr><td class="h">2368</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (!$override &amp;&amp; defined($self-&gt;param($name))) {</td></tr>
<tr><td class="h">2369</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$selected = $self-&gt;param($name);</td></tr>
<tr><td class="h">2370</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2371</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$selected = $default;</td></tr>
<tr><td class="h">2372</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2373</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name=$self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2374</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2375</td><td colspan="6"></td></tr><tr><td class="h">2376</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@values);</td></tr>
<tr><td class="h">2377</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@values = $self-&gt;_set_values_and_labels($values,\$labels,$name);</td></tr>
<tr><td class="h">2378</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2379</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result = qq/&lt;select name=&quot;$name&quot; $tabindex$other&gt;\n/;</td></tr>
<tr><td class="h">2380</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@values) {</td></tr>
<tr><td class="h">2381</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/&lt;optgroup/) {</td></tr>
<tr><td class="h">2382</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (split(/\n/)) {</td></tr>
<tr><td class="h">2383</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $selectit = $XHTML ? &#39;selected=&quot;selected&quot;&#39; : &#39;selected&#39;;</td></tr>
<tr><td class="h">2384</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/(value=&quot;$selected&quot;)/$selectit $1/ if defined $selected;</td></tr>
<tr><td class="h">2385</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;$_\n&quot;;</td></tr>
<tr><td class="h">2386</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2387</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2388</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">2389</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attribs = $self-&gt;_set_attributes($_, $attributes);</td></tr>
<tr><td class="h">2390</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($selectit) = defined($selected) ? $self-&gt;_selected($selected eq $_) : &#39;&#39;;</td></tr>
<tr><td class="h">2391</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($label) = $_;</td></tr>
<tr><td class="h">2392</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label = $labels-&gt;{$_} if defined($labels) &amp;&amp; defined($labels-&gt;{$_});</td></tr>
<tr><td class="h">2393</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($value) = $self-&gt;escapeHTML($_);</td></tr>
<tr><td class="h">2394</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label,1);</td></tr>
<tr><td class="h">2395</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;option $selectit${attribs}value=\&quot;$value\&quot;&gt;$label&lt;/option&gt;\n&quot;;</td></tr>
<tr><td class="h">2396</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2397</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2398</td><td colspan="6"></td></tr><tr><td class="h">2399</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;/select&gt;&quot;;</td></tr>
<tr><td class="h">2400</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $result;</td></tr>
<tr><td class="h">2401</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2402</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2403</td><td colspan="6"></td></tr><tr><td class="h">2404</td><td colspan="6"></td></tr><tr><td class="h">2405</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: optgroup</td></tr>
<tr><td class="h">2406</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a optgroup.</td></tr>
<tr><td class="h">2407</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2408</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Label for the group</td></tr>
<tr><td class="h">2409</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $values -&gt; A pointer to a regular array containing the</td></tr>
<tr><td class="h">2410</td><td></td><td></td><td></td><td></td><td></td><td class="s">#              values for each option line in the group.</td></tr>
<tr><td class="h">2411</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $labels -&gt; (optional)</td></tr>
<tr><td class="h">2412</td><td></td><td></td><td></td><td></td><td></td><td class="s">#              A pointer to an associative array of labels to print next to each item</td></tr>
<tr><td class="h">2413</td><td></td><td></td><td></td><td></td><td></td><td class="s">#              in the form $label{&#39;value&#39;}=&quot;Long explanatory label&quot;.</td></tr>
<tr><td class="h">2414</td><td></td><td></td><td></td><td></td><td></td><td class="s">#              Otherwise the provided values are used as the labels.</td></tr>
<tr><td class="h">2415</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $labeled -&gt; (optional)</td></tr>
<tr><td class="h">2416</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               A true value indicates the value should be used as the label attribute</td></tr>
<tr><td class="h">2417</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               in the option elements.</td></tr>
<tr><td class="h">2418</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               The label attribute specifies the option label presented to the user.</td></tr>
<tr><td class="h">2419</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               This defaults to the content of the &lt;option&gt; element, but the label</td></tr>
<tr><td class="h">2420</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               attribute allows authors to more easily use optgroup without sacrificing</td></tr>
<tr><td class="h">2421</td><td></td><td></td><td></td><td></td><td></td><td class="s">#               compatibility with browsers that do not support option groups.</td></tr>
<tr><td class="h">2422</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $novals -&gt; (optional)</td></tr>
<tr><td class="h">2423</td><td></td><td></td><td></td><td></td><td></td><td class="s">#              A true value indicates to suppress the val attribute in the option elements</td></tr>
<tr><td class="h">2424</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2425</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing the definition of an option group.</td></tr>
<tr><td class="h">2426</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2427</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;optgroup&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2428</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub optgroup {</td></tr>
<tr><td class="h">2429</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2430</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$values,$attributes,$labeled,$noval,$labels,@other)</td></tr>
<tr><td class="h">2431</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= rearrange([NAME,[VALUES,VALUE],ATTRIBUTES,LABELED,NOVALS,LABELS],@p);</td></tr>
<tr><td class="h">2432</td><td colspan="6"></td></tr><tr><td class="h">2433</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($result,@values);</td></tr>
<tr><td class="h">2434</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@values = $self-&gt;_set_values_and_labels($values,\$labels,$name,$labeled,$novals);</td></tr>
<tr><td class="h">2435</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2436</td><td colspan="6"></td></tr><tr><td class="h">2437</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name=$self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2438</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result = qq/&lt;optgroup label=&quot;$name&quot;$other&gt;\n/;</td></tr>
<tr><td class="h">2439</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@values) {</td></tr>
<tr><td class="h">2440</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/&lt;optgroup/) {</td></tr>
<tr><td class="h">2441</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (split(/\n/)) {</td></tr>
<tr><td class="h">2442</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $selectit = $XHTML ? &#39;selected=&quot;selected&quot;&#39; : &#39;selected&#39;;</td></tr>
<tr><td class="h">2443</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/(value=&quot;$selected&quot;)/$selectit $1/ if defined $selected;</td></tr>
<tr><td class="h">2444</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;$_\n&quot;;</td></tr>
<tr><td class="h">2445</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2446</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2447</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">2448</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attribs = $self-&gt;_set_attributes($_, $attributes);</td></tr>
<tr><td class="h">2449</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($label) = $_;</td></tr>
<tr><td class="h">2450</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label = $labels-&gt;{$_} if defined($labels) &amp;&amp; defined($labels-&gt;{$_});</td></tr>
<tr><td class="h">2451</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label);</td></tr>
<tr><td class="h">2452</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($value)=$self-&gt;escapeHTML($_,1);</td></tr>
<tr><td class="h">2453</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= $labeled ? $novals ? &quot;&lt;option$attribs label=\&quot;$value\&quot;&gt;$label&lt;/option&gt;\n&quot;</td></tr>
<tr><td class="h">2454</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: &quot;&lt;option$attribs label=\&quot;$value\&quot; value=\&quot;$value\&quot;&gt;$label&lt;/option&gt;\n&quot;</td></tr>
<tr><td class="h">2455</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $novals ? &quot;&lt;option$attribs&gt;$label&lt;/option&gt;\n&quot;</td></tr>
<tr><td class="h">2456</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: &quot;&lt;option$attribs value=\&quot;$value\&quot;&gt;$label&lt;/option&gt;\n&quot;;</td></tr>
<tr><td class="h">2457</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2458</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2459</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;/optgroup&gt;&quot;;</td></tr>
<tr><td class="h">2460</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $result;</td></tr>
<tr><td class="h">2461</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2462</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2463</td><td colspan="6"></td></tr><tr><td class="h">2464</td><td colspan="6"></td></tr><tr><td class="h">2465</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: scrolling_list</td></tr>
<tr><td class="h">2466</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Create a scrolling list.</td></tr>
<tr><td class="h">2467</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2468</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; name for the list</td></tr>
<tr><td class="h">2469</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $values -&gt; A pointer to a regular array containing the</td></tr>
<tr><td class="h">2470</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             values for each option line in the list.</td></tr>
<tr><td class="h">2471</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $defaults -&gt; (optional)</td></tr>
<tr><td class="h">2472</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             1. If a pointer to a regular array of options,</td></tr>
<tr><td class="h">2473</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             then this will be used to decide which</td></tr>
<tr><td class="h">2474</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             lines to turn on by default.</td></tr>
<tr><td class="h">2475</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             2. Otherwise holds the value of the single line to turn on.</td></tr>
<tr><td class="h">2476</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $size -&gt; (optional) Size of the list.</td></tr>
<tr><td class="h">2477</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $multiple -&gt; (optional) If set, allow multiple selections.</td></tr>
<tr><td class="h">2478</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $labels -&gt; (optional)</td></tr>
<tr><td class="h">2479</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             A pointer to an associative array of labels to print next to each checkbox</td></tr>
<tr><td class="h">2480</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             in the form $label{&#39;value&#39;}=&quot;Long explanatory label&quot;.</td></tr>
<tr><td class="h">2481</td><td></td><td></td><td></td><td></td><td></td><td class="s">#             Otherwise the provided values are used as the labels.</td></tr>
<tr><td class="h">2482</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2483</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing the definition of a scrolling list.</td></tr>
<tr><td class="h">2484</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2485</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;scrolling_list&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2486</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub scrolling_list {</td></tr>
<tr><td class="h">2487</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$values,$defaults,$size,$multiple,$labels,$attributes,$override,$tabindex,@other)</td></tr>
<tr><td class="h">2489</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= rearrange([NAME,[VALUES,VALUE],[DEFAULTS,DEFAULT],</td></tr>
<tr><td class="h">2490</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SIZE,MULTIPLE,LABELS,ATTRIBUTES,[OVERRIDE,FORCE],TABINDEX],@p);</td></tr>
<tr><td class="h">2491</td><td colspan="6"></td></tr><tr><td class="h">2492</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($result,@values);</td></tr>
<tr><td class="h">2493</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@values = $self-&gt;_set_values_and_labels($values,\$labels,$name);</td></tr>
<tr><td class="h">2494</td><td colspan="6"></td></tr><tr><td class="h">2495</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$size = $size || scalar(@values);</td></tr>
<tr><td class="h">2496</td><td colspan="6"></td></tr><tr><td class="h">2497</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(%selected) = $self-&gt;previous_or_default($name,$defaults,$override);</td></tr>
<tr><td class="h">2498</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($is_multiple) = $multiple ? qq/ multiple=&quot;multiple&quot;/ : &#39;&#39;;</td></tr>
<tr><td class="h">2499</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($has_size) = $size ? qq/ size=&quot;$size&quot;/: &#39;&#39;;</td></tr>
<tr><td class="h">2500</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2501</td><td colspan="6"></td></tr><tr><td class="h">2502</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name=$self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2503</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tabindex = $self-&gt;element_tab($tabindex);</td></tr>
<tr><td class="h">2504</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result = qq/&lt;select name=&quot;$name&quot; $tabindex$has_size$is_multiple$other&gt;\n/;</td></tr>
<tr><td class="h">2505</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@values) {</td></tr>
<tr><td class="h">2506</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($selectit) = $self-&gt;_selected($selected{$_});</td></tr>
<tr><td class="h">2507</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($label) = $_;</td></tr>
<tr><td class="h">2508</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label = $labels-&gt;{$_} if defined($labels) &amp;&amp; defined($labels-&gt;{$_});</td></tr>
<tr><td class="h">2509</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$label=$self-&gt;escapeHTML($label);</td></tr>
<tr><td class="h">2510</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($value)=$self-&gt;escapeHTML($_,1);</td></tr>
<tr><td class="h">2511</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attribs = $self-&gt;_set_attributes($_, $attributes);</td></tr>
<tr><td class="h">2512</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;option ${selectit}${attribs}value=\&quot;$value\&quot;&gt;$label&lt;/option&gt;\n&quot;;</td></tr>
<tr><td class="h">2513</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2514</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$result .= &quot;&lt;/select&gt;&quot;;</td></tr>
<tr><td class="h">2515</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;register_parameter($name);</td></tr>
<tr><td class="h">2516</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $result;</td></tr>
<tr><td class="h">2517</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2518</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2519</td><td colspan="6"></td></tr><tr><td class="h">2520</td><td colspan="6"></td></tr><tr><td class="h">2521</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: hidden</td></tr>
<tr><td class="h">2522</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2523</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the hidden field</td></tr>
<tr><td class="h">2524</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   @default -&gt; (optional) Initial values of field (may be an array)</td></tr>
<tr><td class="h">2525</td><td></td><td></td><td></td><td></td><td></td><td class="s">#      or</td></tr>
<tr><td class="h">2526</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $default-&gt;[initial values of field]</td></tr>
<tr><td class="h">2527</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2528</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;hidden&quot; name=&quot;name&quot; value=&quot;value&quot;&gt;</td></tr>
<tr><td class="h">2529</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2530</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;hidden&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2531</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub hidden {</td></tr>
<tr><td class="h">2532</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2533</td><td colspan="6"></td></tr><tr><td class="h">2534</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# this is the one place where we departed from our standard</td></tr>
<tr><td class="h">2535</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# calling scheme, so we have to special-case (darn)</td></tr>
<tr><td class="h">2536</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@result,@value);</td></tr>
<tr><td class="h">2537</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$default,$override,@other) = </td></tr>
<tr><td class="h">2538</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,[DEFAULT,VALUE,VALUES],[OVERRIDE,FORCE]],@p);</td></tr>
<tr><td class="h">2539</td><td colspan="6"></td></tr><tr><td class="h">2540</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $do_override = 0;</td></tr>
<tr><td class="h">2541</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( ref($p[0]) || substr($p[0],0,1) eq &#39;-&#39;) {</td></tr>
<tr><td class="h">2542</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@value = ref($default) ? @{$default} : $default;</td></tr>
<tr><td class="h">2543</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$do_override = $override;</td></tr>
<tr><td class="h">2544</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2545</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach ($default,$override,@other) {</td></tr>
<tr><td class="h">2546</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@value,$_) if defined($_);</td></tr>
<tr><td class="h">2547</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2548</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2549</td><td colspan="6"></td></tr><tr><td class="h">2550</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# use previous values if override is not set</td></tr>
<tr><td class="h">2551</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @prev = $self-&gt;param($name);</td></tr>
<tr><td class="h">2552</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@value = @prev if !$do_override &amp;&amp; @prev;</td></tr>
<tr><td class="h">2553</td><td colspan="6"></td></tr><tr><td class="h">2554</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name=$self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2555</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@value) {</td></tr>
<tr><td class="h">2556</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_ = defined($_) ? $self-&gt;escapeHTML($_,1) : &#39;&#39;;</td></tr>
<tr><td class="h">2557</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @result,$XHTML ? qq(&lt;input type=&quot;hidden&quot; name=&quot;$name&quot; value=&quot;$_&quot; @other /&gt;)</td></tr>
<tr><td class="h">2558</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq(&lt;input type=&quot;hidden&quot; name=&quot;$name&quot; value=&quot;$_&quot; @other&gt;);</td></tr>
<tr><td class="h">2559</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2560</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @result : join(&#39;&#39;,@result);</td></tr>
<tr><td class="h">2561</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2562</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2563</td><td colspan="6"></td></tr><tr><td class="h">2564</td><td colspan="6"></td></tr><tr><td class="h">2565</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: image_button</td></tr>
<tr><td class="h">2566</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Parameters:</td></tr>
<tr><td class="h">2567</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $name -&gt; Name of the button</td></tr>
<tr><td class="h">2568</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $src -&gt;  URL of the image source</td></tr>
<tr><td class="h">2569</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   $align -&gt; Alignment style (TOP, BOTTOM or MIDDLE)</td></tr>
<tr><td class="h">2570</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns:</td></tr>
<tr><td class="h">2571</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   A string containing a &lt;input type=&quot;image&quot; name=&quot;name&quot; src=&quot;url&quot; align=&quot;alignment&quot;&gt;</td></tr>
<tr><td class="h">2572</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2573</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;image_button&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2574</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub image_button {</td></tr>
<tr><td class="h">2575</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2576</td><td colspan="6"></td></tr><tr><td class="h">2577</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$src,$alignment,@other) =</td></tr>
<tr><td class="h">2578</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,SRC,ALIGN],@p);</td></tr>
<tr><td class="h">2579</td><td colspan="6"></td></tr><tr><td class="h">2580</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($align) = $alignment ? &quot; align=\U\&quot;$alignment\&quot;&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2581</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($other) = @other ? &quot; @other&quot; : &#39;&#39;;</td></tr>
<tr><td class="h">2582</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$name=$self-&gt;escapeHTML($name);</td></tr>
<tr><td class="h">2583</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $XHTML ? qq(&lt;input type=&quot;image&quot; name=&quot;$name&quot; src=&quot;$src&quot;$align$other /&gt;)</td></tr>
<tr><td class="h">2584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: qq/&lt;input type=&quot;image&quot; name=&quot;$name&quot; src=&quot;$src&quot;$align$other&gt;/;</td></tr>
<tr><td class="h">2585</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2586</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2587</td><td colspan="6"></td></tr><tr><td class="h">2588</td><td colspan="6"></td></tr><tr><td class="h">2589</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: self_url</td></tr>
<tr><td class="h">2590</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns a URL containing the current script and all its</td></tr>
<tr><td class="h">2591</td><td></td><td></td><td></td><td></td><td></td><td class="s"># param/value pairs arranged as a query.  You can use this</td></tr>
<tr><td class="h">2592</td><td></td><td></td><td></td><td></td><td></td><td class="s"># to create a link that, when selected, will reinvoke the</td></tr>
<tr><td class="h">2593</td><td></td><td></td><td></td><td></td><td></td><td class="s"># script with all its state information preserved.</td></tr>
<tr><td class="h">2594</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2595</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;self_url&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2596</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub self_url {</td></tr>
<tr><td class="h">2597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2598</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;url(&#39;-path_info&#39;=&gt;1,&#39;-query&#39;=&gt;1,&#39;-full&#39;=&gt;1,@p);</td></tr>
<tr><td class="h">2599</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2600</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2601</td><td colspan="6"></td></tr><tr><td class="h">2602</td><td colspan="6"></td></tr><tr><td class="h">2603</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This is provided as a synonym to self_url() for people unfortunate</td></tr>
<tr><td class="h">2604</td><td></td><td></td><td></td><td></td><td></td><td class="s"># enough to have incorporated it into their programs already!</td></tr>
<tr><td class="h">2605</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;state&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2606</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub state {</td></tr>
<tr><td class="h">2607</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&amp;self_url;</td></tr>
<tr><td class="h">2608</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2609</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2610</td><td colspan="6"></td></tr><tr><td class="h">2611</td><td colspan="6"></td></tr><tr><td class="h">2612</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: url</td></tr>
<tr><td class="h">2613</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Like self_url, but doesn&#39;t return the query string part of</td></tr>
<tr><td class="h">2614</td><td></td><td></td><td></td><td></td><td></td><td class="s"># the URL.</td></tr>
<tr><td class="h">2615</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2616</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;url&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2617</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub url {</td></tr>
<tr><td class="h">2618</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2619</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($relative,$absolute,$full,$path_info,$query,$base,$rewrite) = </td></tr>
<tr><td class="h">2620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([&#39;RELATIVE&#39;,&#39;ABSOLUTE&#39;,&#39;FULL&#39;,[&#39;PATH&#39;,&#39;PATH_INFO&#39;],[&#39;QUERY&#39;,&#39;QUERY_STRING&#39;],&#39;BASE&#39;,&#39;REWRITE&#39;],@p);</td></tr>
<tr><td class="h">2621</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $url  = &#39;&#39;;</td></tr>
<tr><td class="h">2622</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$full++      if $base || !($relative || $absolute);</td></tr>
<tr><td class="h">2623</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$rewrite++   unless defined $rewrite;</td></tr>
<tr><td class="h">2624</td><td colspan="6"></td></tr><tr><td class="h">2625</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $path        =  $self-&gt;path_info;</td></tr>
<tr><td class="h">2626</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $script_name =  $self-&gt;script_name;</td></tr>
<tr><td class="h">2627</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $request_uri = $self-&gt;request_uri || &#39;&#39;;</td></tr>
<tr><td class="h">2628</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $query_str   =  $self-&gt;query_string;</td></tr>
<tr><td class="h">2629</td><td colspan="6"></td></tr><tr><td class="h">2630</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $rewrite_in_use = $request_uri &amp;&amp; $request_uri !~ /^$script_name/;</td></tr>
<tr><td class="h">2631</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef $path if $rewrite_in_use &amp;&amp; $rewrite;  # path not valid when rewriting active</td></tr>
<tr><td class="h">2632</td><td colspan="6"></td></tr><tr><td class="h">2633</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $uri         =  $rewrite &amp;&amp; $request_uri ? $request_uri : $script_name;</td></tr>
<tr><td class="h">2634</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$uri            =~ s/\?.*$//;                                 # remove query string</td></tr>
<tr><td class="h">2635</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$uri            =~ s/$path$//      if defined $path;          # remove path</td></tr>
<tr><td class="h">2636</td><td colspan="6"></td></tr><tr><td class="h">2637</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($full) {</td></tr>
<tr><td class="h">2638</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $protocol = $self-&gt;protocol();</td></tr>
<tr><td class="h">2639</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url = &quot;$protocol://&quot;;</td></tr>
<tr><td class="h">2640</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $vh = http(&#39;x_forwarded_host&#39;) || http(&#39;host&#39;);</td></tr>
<tr><td class="h">2641</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($vh) {</td></tr>
<tr><td class="h">2642</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url .= $vh;</td></tr>
<tr><td class="h">2643</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2644</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url .= server_name();</td></tr>
<tr><td class="h">2645</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $port = $self-&gt;server_port;</td></tr>
<tr><td class="h">2646</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url .= &quot;:&quot; . $port</td></tr>
<tr><td class="h">2647</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (lc($protocol) eq &#39;http&#39;  &amp;&amp; $port == 80)</td></tr>
<tr><td class="h">2648</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| (lc($protocol) eq &#39;https&#39; &amp;&amp; $port == 443);</td></tr>
<tr><td class="h">2649</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2650</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $url if $base;</td></tr>
<tr><td class="h">2651</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url .= $uri;</td></tr>
<tr><td class="h">2652</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($relative) {</td></tr>
<tr><td class="h">2653</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($url) = $script_name =~ m!([^/]+)$!;</td></tr>
<tr><td class="h">2654</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($absolute) {</td></tr>
<tr><td class="h">2655</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$url = $uri;</td></tr>
<tr><td class="h">2656</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2657</td><td colspan="6"></td></tr><tr><td class="h">2658</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$url .= $path         if $path_info and defined $path;</td></tr>
<tr><td class="h">2659</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$url .= &quot;?$query_str&quot; if $query     and $query_str ne &#39;&#39;;</td></tr>
<tr><td class="h">2660</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$url =~ s/([^a-zA-Z0-9_.%;&amp;?\/\\:+=~-])/sprintf(&quot;%%%02X&quot;,ord($1))/eg;</td></tr>
<tr><td class="h">2661</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $url;</td></tr>
<tr><td class="h">2662</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2663</td><td colspan="6"></td></tr><tr><td class="h">2664</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2665</td><td colspan="6"></td></tr><tr><td class="h">2666</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: cookie</td></tr>
<tr><td class="h">2667</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Set or read a cookie from the specified name.</td></tr>
<tr><td class="h">2668</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Cookie can then be passed to header().</td></tr>
<tr><td class="h">2669</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Usual rules apply to the stickiness of -value.</td></tr>
<tr><td class="h">2670</td><td></td><td></td><td></td><td></td><td></td><td class="s">#  Parameters:</td></tr>
<tr><td class="h">2671</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   -name -&gt; name for this cookie (optional)</td></tr>
<tr><td class="h">2672</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   -value -&gt; value of this cookie (scalar, array or hash) </td></tr>
<tr><td class="h">2673</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   -path -&gt; paths for which this cookie is valid (optional)</td></tr>
<tr><td class="h">2674</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   -domain -&gt; internet domain in which this cookie is valid (optional)</td></tr>
<tr><td class="h">2675</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   -secure -&gt; if true, cookie only passed through secure channel (optional)</td></tr>
<tr><td class="h">2676</td><td></td><td></td><td></td><td></td><td></td><td class="s">#   -expires -&gt; expiry date in format Wdy, DD-Mon-YYYY HH:MM:SS GMT (optional)</td></tr>
<tr><td class="h">2677</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2678</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;cookie&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2679</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub cookie {</td></tr>
<tr><td class="h">2680</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2681</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name,$value,$path,$domain,$secure,$expires) =</td></tr>
<tr><td class="h">2682</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rearrange([NAME,[VALUE,VALUES],PATH,DOMAIN,SECURE,EXPIRES],@p);</td></tr>
<tr><td class="h">2683</td><td colspan="6"></td></tr><tr><td class="h">2684</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require CGI::Cookie;</td></tr>
<tr><td class="h">2685</td><td colspan="6"></td></tr><tr><td class="h">2686</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# if no value is supplied, then we retrieve the</td></tr>
<tr><td class="h">2687</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# value of the cookie, if any.  For efficiency, we cache the parsed</td></tr>
<tr><td class="h">2688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# cookies in our state variables.</td></tr>
<tr><td class="h">2689</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ( defined($value) ) {</td></tr>
<tr><td class="h">2690</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.cookies&#39;} = CGI::Cookie-&gt;fetch</td></tr>
<tr><td class="h">2691</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $self-&gt;{&#39;.cookies&#39;};</td></tr>
<tr><td class="h">2692</td><td colspan="6"></td></tr><tr><td class="h">2693</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If no name is supplied, then retrieve the names of all our cookies.</td></tr>
<tr><td class="h">2694</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return () unless $self-&gt;{&#39;.cookies&#39;};</td></tr>
<tr><td class="h">2695</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return keys %{$self-&gt;{&#39;.cookies&#39;}} unless $name;</td></tr>
<tr><td class="h">2696</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return () unless $self-&gt;{&#39;.cookies&#39;}-&gt;{$name};</td></tr>
<tr><td class="h">2697</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.cookies&#39;}-&gt;{$name}-&gt;value if defined($name) &amp;&amp; $name ne &#39;&#39;;</td></tr>
<tr><td class="h">2698</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2699</td><td colspan="6"></td></tr><tr><td class="h">2700</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If we get here, we&#39;re creating a new cookie</td></tr>
<tr><td class="h">2701</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return undef unless defined($name) &amp;&amp; $name ne &#39;&#39;;	# this is an error</td></tr>
<tr><td class="h">2702</td><td colspan="6"></td></tr><tr><td class="h">2703</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @param;</td></tr>
<tr><td class="h">2704</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@param,&#39;-name&#39;=&gt;$name);</td></tr>
<tr><td class="h">2705</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@param,&#39;-value&#39;=&gt;$value);</td></tr>
<tr><td class="h">2706</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@param,&#39;-domain&#39;=&gt;$domain) if $domain;</td></tr>
<tr><td class="h">2707</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@param,&#39;-path&#39;=&gt;$path) if $path;</td></tr>
<tr><td class="h">2708</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@param,&#39;-expires&#39;=&gt;$expires) if $expires;</td></tr>
<tr><td class="h">2709</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push(@param,&#39;-secure&#39;=&gt;$secure) if $secure;</td></tr>
<tr><td class="h">2710</td><td colspan="6"></td></tr><tr><td class="h">2711</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return new CGI::Cookie(@param);</td></tr>
<tr><td class="h">2712</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2713</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2714</td><td colspan="6"></td></tr><tr><td class="h">2715</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;parse_keywordlist&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2716</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub parse_keywordlist {</td></tr>
<tr><td class="h">2717</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$tosplit) = @_;</td></tr>
<tr><td class="h">2718</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tosplit = unescape($tosplit); # unescape the keywords</td></tr>
<tr><td class="h">2719</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$tosplit=~tr/+/ /;          # pluses to spaces</td></tr>
<tr><td class="h">2720</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@keywords) = split(/\s+/,$tosplit);</td></tr>
<tr><td class="h">2721</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @keywords;</td></tr>
<tr><td class="h">2722</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2723</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2724</td><td colspan="6"></td></tr><tr><td class="h">2725</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;param_fetch&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2726</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub param_fetch {</td></tr>
<tr><td class="h">2727</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($name) = rearrange([NAME],@p);</td></tr>
<tr><td class="h">2729</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless (exists($self-&gt;{$name})) {</td></tr>
<tr><td class="h">2730</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter($name);</td></tr>
<tr><td class="h">2731</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{$name} = [];</td></tr>
<tr><td class="h">2732</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2733</td><td colspan="6"></td></tr><tr><td class="h">2734</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{$name};</td></tr>
<tr><td class="h">2735</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2736</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2737</td><td colspan="6"></td></tr><tr><td class="h">2738</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################</td></tr>
<tr><td class="h">2739</td><td></td><td></td><td></td><td></td><td></td><td class="s"># OTHER INFORMATION PROVIDED BY THE ENVIRONMENT</td></tr>
<tr><td class="h">2740</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################</td></tr>
<tr><td class="h">2741</td><td colspan="6"></td></tr><tr><td class="h">2742</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: path_info</td></tr>
<tr><td class="h">2743</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the extra virtual path information provided</td></tr>
<tr><td class="h">2744</td><td></td><td></td><td></td><td></td><td></td><td class="s"># after the URL (if any)</td></tr>
<tr><td class="h">2745</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2746</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;path_info&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2747</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub path_info {</td></tr>
<tr><td class="h">2748</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$info) = self_or_default(@_);</td></tr>
<tr><td class="h">2749</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined($info)) {</td></tr>
<tr><td class="h">2750</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$info = &quot;/$info&quot; if $info ne &#39;&#39; &amp;&amp;  substr($info,0,1) ne &#39;/&#39;;</td></tr>
<tr><td class="h">2751</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.path_info&#39;} = $info;</td></tr>
<tr><td class="h">2752</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif (! defined($self-&gt;{&#39;.path_info&#39;}) ) {</td></tr>
<tr><td class="h">2753</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my (undef,$path_info) = $self-&gt;_name_and_path_from_env;</td></tr>
<tr><td class="h">2754</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.path_info&#39;} = $path_info || &#39;&#39;;</td></tr>
<tr><td class="h">2755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# hack to fix broken path info in IIS</td></tr>
<tr><td class="h">2756</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.path_info&#39;} =~ s/^\Q$ENV{&#39;SCRIPT_NAME&#39;}\E// if $IIS;</td></tr>
<tr><td class="h">2757</td><td colspan="6"></td></tr><tr><td class="h">2758</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2759</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.path_info&#39;};</td></tr>
<tr><td class="h">2760</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2761</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2762</td><td colspan="6"></td></tr><tr><td class="h">2763</td><td></td><td></td><td></td><td></td><td></td><td class="s"># WE USE THIS TO COMPENSATE FOR A BUG IN APACHE 2 PRESENT AT LEAST UP THROUGH 2.0.54</td></tr>
<tr><td class="h">2764</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_name_and_path_from_env&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2765</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _name_and_path_from_env {</td></tr>
<tr><td class="h">2766</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">2767</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my $raw_script_name = $ENV{SCRIPT_NAME} || &#39;&#39;;</td></tr>
<tr><td class="h">2768</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my $raw_path_info   = $ENV{PATH_INFO}   || &#39;&#39;;</td></tr>
<tr><td class="h">2769</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my $uri             = $ENV{REQUEST_URI} || &#39;&#39;;</td></tr>
<tr><td class="h">2770</td><td colspan="6"></td></tr><tr><td class="h">2771</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;if ($raw_script_name =~ m/$raw_path_info$/) {</td></tr>
<tr><td class="h">2772</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$raw_script_name =~ s/$raw_path_info$//;</td></tr>
<tr><td class="h">2773</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2774</td><td colspan="6"></td></tr><tr><td class="h">2775</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my @uri_double_slashes  = $uri =~ m^(/{2,}?)^g;</td></tr>
<tr><td class="h">2776</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my @path_double_slashes = &quot;$raw_script_name $raw_path_info&quot; =~ m^(/{2,}?)^g;</td></tr>
<tr><td class="h">2777</td><td colspan="6"></td></tr><tr><td class="h">2778</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my $apache_bug      = @uri_double_slashes != @path_double_slashes;</td></tr>
<tr><td class="h">2779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;return ($raw_script_name,$raw_path_info) unless $apache_bug;</td></tr>
<tr><td class="h">2780</td><td colspan="6"></td></tr><tr><td class="h">2781</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;my $path_info_search = $raw_path_info;</td></tr>
<tr><td class="h">2782</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;# these characters will not (necessarily) be escaped</td></tr>
<tr><td class="h">2783</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;$path_info_search    =~ s/([^a-zA-Z0-9$()&#39;:_.,+*\/;?=&amp;-])/uc sprintf(&quot;%%%02x&quot;,ord($1))/eg;</td></tr>
<tr><td class="h">2784</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;$path_info_search    = quotemeta($path_info_search);</td></tr>
<tr><td class="h">2785</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;$path_info_search    =~ s!/!/+!g;</td></tr>
<tr><td class="h">2786</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;if ($uri =~ m/^(.+)($path_info_search)/) {</td></tr>
<tr><td class="h">2787</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ($1,$2);</td></tr>
<tr><td class="h">2788</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ($raw_script_name,$raw_path_info);</td></tr>
<tr><td class="h">2790</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2791</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2792</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2793</td><td colspan="6"></td></tr><tr><td class="h">2794</td><td colspan="6"></td></tr><tr><td class="h">2795</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: request_method</td></tr>
<tr><td class="h">2796</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns &#39;POST&#39;, &#39;GET&#39;, &#39;PUT&#39; or &#39;HEAD&#39;</td></tr>
<tr><td class="h">2797</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2798</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;request_method&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2799</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub request_method {</td></tr>
<tr><td class="h">2800</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;REQUEST_METHOD&#39;};</td></tr>
<tr><td class="h">2801</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2802</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2803</td><td colspan="6"></td></tr><tr><td class="h">2804</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: content_type</td></tr>
<tr><td class="h">2805</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns the content_type string</td></tr>
<tr><td class="h">2806</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2807</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;content_type&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2808</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub content_type {</td></tr>
<tr><td class="h">2809</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;CONTENT_TYPE&#39;};</td></tr>
<tr><td class="h">2810</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2811</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2812</td><td colspan="6"></td></tr><tr><td class="h">2813</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: path_translated</td></tr>
<tr><td class="h">2814</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the physical path information provided</td></tr>
<tr><td class="h">2815</td><td></td><td></td><td></td><td></td><td></td><td class="s"># by the URL (if any)</td></tr>
<tr><td class="h">2816</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2817</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;path_translated&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2818</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub path_translated {</td></tr>
<tr><td class="h">2819</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;PATH_TRANSLATED&#39;};</td></tr>
<tr><td class="h">2820</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2821</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2822</td><td colspan="6"></td></tr><tr><td class="h">2823</td><td colspan="6"></td></tr><tr><td class="h">2824</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: request_uri</td></tr>
<tr><td class="h">2825</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the literal request URI</td></tr>
<tr><td class="h">2826</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2827</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;request_uri&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2828</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub request_uri {</td></tr>
<tr><td class="h">2829</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;REQUEST_URI&#39;};</td></tr>
<tr><td class="h">2830</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2831</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2832</td><td colspan="6"></td></tr><tr><td class="h">2833</td><td colspan="6"></td></tr><tr><td class="h">2834</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: query_string</td></tr>
<tr><td class="h">2835</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Synthesize a query string from our current</td></tr>
<tr><td class="h">2836</td><td></td><td></td><td></td><td></td><td></td><td class="s"># parameters</td></tr>
<tr><td class="h">2837</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2838</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;query_string&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2839</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub query_string {</td></tr>
<tr><td class="h">2840</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = self_or_default(@_);</td></tr>
<tr><td class="h">2841</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($param,$value,@pairs);</td></tr>
<tr><td class="h">2842</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $param ($self-&gt;param) {</td></tr>
<tr><td class="h">2843</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($eparam) = escape($param);</td></tr>
<tr><td class="h">2844</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $value ($self-&gt;param($param)) {</td></tr>
<tr><td class="h">2845</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = escape($value);</td></tr>
<tr><td class="h">2846</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless defined $value;</td></tr>
<tr><td class="h">2847</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@pairs,&quot;$eparam=$value&quot;);</td></tr>
<tr><td class="h">2848</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2849</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2850</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %{$self-&gt;{&#39;.fieldnames&#39;}}) {</td></tr>
<tr><td class="h">2851</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@pairs,&quot;.cgifields=&quot;.escape(&quot;$_&quot;));</td></tr>
<tr><td class="h">2852</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2853</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return join($USE_PARAM_SEMICOLONS ? &#39;;&#39; : &#39;&amp;&#39;,@pairs);</td></tr>
<tr><td class="h">2854</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2855</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2856</td><td colspan="6"></td></tr><tr><td class="h">2857</td><td colspan="6"></td></tr><tr><td class="h">2858</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: accept</td></tr>
<tr><td class="h">2859</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Without parameters, returns an array of the</td></tr>
<tr><td class="h">2860</td><td></td><td></td><td></td><td></td><td></td><td class="s"># MIME types the browser accepts.</td></tr>
<tr><td class="h">2861</td><td></td><td></td><td></td><td></td><td></td><td class="s"># With a single parameter equal to a MIME</td></tr>
<tr><td class="h">2862</td><td></td><td></td><td></td><td></td><td></td><td class="s"># type, will return undef if the browser won&#39;t</td></tr>
<tr><td class="h">2863</td><td></td><td></td><td></td><td></td><td></td><td class="s"># accept it, 1 if the browser accepts it but</td></tr>
<tr><td class="h">2864</td><td></td><td></td><td></td><td></td><td></td><td class="s"># doesn&#39;t give a preference, or a floating point</td></tr>
<tr><td class="h">2865</td><td></td><td></td><td></td><td></td><td></td><td class="s"># value between 0.0 and 1.0 if the browser</td></tr>
<tr><td class="h">2866</td><td></td><td></td><td></td><td></td><td></td><td class="s"># declares a quantitative score for it.</td></tr>
<tr><td class="h">2867</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This handles MIME type globs correctly.</td></tr>
<tr><td class="h">2868</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2869</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;Accept&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2870</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub Accept {</td></tr>
<tr><td class="h">2871</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$search) = self_or_CGI(@_);</td></tr>
<tr><td class="h">2872</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(%prefs,$type,$pref,$pat);</td></tr>
<tr><td class="h">2873</td><td colspan="6"></td></tr><tr><td class="h">2874</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@accept) = split(&#39;,&#39;,$self-&gt;http(&#39;accept&#39;));</td></tr>
<tr><td class="h">2875</td><td colspan="6"></td></tr><tr><td class="h">2876</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@accept) {</td></tr>
<tr><td class="h">2877</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($pref) = /q=(\d\.\d+|\d+)/;</td></tr>
<tr><td class="h">2878</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($type) = m#(\S+/[^;]+)#;</td></tr>
<tr><td class="h">2879</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless $type;</td></tr>
<tr><td class="h">2880</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$prefs{$type}=$pref || 1;</td></tr>
<tr><td class="h">2881</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2882</td><td colspan="6"></td></tr><tr><td class="h">2883</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return keys %prefs unless $search;</td></tr>
<tr><td class="h">2884</td><td colspan="6"></td></tr><tr><td class="h">2885</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# if a search type is provided, we may need to</td></tr>
<tr><td class="h">2886</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# perform a pattern matching operation.</td></tr>
<tr><td class="h">2887</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# The MIME types use a glob mechanism, which</td></tr>
<tr><td class="h">2888</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# is easily translated into a perl pattern match</td></tr>
<tr><td class="h">2889</td><td colspan="6"></td></tr><tr><td class="h">2890</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# First return the preference for directly supported</td></tr>
<tr><td class="h">2891</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# types:</td></tr>
<tr><td class="h">2892</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $prefs{$search} if $prefs{$search};</td></tr>
<tr><td class="h">2893</td><td colspan="6"></td></tr><tr><td class="h">2894</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Didn&#39;t get it, so try pattern matching.</td></tr>
<tr><td class="h">2895</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %prefs) {</td></tr>
<tr><td class="h">2896</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless /\*/;       # not a pattern match</td></tr>
<tr><td class="h">2897</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($pat = $_) =~ s/([^\w*])/\\$1/g; # escape meta characters</td></tr>
<tr><td class="h">2898</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pat =~ s/\*/.*/g; # turn it into a pattern</td></tr>
<tr><td class="h">2899</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $prefs{$_} if $search=~/$pat/;</td></tr>
<tr><td class="h">2900</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2901</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2902</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2903</td><td colspan="6"></td></tr><tr><td class="h">2904</td><td colspan="6"></td></tr><tr><td class="h">2905</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: user_agent</td></tr>
<tr><td class="h">2906</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If called with no parameters, returns the user agent.</td></tr>
<tr><td class="h">2907</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If called with one parameter, does a pattern match (case</td></tr>
<tr><td class="h">2908</td><td></td><td></td><td></td><td></td><td></td><td class="s"># insensitive) on the user agent.</td></tr>
<tr><td class="h">2909</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2910</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;user_agent&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2911</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub user_agent {</td></tr>
<tr><td class="h">2912</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$match)=self_or_CGI(@_);</td></tr>
<tr><td class="h">2913</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;http(&#39;user_agent&#39;) unless $match;</td></tr>
<tr><td class="h">2914</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;http(&#39;user_agent&#39;) =~ /$match/i;</td></tr>
<tr><td class="h">2915</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2916</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2917</td><td colspan="6"></td></tr><tr><td class="h">2918</td><td colspan="6"></td></tr><tr><td class="h">2919</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: raw_cookie</td></tr>
<tr><td class="h">2920</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Returns the magic cookies for the session.</td></tr>
<tr><td class="h">2921</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The cookies are not parsed or altered in any way, i.e.</td></tr>
<tr><td class="h">2922</td><td></td><td></td><td></td><td></td><td></td><td class="s"># cookies are returned exactly as given in the HTTP</td></tr>
<tr><td class="h">2923</td><td></td><td></td><td></td><td></td><td></td><td class="s"># headers.  If a cookie name is given, only that cookie&#39;s</td></tr>
<tr><td class="h">2924</td><td></td><td></td><td></td><td></td><td></td><td class="s"># value is returned, otherwise the entire raw cookie</td></tr>
<tr><td class="h">2925</td><td></td><td></td><td></td><td></td><td></td><td class="s"># is returned.</td></tr>
<tr><td class="h">2926</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2927</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;raw_cookie&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2928</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub raw_cookie {</td></tr>
<tr><td class="h">2929</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$key) = self_or_CGI(@_);</td></tr>
<tr><td class="h">2930</td><td colspan="6"></td></tr><tr><td class="h">2931</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require CGI::Cookie;</td></tr>
<tr><td class="h">2932</td><td colspan="6"></td></tr><tr><td class="h">2933</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined($key)) {</td></tr>
<tr><td class="h">2934</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.raw_cookies&#39;} = CGI::Cookie-&gt;raw_fetch</td></tr>
<tr><td class="h">2935</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $self-&gt;{&#39;.raw_cookies&#39;};</td></tr>
<tr><td class="h">2936</td><td colspan="6"></td></tr><tr><td class="h">2937</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return () unless $self-&gt;{&#39;.raw_cookies&#39;};</td></tr>
<tr><td class="h">2938</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return () unless $self-&gt;{&#39;.raw_cookies&#39;}-&gt;{$key};</td></tr>
<tr><td class="h">2939</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.raw_cookies&#39;}-&gt;{$key};</td></tr>
<tr><td class="h">2940</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2941</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;http(&#39;cookie&#39;) || $ENV{&#39;COOKIE&#39;} || &#39;&#39;;</td></tr>
<tr><td class="h">2942</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2943</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2944</td><td colspan="6"></td></tr><tr><td class="h">2945</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: virtual_host</td></tr>
<tr><td class="h">2946</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the name of the virtual_host, which</td></tr>
<tr><td class="h">2947</td><td></td><td></td><td></td><td></td><td></td><td class="s"># is not always the same as the server</td></tr>
<tr><td class="h">2948</td><td></td><td></td><td></td><td></td><td></td><td class="s">######</td></tr>
<tr><td class="h">2949</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;virtual_host&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2950</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub virtual_host {</td></tr>
<tr><td class="h">2951</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $vh = http(&#39;x_forwarded_host&#39;) || http(&#39;host&#39;) || server_name();</td></tr>
<tr><td class="h">2952</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$vh =~ s/:\d+$//;		# get rid of port number</td></tr>
<tr><td class="h">2953</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $vh;</td></tr>
<tr><td class="h">2954</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2955</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2956</td><td colspan="6"></td></tr><tr><td class="h">2957</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: remote_host</td></tr>
<tr><td class="h">2958</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the name of the remote host, or its IP</td></tr>
<tr><td class="h">2959</td><td></td><td></td><td></td><td></td><td></td><td class="s"># address if unavailable.  If this variable isn&#39;t</td></tr>
<tr><td class="h">2960</td><td></td><td></td><td></td><td></td><td></td><td class="s"># defined, it returns &quot;localhost&quot; for debugging</td></tr>
<tr><td class="h">2961</td><td></td><td></td><td></td><td></td><td></td><td class="s"># purposes.</td></tr>
<tr><td class="h">2962</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2963</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;remote_host&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2964</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub remote_host {</td></tr>
<tr><td class="h">2965</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;REMOTE_HOST&#39;} || $ENV{&#39;REMOTE_ADDR&#39;} </td></tr>
<tr><td class="h">2966</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;|| &#39;localhost&#39;;</td></tr>
<tr><td class="h">2967</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2968</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2969</td><td colspan="6"></td></tr><tr><td class="h">2970</td><td colspan="6"></td></tr><tr><td class="h">2971</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: remote_addr</td></tr>
<tr><td class="h">2972</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the IP addr of the remote host.</td></tr>
<tr><td class="h">2973</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2974</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;remote_addr&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2975</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub remote_addr {</td></tr>
<tr><td class="h">2976</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;REMOTE_ADDR&#39;} || &#39;127.0.0.1&#39;;</td></tr>
<tr><td class="h">2977</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2978</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2979</td><td colspan="6"></td></tr><tr><td class="h">2980</td><td colspan="6"></td></tr><tr><td class="h">2981</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: script_name</td></tr>
<tr><td class="h">2982</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the partial URL to this script for</td></tr>
<tr><td class="h">2983</td><td></td><td></td><td></td><td></td><td></td><td class="s"># self-referencing scripts.  Also see</td></tr>
<tr><td class="h">2984</td><td></td><td></td><td></td><td></td><td></td><td class="s"># self_url(), which returns a URL with all state information</td></tr>
<tr><td class="h">2985</td><td></td><td></td><td></td><td></td><td></td><td class="s"># preserved.</td></tr>
<tr><td class="h">2986</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">2987</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;script_name&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">2988</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub script_name {</td></tr>
<tr><td class="h">2989</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,@p) = self_or_default(@_);</td></tr>
<tr><td class="h">2990</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (@p) {</td></tr>
<tr><td class="h">2991</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.script_name&#39;} = shift;</td></tr>
<tr><td class="h">2992</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif (!exists $self-&gt;{&#39;.script_name&#39;}) {</td></tr>
<tr><td class="h">2993</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($script_name,$path_info) = $self-&gt;_name_and_path_from_env();</td></tr>
<tr><td class="h">2994</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.script_name&#39;} = $script_name;</td></tr>
<tr><td class="h">2995</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2996</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.script_name&#39;};</td></tr>
<tr><td class="h">2997</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2998</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">2999</td><td colspan="6"></td></tr><tr><td class="h">3000</td><td colspan="6"></td></tr><tr><td class="h">3001</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: referer</td></tr>
<tr><td class="h">3002</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the HTTP_REFERER: useful for generating</td></tr>
<tr><td class="h">3003</td><td></td><td></td><td></td><td></td><td></td><td class="s"># a GO BACK button.</td></tr>
<tr><td class="h">3004</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3005</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;referer&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3006</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub referer {</td></tr>
<tr><td class="h">3007</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3008</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;http(&#39;referer&#39;);</td></tr>
<tr><td class="h">3009</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3010</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3011</td><td colspan="6"></td></tr><tr><td class="h">3012</td><td colspan="6"></td></tr><tr><td class="h">3013</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: server_name</td></tr>
<tr><td class="h">3014</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the name of the server</td></tr>
<tr><td class="h">3015</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3016</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;server_name&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3017</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub server_name {</td></tr>
<tr><td class="h">3018</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;SERVER_NAME&#39;} || &#39;localhost&#39;;</td></tr>
<tr><td class="h">3019</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3020</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3021</td><td colspan="6"></td></tr><tr><td class="h">3022</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: server_software</td></tr>
<tr><td class="h">3023</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the name of the server software</td></tr>
<tr><td class="h">3024</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3025</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;server_software&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3026</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub server_software {</td></tr>
<tr><td class="h">3027</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;SERVER_SOFTWARE&#39;} || &#39;cmdline&#39;;</td></tr>
<tr><td class="h">3028</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3029</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3030</td><td colspan="6"></td></tr><tr><td class="h">3031</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: virtual_port</td></tr>
<tr><td class="h">3032</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the server port, taking virtual hosts into account</td></tr>
<tr><td class="h">3033</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3034</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;virtual_port&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3035</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub virtual_port {</td></tr>
<tr><td class="h">3036</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = self_or_default(@_);</td></tr>
<tr><td class="h">3037</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $vh = $self-&gt;http(&#39;x_forwarded_host&#39;) || $self-&gt;http(&#39;host&#39;);</td></tr>
<tr><td class="h">3038</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $protocol = $self-&gt;protocol;</td></tr>
<tr><td class="h">3039</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($vh) {</td></tr>
<tr><td class="h">3040</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ($vh =~ /:(\d+)$/)[0] || ($protocol eq &#39;https&#39; ? 443 : 80);</td></tr>
<tr><td class="h">3041</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3042</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;server_port();</td></tr>
<tr><td class="h">3043</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3044</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3045</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3046</td><td colspan="6"></td></tr><tr><td class="h">3047</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: server_port</td></tr>
<tr><td class="h">3048</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the tcp/ip port the server is running on</td></tr>
<tr><td class="h">3049</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3050</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;server_port&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3051</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub server_port {</td></tr>
<tr><td class="h">3052</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;SERVER_PORT&#39;} || 80; # for debugging</td></tr>
<tr><td class="h">3053</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3054</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3055</td><td colspan="6"></td></tr><tr><td class="h">3056</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: server_protocol</td></tr>
<tr><td class="h">3057</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the protocol (usually HTTP/1.0)</td></tr>
<tr><td class="h">3058</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3059</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;server_protocol&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3060</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub server_protocol {</td></tr>
<tr><td class="h">3061</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;SERVER_PROTOCOL&#39;} || &#39;HTTP/1.0&#39;; # for debugging</td></tr>
<tr><td class="h">3062</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3063</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3064</td><td colspan="6"></td></tr><tr><td class="h">3065</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: http</td></tr>
<tr><td class="h">3066</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the value of an HTTP variable, or</td></tr>
<tr><td class="h">3067</td><td></td><td></td><td></td><td></td><td></td><td class="s"># the list of variables if none provided</td></tr>
<tr><td class="h">3068</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3069</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;http&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3070</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub http {</td></tr>
<tr><td class="h">3071</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$parameter) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3072</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{$parameter} if $parameter=~/^HTTP/;</td></tr>
<tr><td class="h">3073</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$parameter =~ tr/-/_/;</td></tr>
<tr><td class="h">3074</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&quot;HTTP_\U$parameter\E&quot;} if $parameter;</td></tr>
<tr><td class="h">3075</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@p);</td></tr>
<tr><td class="h">3076</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %ENV) {</td></tr>
<tr><td class="h">3077</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@p,$_) if /^HTTP/;</td></tr>
<tr><td class="h">3078</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3079</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @p;</td></tr>
<tr><td class="h">3080</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3081</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3082</td><td colspan="6"></td></tr><tr><td class="h">3083</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: https</td></tr>
<tr><td class="h">3084</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the value of HTTPS</td></tr>
<tr><td class="h">3085</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3086</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;https&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3087</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub https {</td></tr>
<tr><td class="h">3088</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local($^W)=0;</td></tr>
<tr><td class="h">3089</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$parameter) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3090</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{HTTPS} unless $parameter;</td></tr>
<tr><td class="h">3091</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{$parameter} if $parameter=~/^HTTPS/;</td></tr>
<tr><td class="h">3092</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$parameter =~ tr/-/_/;</td></tr>
<tr><td class="h">3093</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&quot;HTTPS_\U$parameter\E&quot;} if $parameter;</td></tr>
<tr><td class="h">3094</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(@p);</td></tr>
<tr><td class="h">3095</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %ENV) {</td></tr>
<tr><td class="h">3096</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@p,$_) if /^HTTPS/;</td></tr>
<tr><td class="h">3097</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3098</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @p;</td></tr>
<tr><td class="h">3099</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3100</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3101</td><td colspan="6"></td></tr><tr><td class="h">3102</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: protocol</td></tr>
<tr><td class="h">3103</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the protocol (http or https currently)</td></tr>
<tr><td class="h">3104</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3105</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;protocol&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3106</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub protocol {</td></tr>
<tr><td class="h">3107</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local($^W)=0;</td></tr>
<tr><td class="h">3108</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">3109</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;https&#39; if uc($self-&gt;https()) eq &#39;ON&#39;; </td></tr>
<tr><td class="h">3110</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;https&#39; if $self-&gt;server_port == 443;</td></tr>
<tr><td class="h">3111</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $prot = $self-&gt;server_protocol;</td></tr>
<tr><td class="h">3112</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($protocol,$version) = split(&#39;/&#39;,$prot);</td></tr>
<tr><td class="h">3113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &quot;\L$protocol\E&quot;;</td></tr>
<tr><td class="h">3114</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3115</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3116</td><td colspan="6"></td></tr><tr><td class="h">3117</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: remote_ident</td></tr>
<tr><td class="h">3118</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the identity of the remote user</td></tr>
<tr><td class="h">3119</td><td></td><td></td><td></td><td></td><td></td><td class="s"># (but only if his host is running identd)</td></tr>
<tr><td class="h">3120</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3121</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;remote_ident&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3122</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub remote_ident {</td></tr>
<tr><td class="h">3123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;REMOTE_IDENT&#39;};</td></tr>
<tr><td class="h">3124</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3125</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3126</td><td colspan="6"></td></tr><tr><td class="h">3127</td><td colspan="6"></td></tr><tr><td class="h">3128</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: auth_type</td></tr>
<tr><td class="h">3129</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the type of use verification/authorization in use, if any.</td></tr>
<tr><td class="h">3130</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3131</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;auth_type&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3132</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub auth_type {</td></tr>
<tr><td class="h">3133</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;AUTH_TYPE&#39;};</td></tr>
<tr><td class="h">3134</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3135</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3136</td><td colspan="6"></td></tr><tr><td class="h">3137</td><td colspan="6"></td></tr><tr><td class="h">3138</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: remote_user</td></tr>
<tr><td class="h">3139</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return the authorization name used for user</td></tr>
<tr><td class="h">3140</td><td></td><td></td><td></td><td></td><td></td><td class="s"># verification.</td></tr>
<tr><td class="h">3141</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3142</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;remote_user&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3143</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub remote_user {</td></tr>
<tr><td class="h">3144</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $ENV{&#39;REMOTE_USER&#39;};</td></tr>
<tr><td class="h">3145</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3146</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3147</td><td colspan="6"></td></tr><tr><td class="h">3148</td><td colspan="6"></td></tr><tr><td class="h">3149</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: user_name</td></tr>
<tr><td class="h">3150</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Try to return the remote user&#39;s name by hook or by</td></tr>
<tr><td class="h">3151</td><td></td><td></td><td></td><td></td><td></td><td class="s"># crook</td></tr>
<tr><td class="h">3152</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;user_name&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3154</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub user_name {</td></tr>
<tr><td class="h">3155</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3156</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;http(&#39;from&#39;) || $ENV{&#39;REMOTE_IDENT&#39;} || $ENV{&#39;REMOTE_USER&#39;};</td></tr>
<tr><td class="h">3157</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3158</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3159</td><td colspan="6"></td></tr><tr><td class="h">3160</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: nosticky</td></tr>
<tr><td class="h">3161</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Set or return the NOSTICKY global flag</td></tr>
<tr><td class="h">3162</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3163</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;nosticky&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3164</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub nosticky {</td></tr>
<tr><td class="h">3165</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$param) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3166</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::NOSTICKY = $param if defined($param);</td></tr>
<tr><td class="h">3167</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $CGI::NOSTICKY;</td></tr>
<tr><td class="h">3168</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3169</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3170</td><td colspan="6"></td></tr><tr><td class="h">3171</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: nph</td></tr>
<tr><td class="h">3172</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Set or return the NPH global flag</td></tr>
<tr><td class="h">3173</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;nph&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3175</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub nph {</td></tr>
<tr><td class="h">3176</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$param) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3177</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::NPH = $param if defined($param);</td></tr>
<tr><td class="h">3178</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $CGI::NPH;</td></tr>
<tr><td class="h">3179</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3180</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3181</td><td colspan="6"></td></tr><tr><td class="h">3182</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: private_tempfiles</td></tr>
<tr><td class="h">3183</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Set or return the private_tempfiles global flag</td></tr>
<tr><td class="h">3184</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3185</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;private_tempfiles&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3186</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub private_tempfiles {</td></tr>
<tr><td class="h">3187</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$param) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3188</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::PRIVATE_TEMPFILES = $param if defined($param);</td></tr>
<tr><td class="h">3189</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $CGI::PRIVATE_TEMPFILES;</td></tr>
<tr><td class="h">3190</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3191</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3192</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: close_upload_files</td></tr>
<tr><td class="h">3193</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Set or return the close_upload_files global flag</td></tr>
<tr><td class="h">3194</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3195</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;close_upload_files&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3196</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub close_upload_files {</td></tr>
<tr><td class="h">3197</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$param) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3198</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::CLOSE_UPLOAD_FILES = $param if defined($param);</td></tr>
<tr><td class="h">3199</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $CGI::CLOSE_UPLOAD_FILES;</td></tr>
<tr><td class="h">3200</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3201</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3202</td><td colspan="6"></td></tr><tr><td class="h">3203</td><td colspan="6"></td></tr><tr><td class="h">3204</td><td></td><td></td><td></td><td></td><td></td><td class="s">#### Method: default_dtd</td></tr>
<tr><td class="h">3205</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Set or return the default_dtd global</td></tr>
<tr><td class="h">3206</td><td></td><td></td><td></td><td></td><td></td><td class="s">####</td></tr>
<tr><td class="h">3207</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;default_dtd&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3208</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub default_dtd {</td></tr>
<tr><td class="h">3209</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self,$param,$param2) = self_or_CGI(@_);</td></tr>
<tr><td class="h">3210</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $param2 &amp;&amp; defined $param) {</td></tr>
<tr><td class="h">3211</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DEFAULT_DTD = [ $param, $param2 ];</td></tr>
<tr><td class="h">3212</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif (defined $param) {</td></tr>
<tr><td class="h">3213</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DEFAULT_DTD = $param;</td></tr>
<tr><td class="h">3214</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3215</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $CGI::DEFAULT_DTD;</td></tr>
<tr><td class="h">3216</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3217</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3218</td><td colspan="6"></td></tr><tr><td class="h">3219</td><td></td><td></td><td></td><td></td><td></td><td class="s"># -------------- really private subroutines -----------------</td></tr>
<tr><td class="h">3220</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;previous_or_default&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3221</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub previous_or_default {</td></tr>
<tr><td class="h">3222</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$name,$defaults,$override) = @_;</td></tr>
<tr><td class="h">3223</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(%selected);</td></tr>
<tr><td class="h">3224</td><td colspan="6"></td></tr><tr><td class="h">3225</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (!$override &amp;&amp; ($self-&gt;{&#39;.fieldnames&#39;}-&gt;{$name} || </td></tr>
<tr><td class="h">3226</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined($self-&gt;param($name)) ) ) {</td></tr>
<tr><td class="h">3227</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grep($selected{$_}++,$self-&gt;param($name));</td></tr>
<tr><td class="h">3228</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif (defined($defaults) &amp;&amp; ref($defaults) &amp;&amp; </td></tr>
<tr><td class="h">3229</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ref($defaults) eq &#39;ARRAY&#39;)) {</td></tr>
<tr><td class="h">3230</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grep($selected{$_}++,@{$defaults});</td></tr>
<tr><td class="h">3231</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3232</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$selected{$defaults}++ if defined($defaults);</td></tr>
<tr><td class="h">3233</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3234</td><td colspan="6"></td></tr><tr><td class="h">3235</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return %selected;</td></tr>
<tr><td class="h">3236</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3237</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3238</td><td colspan="6"></td></tr><tr><td class="h">3239</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;register_parameter&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3240</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub register_parameter {</td></tr>
<tr><td class="h">3241</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$param) = @_;</td></tr>
<tr><td class="h">3242</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.parametersToAdd&#39;}-&gt;{$param}++;</td></tr>
<tr><td class="h">3243</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3244</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3245</td><td colspan="6"></td></tr><tr><td class="h">3246</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;get_fields&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3247</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub get_fields {</td></tr>
<tr><td class="h">3248</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">3249</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;CGI::hidden(&#39;-name&#39;=&gt;&#39;.cgifields&#39;,</td></tr>
<tr><td class="h">3250</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;-values&#39;=&gt;[keys %{$self-&gt;{&#39;.parametersToAdd&#39;}}],</td></tr>
<tr><td class="h">3251</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;-override&#39;=&gt;1);</td></tr>
<tr><td class="h">3252</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3253</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3254</td><td colspan="6"></td></tr><tr><td class="h">3255</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;read_from_cmdline&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3256</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub read_from_cmdline {</td></tr>
<tr><td class="h">3257</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($input,@words);</td></tr>
<tr><td class="h">3258</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($query_string);</td></tr>
<tr><td class="h">3259</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($subpath);</td></tr>
<tr><td class="h">3260</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($DEBUG &amp;&amp; @ARGV) {</td></tr>
<tr><td class="h">3261</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@words = @ARGV;</td></tr>
<tr><td class="h">3262</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($DEBUG &gt; 1) {</td></tr>
<tr><td class="h">3263</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require &quot;shellwords.pl&quot;;</td></tr>
<tr><td class="h">3264</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print STDERR &quot;(offline mode: enter name=value pairs on standard input; press ^D or ^Z when done)\n&quot;;</td></tr>
<tr><td class="h">3265</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp(@lines = &lt;STDIN&gt;); # remove newlines</td></tr>
<tr><td class="h">3266</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$input = join(&quot; &quot;,@lines);</td></tr>
<tr><td class="h">3267</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@words = &amp;shellwords($input);    </td></tr>
<tr><td class="h">3268</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3269</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@words) {</td></tr>
<tr><td class="h">3270</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\\=/%3D/g;</td></tr>
<tr><td class="h">3271</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\\&amp;/%26/g;	    </td></tr>
<tr><td class="h">3272</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3273</td><td colspan="6"></td></tr><tr><td class="h">3274</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (&quot;@words&quot;=~/=/) {</td></tr>
<tr><td class="h">3275</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = join(&#39;&amp;&#39;,@words);</td></tr>
<tr><td class="h">3276</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3277</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = join(&#39;+&#39;,@words);</td></tr>
<tr><td class="h">3278</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3279</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($query_string =~ /^(.*?)\?(.*)$/)</td></tr>
<tr><td class="h">3280</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">3281</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query_string = $2;</td></tr>
<tr><td class="h">3282</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$subpath = $1;</td></tr>
<tr><td class="h">3283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3284</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return { &#39;query_string&#39; =&gt; $query_string, &#39;subpath&#39; =&gt; $subpath };</td></tr>
<tr><td class="h">3285</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3286</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3287</td><td colspan="6"></td></tr><tr><td class="h">3288</td><td></td><td></td><td></td><td></td><td></td><td class="s">#####</td></tr>
<tr><td class="h">3289</td><td></td><td></td><td></td><td></td><td></td><td class="s"># subroutine: read_multipart</td></tr>
<tr><td class="h">3290</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">3291</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Read multipart data and store it into our parameters.</td></tr>
<tr><td class="h">3292</td><td></td><td></td><td></td><td></td><td></td><td class="s"># An interesting feature is that if any of the parts is a file, we</td></tr>
<tr><td class="h">3293</td><td></td><td></td><td></td><td></td><td></td><td class="s"># create a temporary file and open up a filehandle on it so that the</td></tr>
<tr><td class="h">3294</td><td></td><td></td><td></td><td></td><td></td><td class="s"># caller can read from it if necessary.</td></tr>
<tr><td class="h">3295</td><td></td><td></td><td></td><td></td><td></td><td class="s">#####</td></tr>
<tr><td class="h">3296</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;read_multipart&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3297</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub read_multipart {</td></tr>
<tr><td class="h">3298</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$boundary,$length) = @_;</td></tr>
<tr><td class="h">3299</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($buffer) = $self-&gt;new_MultipartBuffer($boundary,$length);</td></tr>
<tr><td class="h">3300</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless $buffer;</td></tr>
<tr><td class="h">3301</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my(%header,$body);</td></tr>
<tr><td class="h">3302</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $filenumber = 0;</td></tr>
<tr><td class="h">3303</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while (!$buffer-&gt;eof) {</td></tr>
<tr><td class="h">3304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%header = $buffer-&gt;readHeader;</td></tr>
<tr><td class="h">3305</td><td colspan="6"></td></tr><tr><td class="h">3306</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (%header) {</td></tr>
<tr><td class="h">3307</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;cgi_error(&quot;400 Bad request (malformed multipart POST)&quot;);</td></tr>
<tr><td class="h">3308</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">3309</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3310</td><td colspan="6"></td></tr><tr><td class="h">3311</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($param)= $header{&#39;Content-Disposition&#39;}=~/ name=&quot;([^;]*)&quot;/;</td></tr>
<tr><td class="h">3312</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param .= $TAINTED;</td></tr>
<tr><td class="h">3313</td><td colspan="6"></td></tr><tr><td class="h">3314</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Bug:  Netscape doesn&#39;t escape quotation marks in file names!!!</td></tr>
<tr><td class="h">3315</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($filename) = $header{&#39;Content-Disposition&#39;}=~/ filename=&quot;([^;]*)&quot;/;</td></tr>
<tr><td class="h">3316</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Test for Opera&#39;s multiple upload feature</td></tr>
<tr><td class="h">3317</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($multipart) = ( defined( $header{&#39;Content-Type&#39;} ) &amp;&amp;</td></tr>
<tr><td class="h">3318</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$header{&#39;Content-Type&#39;} =~ /multipart\/mixed/ ) ?</td></tr>
<tr><td class="h">3319</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 : 0;</td></tr>
<tr><td class="h">3320</td><td colspan="6"></td></tr><tr><td class="h">3321</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# add this parameter to our list</td></tr>
<tr><td class="h">3322</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;add_parameter($param);</td></tr>
<tr><td class="h">3323</td><td colspan="6"></td></tr><tr><td class="h">3324</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If no filename specified, then just read the data and assign it</td></tr>
<tr><td class="h">3325</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# to our parameter list.</td></tr>
<tr><td class="h">3326</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( ( !defined($filename) || $filename eq &#39;&#39; ) &amp;&amp; !$multipart ) {</td></tr>
<tr><td class="h">3327</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($value) = $buffer-&gt;readBody;</td></tr>
<tr><td class="h">3328</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value .= $TAINTED;</td></tr>
<tr><td class="h">3329</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@{$self-&gt;{$param}},$value);</td></tr>
<tr><td class="h">3330</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">3331</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3332</td><td colspan="6"></td></tr><tr><td class="h">3333</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($tmpfile,$tmp,$filehandle);</td></tr>
<tr><td class="h">3334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPLOADS: {</td></tr>
<tr><td class="h">3335</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If we get here, then we are dealing with a potentially large</td></tr>
<tr><td class="h">3336</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# uploaded form.  Save the data to a temporary file, then open</td></tr>
<tr><td class="h">3337</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the file for reading.</td></tr>
<tr><td class="h">3338</td><td colspan="6"></td></tr><tr><td class="h">3339</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# skip the file if uploads disabled</td></tr>
<tr><td class="h">3340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DISABLE_UPLOADS) {</td></tr>
<tr><td class="h">3341</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (defined($data = $buffer-&gt;read)) { }</td></tr>
<tr><td class="h">3342</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last UPLOADS;</td></tr>
<tr><td class="h">3343</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3344</td><td colspan="6"></td></tr><tr><td class="h">3345</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# set the filename to some recognizable value</td></tr>
<tr><td class="h">3346</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( ( !defined($filename) || $filename eq &#39;&#39; ) &amp;&amp; $multipart ) {</td></tr>
<tr><td class="h">3347</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$filename = &quot;multipart/mixed&quot;;</td></tr>
<tr><td class="h">3348</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3349</td><td colspan="6"></td></tr><tr><td class="h">3350</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# choose a relatively unpredictable tmpfile sequence number</td></tr>
<tr><td class="h">3351</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $seqno = unpack(&quot;%16C*&quot;,join(&#39;&#39;,localtime,grep {defined $_} values %ENV));</td></tr>
<tr><td class="h">3352</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (my $cnt=10;$cnt&gt;0;$cnt--) {</td></tr>
<tr><td class="h">3353</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless $tmpfile = new CGITempFile($seqno);</td></tr>
<tr><td class="h">3354</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tmp = $tmpfile-&gt;as_string;</td></tr>
<tr><td class="h">3355</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last if defined($filehandle = Fh-&gt;new($filename,$tmp,$PRIVATE_TEMPFILES));</td></tr>
<tr><td class="h">3356</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$seqno += int rand(100);</td></tr>
<tr><td class="h">3357</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3358</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die &quot;CGI open of tmpfile: $!\n&quot; unless defined $filehandle;</td></tr>
<tr><td class="h">3359</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DefaultClass-&gt;binmode($filehandle) if $CGI::needs_binmode </td></tr>
<tr><td class="h">3360</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; defined fileno($filehandle);</td></tr>
<tr><td class="h">3361</td><td colspan="6"></td></tr><tr><td class="h">3362</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# if this is an multipart/mixed attachment, save the header</td></tr>
<tr><td class="h">3363</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# together with the body for later parsing with an external</td></tr>
<tr><td class="h">3364</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# MIME parser module</td></tr>
<tr><td class="h">3365</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $multipart ) {</td></tr>
<tr><td class="h">3366</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach ( keys %header ) {</td></tr>
<tr><td class="h">3367</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $filehandle &quot;$_: $header{$_}${CRLF}&quot;;</td></tr>
<tr><td class="h">3368</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3369</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $filehandle &quot;${CRLF}&quot;;</td></tr>
<tr><td class="h">3370</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3371</td><td colspan="6"></td></tr><tr><td class="h">3372</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($data);</td></tr>
<tr><td class="h">3373</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local($\) = &#39;&#39;;</td></tr>
<tr><td class="h">3374</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $totalbytes;</td></tr>
<tr><td class="h">3375</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (defined($data = $buffer-&gt;read)) {</td></tr>
<tr><td class="h">3376</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $self-&gt;{&#39;.upload_hook&#39;})</td></tr>
<tr><td class="h">3377</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">3378</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$totalbytes += length($data);</td></tr>
<tr><td class="h">3379</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;{$self-&gt;{&#39;.upload_hook&#39;}}($filename ,$data, $totalbytes, $self-&gt;{&#39;.upload_data&#39;});</td></tr>
<tr><td class="h">3380</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3381</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $filehandle $data;</td></tr>
<tr><td class="h">3382</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3383</td><td colspan="6"></td></tr><tr><td class="h">3384</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# back up to beginning of file</td></tr>
<tr><td class="h">3385</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seek($filehandle,0,0);</td></tr>
<tr><td class="h">3386</td><td colspan="6"></td></tr><tr><td class="h">3387</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Close the filehandle if requested this allows a multipart MIME</td></tr>
<tr><td class="h">3388</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## upload to contain many files, and we won&#39;t die due to too many</td></tr>
<tr><td class="h">3389</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## open file handles. The user can access the files using the hash</td></tr>
<tr><td class="h">3390</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## below.</td></tr>
<tr><td class="h">3391</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close $filehandle if $CLOSE_UPLOAD_FILES;</td></tr>
<tr><td class="h">3392</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DefaultClass-&gt;binmode($filehandle) if $CGI::needs_binmode;</td></tr>
<tr><td class="h">3393</td><td colspan="6"></td></tr><tr><td class="h">3394</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Save some information about the uploaded file where we can get</td></tr>
<tr><td class="h">3395</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# at it later.</td></tr>
<tr><td class="h">3396</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Use the typeglob as the key, as this is guaranteed to be</td></tr>
<tr><td class="h">3397</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# unique for each filehandle.  Don&#39;t use the file descriptor as</td></tr>
<tr><td class="h">3398</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# this will be re-used for each filehandle if the</td></tr>
<tr><td class="h">3399</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# close_upload_files feature is used.</td></tr>
<tr><td class="h">3400</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.tmpfiles&#39;}-&gt;{$$filehandle}= {</td></tr>
<tr><td class="h">3401</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hndl =&gt; $filehandle,</td></tr>
<tr><td class="h">3402</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name =&gt; $tmpfile,</td></tr>
<tr><td class="h">3403</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info =&gt; {%header},</td></tr>
<tr><td class="h">3404</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3405</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(@{$self-&gt;{$param}},$filehandle);</td></tr>
<tr><td class="h">3406</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3407</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3408</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3409</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3410</td><td colspan="6"></td></tr><tr><td class="h">3411</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;upload&#39; =&gt;&lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3412</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub upload {</td></tr>
<tr><td class="h">3413</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$param_name) = self_or_default(@_);</td></tr>
<tr><td class="h">3414</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @param = grep(ref &amp;&amp; defined(fileno($_)), $self-&gt;param($param_name));</td></tr>
<tr><td class="h">3415</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless @param;</td></tr>
<tr><td class="h">3416</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @param : $param[0];</td></tr>
<tr><td class="h">3417</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3418</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3419</td><td colspan="6"></td></tr><tr><td class="h">3420</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;tmpFileName&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3421</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub tmpFileName {</td></tr>
<tr><td class="h">3422</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$filename) = self_or_default(@_);</td></tr>
<tr><td class="h">3423</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.tmpfiles&#39;}-&gt;{$$filename}-&gt;{name} ?</td></tr>
<tr><td class="h">3424</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{&#39;.tmpfiles&#39;}-&gt;{$$filename}-&gt;{name}-&gt;as_string</td></tr>
<tr><td class="h">3425</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: &#39;&#39;;</td></tr>
<tr><td class="h">3426</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3427</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3428</td><td colspan="6"></td></tr><tr><td class="h">3429</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;uploadInfo&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3430</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub uploadInfo {</td></tr>
<tr><td class="h">3431</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$filename) = self_or_default(@_);</td></tr>
<tr><td class="h">3432</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{&#39;.tmpfiles&#39;}-&gt;{$$filename}-&gt;{info};</td></tr>
<tr><td class="h">3433</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3434</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3435</td><td colspan="6"></td></tr><tr><td class="h">3436</td><td></td><td></td><td></td><td></td><td></td><td class="s"># internal routine, don&#39;t use</td></tr>
<tr><td class="h">3437</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_set_values_and_labels&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3438</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _set_values_and_labels {</td></tr>
<tr><td class="h">3439</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">3440</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($v,$l,$n) = @_;</td></tr>
<tr><td class="h">3441</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$$l = $v if ref($v) eq &#39;HASH&#39; &amp;&amp; !ref($$l);</td></tr>
<tr><td class="h">3442</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;param($n) if !defined($v);</td></tr>
<tr><td class="h">3443</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $v if !ref($v);</td></tr>
<tr><td class="h">3444</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ref($v) eq &#39;HASH&#39; ? keys %$v : @$v;</td></tr>
<tr><td class="h">3445</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3446</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3447</td><td colspan="6"></td></tr><tr><td class="h">3448</td><td></td><td></td><td></td><td></td><td></td><td class="s"># internal routine, don&#39;t use</td></tr>
<tr><td class="h">3449</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_set_attributes&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3450</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _set_attributes {</td></tr>
<tr><td class="h">3451</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">3452</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($element, $attributes) = @_;</td></tr>
<tr><td class="h">3453</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;&#39; unless defined($attributes-&gt;{$element});</td></tr>
<tr><td class="h">3454</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$attribs = &#39; &#39;;</td></tr>
<tr><td class="h">3455</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $attrib (keys %{$attributes-&gt;{$element}}) {</td></tr>
<tr><td class="h">3456</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(my $clean_attrib = $attrib) =~ s/^-//;</td></tr>
<tr><td class="h">3457</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$attribs .= &quot;@{[lc($clean_attrib)]}=\&quot;$attributes-&gt;{$element}{$attrib}\&quot; &quot;;</td></tr>
<tr><td class="h">3458</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3459</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$attribs =~ s/ $//;</td></tr>
<tr><td class="h">3460</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $attribs;</td></tr>
<tr><td class="h">3461</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3462</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3463</td><td colspan="6"></td></tr><tr><td class="h">3464</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;_compile_all&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3465</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _compile_all {</td></tr>
<tr><td class="h">3466</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@_) {</td></tr>
<tr><td class="h">3467</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if defined(&amp;$_);</td></tr>
<tr><td class="h">3468</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$AUTOLOAD = &quot;CGI::$_&quot;;</td></tr>
<tr><td class="h">3469</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_compile();</td></tr>
<tr><td class="h">3470</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3471</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3472</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3473</td><td colspan="6"></td></tr><tr><td class="h">3474</td><td></td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h">3475</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_AUTOLOAD</td></tr>
<tr><td class="h">3476</td><td></td><td></td><td></td><td></td><td></td><td class="s">;</td></tr>
<tr><td class="h">3477</td><td colspan="6"></td></tr><tr><td class="h">3478</td><td></td><td></td><td></td><td></td><td></td><td class="s">#########################################################</td></tr>
<tr><td class="h">3479</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Globals and stubs for other packages that we use.</td></tr>
<tr><td class="h">3480</td><td></td><td></td><td></td><td></td><td></td><td class="s">#########################################################</td></tr>
<tr><td class="h">3481</td><td colspan="6"></td></tr><tr><td class="h">3482</td><td></td><td></td><td></td><td></td><td></td><td class="s">################### Fh -- lightweight filehandle ###############</td></tr>
<tr><td class="h">3483</td><td></td><td></td><td></td><td></td><td></td><td class="s">package Fh;</td></tr>
<tr><td class="h">3484</td><td></td><td></td><td></td><td></td><td></td><td class="s">use overload </td></tr>
<tr><td class="h">3485</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&#39;&quot;&quot;&#39;  =&gt; \&amp;asString,</td></tr>
<tr><td class="h">3486</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&#39;cmp&#39; =&gt; \&amp;compare,</td></tr>
<tr><td class="h">3487</td><td><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3487">1</a></div></td><td><div>10</div><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&#39;fallback&#39;=&gt;1;</td></tr>
<tr><td class="h">3488</td><td colspan="6"></td></tr><tr><td class="h">3489</td><td></td><td></td><td></td><td></td><td></td><td class="s">$FH=&#39;fh00000&#39;;</td></tr>
<tr><td class="h">3490</td><td colspan="6"></td></tr><tr><td class="h">3491</td><td></td><td></td><td></td><td></td><td></td><td class="s">*Fh::AUTOLOAD = \&amp;CGI::AUTOLOAD;</td></tr>
<tr><td class="h">3492</td><td colspan="6"></td></tr><tr><td class="h">3493</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub DESTROY {</td></tr>
<tr><td class="h">3494</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3494">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">3495</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;close $self;</td></tr>
<tr><td class="h">3496</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3497</td><td colspan="6"></td></tr><tr><td class="h">3498</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES = &#39;&#39;;      # prevent -w error</td></tr>
<tr><td class="h">3499</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES=&lt;&lt;&#39;END_OF_AUTOLOAD&#39;;</td></tr>
<tr><td class="h">3500</td><td></td><td></td><td></td><td></td><td></td><td class="s">%SUBS =  (</td></tr>
<tr><td class="h">3501</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;asString&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3502</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asString {</td></tr>
<tr><td class="h">3503</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">3504</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# get rid of package name</td></tr>
<tr><td class="h">3505</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;(my $i = $$self) =~ s/^\*(\w+::fh\d{5})+//; </td></tr>
<tr><td class="h">3506</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$i =~ s/%(..)/ chr(hex($1)) /eg;</td></tr>
<tr><td class="h">3507</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $i.$CGI::TAINTED;</td></tr>
<tr><td class="h">3508</td><td></td><td></td><td></td><td></td><td></td><td class="s"># BEGIN DEAD CODE</td></tr>
<tr><td class="h">3509</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This was an extremely clever patch that allowed &quot;use strict refs&quot;.</td></tr>
<tr><td class="h">3510</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Unfortunately it relied on another bug that caused leaky file descriptors.</td></tr>
<tr><td class="h">3511</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The underlying bug has been fixed, so this no longer works.  However</td></tr>
<tr><td class="h">3512</td><td></td><td></td><td></td><td></td><td></td><td class="s"># &quot;strict refs&quot; still works for some reason.</td></tr>
<tr><td class="h">3513</td><td></td><td></td><td></td><td></td><td></td><td class="s">#    my $self = shift;</td></tr>
<tr><td class="h">3514</td><td></td><td></td><td></td><td></td><td></td><td class="s">#    return ${*{$self}{SCALAR}};</td></tr>
<tr><td class="h">3515</td><td></td><td></td><td></td><td></td><td></td><td class="s"># END DEAD CODE</td></tr>
<tr><td class="h">3516</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3517</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3518</td><td colspan="6"></td></tr><tr><td class="h">3519</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;compare&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3520</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub compare {</td></tr>
<tr><td class="h">3521</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">3522</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $value = shift;</td></tr>
<tr><td class="h">3523</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &quot;$self&quot; cmp $value;</td></tr>
<tr><td class="h">3524</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3525</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3526</td><td colspan="6"></td></tr><tr><td class="h">3527</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;new&#39;  =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3528</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">3529</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($pack,$name,$file,$delete) = @_;</td></tr>
<tr><td class="h">3530</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_setup_symbols(@SAVED_SYMBOLS) if @SAVED_SYMBOLS;</td></tr>
<tr><td class="h">3531</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Fcntl unless defined &amp;Fcntl::O_RDWR;</td></tr>
<tr><td class="h">3532</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;(my $safename = $name) =~ s/([&#39;:%])/ sprintf &#39;%%%02X&#39;, ord $1 /eg;</td></tr>
<tr><td class="h">3533</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $fv = ++$FH . $safename;</td></tr>
<tr><td class="h">3534</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $ref = \*{&quot;Fh::$fv&quot;};</td></tr>
<tr><td class="h">3535</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$file =~ m!^([a-zA-Z0-9_ \&#39;\&quot;:/.\$\\-]+)$! || return;</td></tr>
<tr><td class="h">3536</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $safe = $1;</td></tr>
<tr><td class="h">3537</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;sysopen($ref,$safe,Fcntl::O_RDWR()|Fcntl::O_CREAT()|Fcntl::O_EXCL(),0600) || return;</td></tr>
<tr><td class="h">3538</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unlink($safe) if $delete;</td></tr>
<tr><td class="h">3539</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;CORE::delete $Fh::{$fv};</td></tr>
<tr><td class="h">3540</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return bless $ref,$pack;</td></tr>
<tr><td class="h">3541</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3542</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3543</td><td colspan="6"></td></tr><tr><td class="h">3544</td><td></td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h">3545</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_AUTOLOAD</td></tr>
<tr><td class="h">3546</td><td colspan="6"></td></tr><tr><td class="h">3547</td><td></td><td></td><td></td><td></td><td></td><td class="s">######################## MultipartBuffer ####################</td></tr>
<tr><td class="h">3548</td><td></td><td></td><td></td><td></td><td></td><td class="s">package MultipartBuffer;</td></tr>
<tr><td class="h">3549</td><td colspan="6"></td></tr><tr><td class="h">3550</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3550">1</a></div></td><td><div>7</div><div>2</div><div>5</div></td><td class="s">use constant DEBUG =&gt; 0;</td></tr>
<tr><td class="h">3551</td><td colspan="6"></td></tr><tr><td class="h">3552</td><td></td><td></td><td></td><td></td><td></td><td class="s"># how many bytes to read at a time.  We use</td></tr>
<tr><td class="h">3553</td><td></td><td></td><td></td><td></td><td></td><td class="s"># a 4K buffer by default.</td></tr>
<tr><td class="h">3554</td><td></td><td></td><td></td><td></td><td></td><td class="s">$INITIAL_FILLUNIT = 1024 * 4;</td></tr>
<tr><td class="h">3555</td><td></td><td></td><td></td><td></td><td></td><td class="s">$TIMEOUT = 240*60;       # 4 hour timeout for big files</td></tr>
<tr><td class="h">3556</td><td></td><td></td><td></td><td></td><td></td><td class="s">$SPIN_LOOP_MAX = 2000;  # bug fix for some Netscape servers</td></tr>
<tr><td class="h">3557</td><td></td><td></td><td></td><td></td><td></td><td class="s">$CRLF=$CGI::CRLF;</td></tr>
<tr><td class="h">3558</td><td colspan="6"></td></tr><tr><td class="h">3559</td><td></td><td></td><td></td><td></td><td></td><td class="s">#reuse the autoload function</td></tr>
<tr><td class="h">3560</td><td></td><td></td><td></td><td></td><td></td><td class="s">*MultipartBuffer::AUTOLOAD = \&amp;CGI::AUTOLOAD;</td></tr>
<tr><td class="h">3561</td><td colspan="6"></td></tr><tr><td class="h">3562</td><td></td><td></td><td></td><td></td><td></td><td class="s"># avoid autoloader warnings</td></tr>
<tr><td class="h">3563</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3563">0</a></div></td><td><div>0</div></td><td class="s">sub DESTROY {}</td></tr>
<tr><td class="h">3564</td><td colspan="6"></td></tr><tr><td class="h">3565</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################################################</td></tr>
<tr><td class="h">3566</td><td></td><td></td><td></td><td></td><td></td><td class="s">################# THESE FUNCTIONS ARE AUTOLOADED ON DEMAND ####################</td></tr>
<tr><td class="h">3567</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################################################</td></tr>
<tr><td class="h">3568</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES = &#39;&#39;;      # prevent -w error</td></tr>
<tr><td class="h">3569</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES=&lt;&lt;&#39;END_OF_AUTOLOAD&#39;;</td></tr>
<tr><td class="h">3570</td><td></td><td></td><td></td><td></td><td></td><td class="s">%SUBS =  (</td></tr>
<tr><td class="h">3571</td><td colspan="6"></td></tr><tr><td class="h">3572</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;new&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3573</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">3574</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($package,$interface,$boundary,$length) = @_;</td></tr>
<tr><td class="h">3575</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$FILLUNIT = $INITIAL_FILLUNIT;</td></tr>
<tr><td class="h">3576</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::DefaultClass-&gt;binmode($IN); # if $CGI::needs_binmode;  # just do it always</td></tr>
<tr><td class="h">3577</td><td colspan="6"></td></tr><tr><td class="h">3578</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If the user types garbage into the file upload field,</td></tr>
<tr><td class="h">3579</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# then Netscape passes NOTHING to the server (not good).</td></tr>
<tr><td class="h">3580</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# We may hang on this read in that case. So we implement</td></tr>
<tr><td class="h">3581</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# a read timeout.  If nothing is ready to read</td></tr>
<tr><td class="h">3582</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# by then, we return.</td></tr>
<tr><td class="h">3583</td><td colspan="6"></td></tr><tr><td class="h">3584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Netscape seems to be a little bit unreliable</td></tr>
<tr><td class="h">3585</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# about providing boundary strings.</td></tr>
<tr><td class="h">3586</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $boundary_read = 0;</td></tr>
<tr><td class="h">3587</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($boundary) {</td></tr>
<tr><td class="h">3588</td><td colspan="6"></td></tr><tr><td class="h">3589</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Under the MIME spec, the boundary consists of the </td></tr>
<tr><td class="h">3590</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# characters &quot;--&quot; PLUS the Boundary string</td></tr>
<tr><td class="h">3591</td><td colspan="6"></td></tr><tr><td class="h">3592</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# BUG: IE 3.01 on the Macintosh uses just the boundary -- not</td></tr>
<tr><td class="h">3593</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the two extra hyphens.  We do a special case here on the user-agent!!!!</td></tr>
<tr><td class="h">3594</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boundary = &quot;--$boundary&quot; unless CGI::user_agent(&#39;MSIE\s+3\.0[12];\s*Mac|DreamPassport&#39;);</td></tr>
<tr><td class="h">3595</td><td colspan="6"></td></tr><tr><td class="h">3596</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else { # otherwise we find it ourselves</td></tr>
<tr><td class="h">3597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($old);</td></tr>
<tr><td class="h">3598</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($old,$/) = ($/,$CRLF); # read a CRLF-delimited line</td></tr>
<tr><td class="h">3599</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boundary = &lt;STDIN&gt;;      # BUG: This won&#39;t work correctly under mod_perl</td></tr>
<tr><td class="h">3600</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$length -= length($boundary);</td></tr>
<tr><td class="h">3601</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp($boundary);               # remove the CRLF</td></tr>
<tr><td class="h">3602</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/ = $old;                      # restore old line separator</td></tr>
<tr><td class="h">3603</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boundary_read++;</td></tr>
<tr><td class="h">3604</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3605</td><td colspan="6"></td></tr><tr><td class="h">3606</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = {LENGTH=&gt;$length,</td></tr>
<tr><td class="h">3607</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHUNKED=&gt;!defined $length,</td></tr>
<tr><td class="h">3608</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BOUNDARY=&gt;$boundary,</td></tr>
<tr><td class="h">3609</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERFACE=&gt;$interface,</td></tr>
<tr><td class="h">3610</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUFFER=&gt;&#39;&#39;,</td></tr>
<tr><td class="h">3611</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3612</td><td colspan="6"></td></tr><tr><td class="h">3613</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$FILLUNIT = length($boundary)</td></tr>
<tr><td class="h">3614</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if length($boundary) &gt; $FILLUNIT;</td></tr>
<tr><td class="h">3615</td><td colspan="6"></td></tr><tr><td class="h">3616</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $retval = bless $self,ref $package || $package;</td></tr>
<tr><td class="h">3617</td><td colspan="6"></td></tr><tr><td class="h">3618</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Read the preamble and the topmost (boundary) line plus the CRLF.</td></tr>
<tr><td class="h">3619</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ($boundary_read) {</td></tr>
<tr><td class="h">3620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($self-&gt;read(0)) { }</td></tr>
<tr><td class="h">3621</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3622</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Malformed multipart POST: data truncated\n&quot; if $self-&gt;eof;</td></tr>
<tr><td class="h">3623</td><td colspan="6"></td></tr><tr><td class="h">3624</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $retval;</td></tr>
<tr><td class="h">3625</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3626</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3627</td><td colspan="6"></td></tr><tr><td class="h">3628</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;readHeader&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3629</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub readHeader {</td></tr>
<tr><td class="h">3630</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">3631</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($end);</td></tr>
<tr><td class="h">3632</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($ok) = 0;</td></tr>
<tr><td class="h">3633</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($bad) = 0;</td></tr>
<tr><td class="h">3634</td><td colspan="6"></td></tr><tr><td class="h">3635</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local($CRLF) = &quot;\015\012&quot; if $CGI::OS eq &#39;VMS&#39; || $CGI::EBCDIC;</td></tr>
<tr><td class="h">3636</td><td colspan="6"></td></tr><tr><td class="h">3637</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;do {</td></tr>
<tr><td class="h">3638</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;fillBuffer($FILLUNIT);</td></tr>
<tr><td class="h">3639</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ok++ if ($end = index($self-&gt;{BUFFER},&quot;${CRLF}${CRLF}&quot;)) &gt;= 0;</td></tr>
<tr><td class="h">3640</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ok++ if $self-&gt;{BUFFER} eq &#39;&#39;;</td></tr>
<tr><td class="h">3641</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bad++ if !$ok &amp;&amp; $self-&gt;{LENGTH} &lt;= 0;</td></tr>
<tr><td class="h">3642</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# this was a bad idea</td></tr>
<tr><td class="h">3643</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $FILLUNIT *= 2 if length($self-&gt;{BUFFER}) &gt;= $FILLUNIT; </td></tr>
<tr><td class="h">3644</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} until $ok || $bad;</td></tr>
<tr><td class="h">3645</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return () if $bad;</td></tr>
<tr><td class="h">3646</td><td colspan="6"></td></tr><tr><td class="h">3647</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#EBCDIC NOTE: translate header into EBCDIC, but watch out for continuation lines!</td></tr>
<tr><td class="h">3648</td><td colspan="6"></td></tr><tr><td class="h">3649</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($header) = substr($self-&gt;{BUFFER},0,$end+2);</td></tr>
<tr><td class="h">3650</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;substr($self-&gt;{BUFFER},0,$end+4) = &#39;&#39;;</td></tr>
<tr><td class="h">3651</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %return;</td></tr>
<tr><td class="h">3652</td><td colspan="6"></td></tr><tr><td class="h">3653</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($CGI::EBCDIC) {</td></tr>
<tr><td class="h">3654</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;untranslated header=$header\n&quot; if DEBUG;</td></tr>
<tr><td class="h">3655</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$header = CGI::Util::ascii2ebcdic($header);</td></tr>
<tr><td class="h">3656</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;translated header=$header\n&quot; if DEBUG;</td></tr>
<tr><td class="h">3657</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3658</td><td colspan="6"></td></tr><tr><td class="h">3659</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# See RFC 2045 Appendix A and RFC 822 sections 3.4.8</td></tr>
<tr><td class="h">3660</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#   (Folding Long Header Fields), 3.4.3 (Comments)</td></tr>
<tr><td class="h">3661</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#   and 3.4.5 (Quoted-Strings).</td></tr>
<tr><td class="h">3662</td><td colspan="6"></td></tr><tr><td class="h">3663</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $token = &#39;[-\w!\#$%&amp;\&#39;*+.^_\`|{}~]&#39;;</td></tr>
<tr><td class="h">3664</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$header=~s/$CRLF\s+/ /og;		# merge continuation lines</td></tr>
<tr><td class="h">3665</td><td colspan="6"></td></tr><tr><td class="h">3666</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($header=~/($token+):\s+([^$CRLF]*)/mgox) {</td></tr>
<tr><td class="h">3667</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($field_name,$field_value) = ($1,$2);</td></tr>
<tr><td class="h">3668</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$field_name =~ s/\b(\w)/uc($1)/eg; #canonicalize</td></tr>
<tr><td class="h">3669</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return{$field_name}=$field_value;</td></tr>
<tr><td class="h">3670</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3671</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return %return;</td></tr>
<tr><td class="h">3672</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3673</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3674</td><td colspan="6"></td></tr><tr><td class="h">3675</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This reads and returns the body as a single scalar value.</td></tr>
<tr><td class="h">3676</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;readBody&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3677</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub readBody {</td></tr>
<tr><td class="h">3678</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">3679</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($data);</td></tr>
<tr><td class="h">3680</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($returnval)=&#39;&#39;;</td></tr>
<tr><td class="h">3681</td><td colspan="6"></td></tr><tr><td class="h">3682</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#EBCDIC NOTE: want to translate returnval into EBCDIC HERE</td></tr>
<tr><td class="h">3683</td><td colspan="6"></td></tr><tr><td class="h">3684</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while (defined($data = $self-&gt;read)) {</td></tr>
<tr><td class="h">3685</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$returnval .= $data;</td></tr>
<tr><td class="h">3686</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3687</td><td colspan="6"></td></tr><tr><td class="h">3688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($CGI::EBCDIC) {</td></tr>
<tr><td class="h">3689</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;untranslated body=$returnval\n&quot; if DEBUG;</td></tr>
<tr><td class="h">3690</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$returnval = CGI::Util::ascii2ebcdic($returnval);</td></tr>
<tr><td class="h">3691</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;translated body=$returnval\n&quot;   if DEBUG;</td></tr>
<tr><td class="h">3692</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3693</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $returnval;</td></tr>
<tr><td class="h">3694</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3695</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3696</td><td colspan="6"></td></tr><tr><td class="h">3697</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This will read $bytes or until the boundary is hit, whichever happens</td></tr>
<tr><td class="h">3698</td><td></td><td></td><td></td><td></td><td></td><td class="s"># first.  After the boundary is hit, we return undef.  The next read will</td></tr>
<tr><td class="h">3699</td><td></td><td></td><td></td><td></td><td></td><td class="s"># skip over the boundary and begin reading again;</td></tr>
<tr><td class="h">3700</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;read&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3701</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub read {</td></tr>
<tr><td class="h">3702</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$bytes) = @_;</td></tr>
<tr><td class="h">3703</td><td colspan="6"></td></tr><tr><td class="h">3704</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# default number of bytes to read</td></tr>
<tr><td class="h">3705</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$bytes = $bytes || $FILLUNIT;</td></tr>
<tr><td class="h">3706</td><td colspan="6"></td></tr><tr><td class="h">3707</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Fill up our internal buffer in such a way that the boundary</td></tr>
<tr><td class="h">3708</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# is never split between reads.</td></tr>
<tr><td class="h">3709</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;fillBuffer($bytes);</td></tr>
<tr><td class="h">3710</td><td colspan="6"></td></tr><tr><td class="h">3711</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $boundary_start = $CGI::EBCDIC ? CGI::Util::ebcdic2ascii($self-&gt;{BOUNDARY})      : $self-&gt;{BOUNDARY};</td></tr>
<tr><td class="h">3712</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $boundary_end   = $CGI::EBCDIC ? CGI::Util::ebcdic2ascii($self-&gt;{BOUNDARY}.&#39;--&#39;) : $self-&gt;{BOUNDARY}.&#39;--&#39;;</td></tr>
<tr><td class="h">3713</td><td colspan="6"></td></tr><tr><td class="h">3714</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Find the boundary in the buffer (it may not be there).</td></tr>
<tr><td class="h">3715</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $start = index($self-&gt;{BUFFER},$boundary_start);</td></tr>
<tr><td class="h">3716</td><td colspan="6"></td></tr><tr><td class="h">3717</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;boundary=$self-&gt;{BOUNDARY} length=$self-&gt;{LENGTH} start=$start\n&quot; if DEBUG;</td></tr>
<tr><td class="h">3718</td><td colspan="6"></td></tr><tr><td class="h">3719</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# protect against malformed multipart POST operations</td></tr>
<tr><td class="h">3720</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Malformed multipart POST\n&quot; unless $self-&gt;{CHUNKED} || ($start &gt;= 0 || $self-&gt;{LENGTH} &gt; 0);</td></tr>
<tr><td class="h">3721</td><td colspan="6"></td></tr><tr><td class="h">3722</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#EBCDIC NOTE: want to translate boundary search into ASCII here.</td></tr>
<tr><td class="h">3723</td><td colspan="6"></td></tr><tr><td class="h">3724</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If the boundary begins the data, then skip past it</td></tr>
<tr><td class="h">3725</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# and return undef.</td></tr>
<tr><td class="h">3726</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($start == 0) {</td></tr>
<tr><td class="h">3727</td><td colspan="6"></td></tr><tr><td class="h">3728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# clear us out completely if we&#39;ve hit the last boundary.</td></tr>
<tr><td class="h">3729</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (index($self-&gt;{BUFFER},$boundary_end)==0) {</td></tr>
<tr><td class="h">3730</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{BUFFER}=&#39;&#39;;</td></tr>
<tr><td class="h">3731</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{LENGTH}=0;</td></tr>
<tr><td class="h">3732</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">3733</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3734</td><td colspan="6"></td></tr><tr><td class="h">3735</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# just remove the boundary.</td></tr>
<tr><td class="h">3736</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;substr($self-&gt;{BUFFER},0,length($boundary_start))=&#39;&#39;;</td></tr>
<tr><td class="h">3737</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{BUFFER} =~ s/^\012\015?//;</td></tr>
<tr><td class="h">3738</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">3739</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3740</td><td colspan="6"></td></tr><tr><td class="h">3741</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $bytesToReturn;</td></tr>
<tr><td class="h">3742</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($start &gt; 0) {           # read up to the boundary</td></tr>
<tr><td class="h">3743</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bytesToReturn = $start-2 &gt; $bytes ? $bytes : $start;</td></tr>
<tr><td class="h">3744</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {    # read the requested number of bytes</td></tr>
<tr><td class="h">3745</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# leave enough bytes in the buffer to allow us to read</td></tr>
<tr><td class="h">3746</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the boundary.  Thanks to Kevin Hendrick for finding</td></tr>
<tr><td class="h">3747</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# this one.</td></tr>
<tr><td class="h">3748</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bytesToReturn = $bytes - (length($boundary_start)+1);</td></tr>
<tr><td class="h">3749</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3750</td><td colspan="6"></td></tr><tr><td class="h">3751</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $returnval=substr($self-&gt;{BUFFER},0,$bytesToReturn);</td></tr>
<tr><td class="h">3752</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;substr($self-&gt;{BUFFER},0,$bytesToReturn)=&#39;&#39;;</td></tr>
<tr><td class="h">3753</td><td colspan="6"></td></tr><tr><td class="h">3754</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If we hit the boundary, remove the CRLF from the end.</td></tr>
<tr><td class="h">3755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ($bytesToReturn==$start)</td></tr>
<tr><td class="h">3756</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? substr($returnval,0,-2) : $returnval;</td></tr>
<tr><td class="h">3757</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3758</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3759</td><td colspan="6"></td></tr><tr><td class="h">3760</td><td colspan="6"></td></tr><tr><td class="h">3761</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This fills up our internal buffer in such a way that the</td></tr>
<tr><td class="h">3762</td><td></td><td></td><td></td><td></td><td></td><td class="s"># boundary is never split between reads</td></tr>
<tr><td class="h">3763</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;fillBuffer&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3764</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub fillBuffer {</td></tr>
<tr><td class="h">3765</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self,$bytes) = @_;</td></tr>
<tr><td class="h">3766</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless $self-&gt;{CHUNKED} || $self-&gt;{LENGTH};</td></tr>
<tr><td class="h">3767</td><td colspan="6"></td></tr><tr><td class="h">3768</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($boundaryLength) = length($self-&gt;{BOUNDARY});</td></tr>
<tr><td class="h">3769</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($bufferLength) = length($self-&gt;{BUFFER});</td></tr>
<tr><td class="h">3770</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($bytesToRead) = $bytes - $bufferLength + $boundaryLength + 2;</td></tr>
<tr><td class="h">3771</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$bytesToRead = $self-&gt;{LENGTH} if !$self-&gt;{CHUNKED} &amp;&amp; $self-&gt;{LENGTH} &lt; $bytesToRead;</td></tr>
<tr><td class="h">3772</td><td colspan="6"></td></tr><tr><td class="h">3773</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Try to read some data.  We may hang here if the browser is screwed up.</td></tr>
<tr><td class="h">3774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $bytesRead = $self-&gt;{INTERFACE}-&gt;read_from_client(\$self-&gt;{BUFFER},</td></tr>
<tr><td class="h">3775</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bytesToRead,</td></tr>
<tr><td class="h">3776</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bufferLength);</td></tr>
<tr><td class="h">3777</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;bytesToRead=$bytesToRead, bufferLength=$bufferLength, buffer=$self-&gt;{BUFFER}\n&quot; if DEBUG;</td></tr>
<tr><td class="h">3778</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{BUFFER} = &#39;&#39; unless defined $self-&gt;{BUFFER};</td></tr>
<tr><td class="h">3779</td><td colspan="6"></td></tr><tr><td class="h">3780</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# An apparent bug in the Apache server causes the read()</td></tr>
<tr><td class="h">3781</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# to return zero bytes repeatedly without blocking if the</td></tr>
<tr><td class="h">3782</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# remote user aborts during a file transfer.  I don&#39;t know how</td></tr>
<tr><td class="h">3783</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# they manage this, but the workaround is to abort if we get</td></tr>
<tr><td class="h">3784</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# more than SPIN_LOOP_MAX consecutive zero reads.</td></tr>
<tr><td class="h">3785</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($bytesRead &lt;= 0) {</td></tr>
<tr><td class="h">3786</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die  &quot;CGI.pm: Server closed socket during multipart read (client aborted?).\n&quot;</td></tr>
<tr><td class="h">3787</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;{ZERO_LOOP_COUNTER}++ &gt;= $SPIN_LOOP_MAX);</td></tr>
<tr><td class="h">3788</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{ZERO_LOOP_COUNTER}=0;</td></tr>
<tr><td class="h">3790</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3791</td><td colspan="6"></td></tr><tr><td class="h">3792</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{LENGTH} -= $bytesRead if !$self-&gt;{CHUNKED} &amp;&amp; $bytesRead;</td></tr>
<tr><td class="h">3793</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3794</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3795</td><td colspan="6"></td></tr><tr><td class="h">3796</td><td colspan="6"></td></tr><tr><td class="h">3797</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Return true when we&#39;ve finished reading</td></tr>
<tr><td class="h">3798</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;eof&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;</td></tr>
<tr><td class="h">3799</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub eof {</td></tr>
<tr><td class="h">3800</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">3801</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return 1 if (length($self-&gt;{BUFFER}) == 0)</td></tr>
<tr><td class="h">3802</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; ($self-&gt;{LENGTH} &lt;= 0);</td></tr>
<tr><td class="h">3803</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;undef;</td></tr>
<tr><td class="h">3804</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3805</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3806</td><td colspan="6"></td></tr><tr><td class="h">3807</td><td></td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h">3808</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_AUTOLOAD</td></tr>
<tr><td class="h">3809</td><td colspan="6"></td></tr><tr><td class="h">3810</td><td></td><td></td><td></td><td></td><td></td><td class="s">####################################################################################</td></tr>
<tr><td class="h">3811</td><td></td><td></td><td></td><td></td><td></td><td class="s">################################## TEMPORARY FILES #################################</td></tr>
<tr><td class="h">3812</td><td></td><td></td><td></td><td></td><td></td><td class="s">####################################################################################</td></tr>
<tr><td class="h">3813</td><td></td><td></td><td></td><td></td><td></td><td class="s">package CGITempFile;</td></tr>
<tr><td class="h">3814</td><td colspan="6"></td></tr><tr><td class="h">3815</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub find_tempdir {</td></tr>
<tr><td class="h">3816</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3816">1</a></div></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;$SL = $CGI::SL;</td></tr>
<tr><td class="h">3817</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;$MAC = $CGI::OS eq &#39;MACINTOSH&#39;;</td></tr>
<tr><td class="h">3818</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3818">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;my ($vol) = $MAC ? MacPerl::Volumes() =~ /:(.*)/ : &quot;&quot;;</td></tr>
<tr><td class="h">3819</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3819">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;unless (defined $TMPDIRECTORY) {</td></tr>
<tr><td class="h">3820</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@TEMP=(&quot;${SL}usr${SL}tmp&quot;,&quot;${SL}var${SL}tmp&quot;,</td></tr>
<tr><td class="h">3821</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;C:${SL}temp&quot;,&quot;${SL}tmp&quot;,&quot;${SL}temp&quot;,</td></tr>
<tr><td class="h">3822</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;${vol}${SL}Temporary Items&quot;,</td></tr>
<tr><td class="h">3823</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;${SL}WWW_ROOT&quot;, &quot;${SL}SYS\$SCRATCH&quot;,</td></tr>
<tr><td class="h">3824</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;C:${SL}system${SL}temp&quot;);</td></tr>
<tr><td class="h">3825</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3825">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unshift(@TEMP,$ENV{&#39;TMPDIR&#39;}) if defined $ENV{&#39;TMPDIR&#39;};</td></tr>
<tr><td class="h">3826</td><td colspan="6"></td></tr><tr><td class="h">3827</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# this feature was supposed to provide per-user tmpfiles, but</td></tr>
<tr><td class="h">3828</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# it is problematic.</td></tr>
<tr><td class="h">3829</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    unshift(@TEMP,(getpwuid($&lt;))[7].&#39;/tmp&#39;) if $CGI::OS eq &#39;UNIX&#39;;</td></tr>
<tr><td class="h">3830</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Rob: getpwuid() is unfortunately UNIX specific. On brain dead OS&#39;es this</td></tr>
<tr><td class="h">3831</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    : can generate a &#39;getpwuid() not implemented&#39; exception, even though</td></tr>
<tr><td class="h">3832</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    : it&#39;s never called.  Found under DOS/Win with the DJGPP perl port.</td></tr>
<tr><td class="h">3833</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#    : Refer to getpwuid() only at run-time if we&#39;re fortunate and have  UNIX.</td></tr>
<tr><td class="h">3834</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# unshift(@TEMP,(eval {(getpwuid($&gt;))[7]}).&#39;/tmp&#39;) if $CGI::OS eq &#39;UNIX&#39; and $&gt; != 0;</td></tr>
<tr><td class="h">3835</td><td colspan="6"></td></tr><tr><td class="h">3836</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach (@TEMP) {</td></tr>
<tr><td class="h">3837</td><td><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div></td><td><div class="c3" title="T/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3837">100</a></div></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--condition.html#L3837">67</a></div></td><td></td><td><div>28</div><div>3</div><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do {$TMPDIRECTORY = $_; last} if -d $_ &amp;&amp; -w _;</td></tr>
<tr><td class="h">3838</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3839</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3840</td><td><div class="c3">1</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3840">0</a></div><div class="c0" title="-/F"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3840">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;$TMPDIRECTORY  = $MAC ? &quot;&quot; : &quot;.&quot; unless $TMPDIRECTORY;</td></tr>
<tr><td class="h">3841</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3842</td><td colspan="6"></td></tr><tr><td class="h">3843</td><td></td><td></td><td></td><td></td><td></td><td class="s">find_tempdir();</td></tr>
<tr><td class="h">3844</td><td colspan="6"></td></tr><tr><td class="h">3845</td><td></td><td></td><td></td><td></td><td></td><td class="s">$MAXTRIES = 5000;</td></tr>
<tr><td class="h">3846</td><td colspan="6"></td></tr><tr><td class="h">3847</td><td></td><td></td><td></td><td></td><td></td><td class="s"># cute feature, but overload implementation broke it</td></tr>
<tr><td class="h">3848</td><td></td><td></td><td></td><td></td><td></td><td class="s"># %OVERLOAD = (&#39;&quot;&quot;&#39;=&gt;&#39;as_string&#39;);</td></tr>
<tr><td class="h">3849</td><td></td><td></td><td></td><td></td><td></td><td class="s">*CGITempFile::AUTOLOAD = \&amp;CGI::AUTOLOAD;</td></tr>
<tr><td class="h">3850</td><td colspan="6"></td></tr><tr><td class="h">3851</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub DESTROY {</td></tr>
<tr><td class="h">3852</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-share-perl-5-8-8-CGI-pm--subroutine.html#L3852">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">3853</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-share-perl-5-8-8-CGI-pm--branch.html#L3853">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$$self =~ m!^([a-zA-Z0-9_ \&#39;\&quot;:/.\$\\-]+)$! || return;</td></tr>
<tr><td class="h">3854</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $safe = $1;             # untaint operation</td></tr>
<tr><td class="h">3855</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unlink $safe;              # get rid of the file</td></tr>
<tr><td class="h">3856</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3857</td><td colspan="6"></td></tr><tr><td class="h">3858</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################################################</td></tr>
<tr><td class="h">3859</td><td></td><td></td><td></td><td></td><td></td><td class="s">################# THESE FUNCTIONS ARE AUTOLOADED ON DEMAND ####################</td></tr>
<tr><td class="h">3860</td><td></td><td></td><td></td><td></td><td></td><td class="s">###############################################################################</td></tr>
<tr><td class="h">3861</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES = &#39;&#39;;      # prevent -w error</td></tr>
<tr><td class="h">3862</td><td></td><td></td><td></td><td></td><td></td><td class="s">$AUTOLOADED_ROUTINES=&lt;&lt;&#39;END_OF_AUTOLOAD&#39;;</td></tr>
<tr><td class="h">3863</td><td></td><td></td><td></td><td></td><td></td><td class="s">%SUBS = (</td></tr>
<tr><td class="h">3864</td><td colspan="6"></td></tr><tr><td class="h">3865</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;new&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;,</td></tr>
<tr><td class="h">3866</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">3867</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($package,$sequence) = @_;</td></tr>
<tr><td class="h">3868</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $filename;</td></tr>
<tr><td class="h">3869</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;find_tempdir() unless -w $TMPDIRECTORY;</td></tr>
<tr><td class="h">3870</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for (my $i = 0; $i &lt; $MAXTRIES; $i++) {</td></tr>
<tr><td class="h">3871</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last if ! -f ($filename = sprintf(&quot;${TMPDIRECTORY}${SL}CGItemp%d&quot;,$sequence++));</td></tr>
<tr><td class="h">3872</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3873</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# check that it is a more-or-less valid filename</td></tr>
<tr><td class="h">3874</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless $filename =~ m!^([a-zA-Z0-9_ \&#39;\&quot;:/.\$\\-]+)$!;</td></tr>
<tr><td class="h">3875</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# this used to untaint, now it doesn&#39;t</td></tr>
<tr><td class="h">3876</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# $filename = $1;</td></tr>
<tr><td class="h">3877</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return bless \$filename;</td></tr>
<tr><td class="h">3878</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3879</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3880</td><td colspan="6"></td></tr><tr><td class="h">3881</td><td></td><td></td><td></td><td></td><td></td><td class="s">&#39;as_string&#39; =&gt; &lt;&lt;&#39;END_OF_FUNC&#39;</td></tr>
<tr><td class="h">3882</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub as_string {</td></tr>
<tr><td class="h">3883</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($self) = @_;</td></tr>
<tr><td class="h">3884</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $$self;</td></tr>
<tr><td class="h">3885</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3886</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_FUNC</td></tr>
<tr><td class="h">3887</td><td colspan="6"></td></tr><tr><td class="h">3888</td><td></td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h">3889</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_AUTOLOAD</td></tr>
<tr><td class="h">3890</td><td colspan="6"></td></tr><tr><td class="h">3891</td><td></td><td></td><td></td><td></td><td></td><td class="s">package CGI;</td></tr>
<tr><td class="h">3892</td><td colspan="6"></td></tr><tr><td class="h">3893</td><td></td><td></td><td></td><td></td><td></td><td class="s"># We get a whole bunch of warnings about &quot;possibly uninitialized variables&quot;</td></tr>
<tr><td class="h">3894</td><td></td><td></td><td></td><td></td><td></td><td class="s"># when running with the -w switch.  Touch them all once to get rid of the</td></tr>
<tr><td class="h">3895</td><td></td><td></td><td></td><td></td><td></td><td class="s"># warnings.  This is ugly and I hate it.</td></tr>
<tr><td class="h">3896</td><td></td><td></td><td></td><td></td><td></td><td class="s">if ($^W) {</td></tr>
<tr><td class="h">3897</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::CGI = &#39;&#39;;</td></tr>
<tr><td class="h">3898</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::CGI=&lt;&lt;EOF;</td></tr>
<tr><td class="h">3899</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$CGI::VERSION;</td></tr>
<tr><td class="h">3900</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$MultipartBuffer::SPIN_LOOP_MAX;</td></tr>
<tr><td class="h">3901</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$MultipartBuffer::CRLF;</td></tr>
<tr><td class="h">3902</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$MultipartBuffer::TIMEOUT;</td></tr>
<tr><td class="h">3903</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$MultipartBuffer::INITIAL_FILLUNIT;</td></tr>
<tr><td class="h">3904</td><td></td><td></td><td></td><td></td><td></td><td class="s">EOF</td></tr>
<tr><td class="h">3905</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;;</td></tr>
<tr><td class="h">3906</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3907</td><td colspan="6"></td></tr><tr><td class="h">3908</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
<tr><td class="h">3909</td><td colspan="6"></td></tr></table>
</body>
</html>
