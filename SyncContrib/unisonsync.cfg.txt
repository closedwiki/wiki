# SAMPLE Configuration file for SyncContrib
# Used on a windows box
# Eventually this will become a section in TWiki Dakar's configure file

# Copy this and save as unisonsync.cfg in the SyncContrib directory
# This is an EARLY RELEASE - YOUR FEEDBACK IS ESSENTIAL
# (C) Martin@Cleaver.org
# Released under the GPL

# PRECONDITIONS
# the default unison profile must not exist 
# Putty must be installed
# pageant must be running
# unison key must be set up

# Common debug options
# SYMPTOM:
#   Two or more files on a Unix system have names identical except for case.
#   They cannot be synchronized to a Windows file system.
# DIAGNOSIS
#   unisonOptions => '-debug update',


$UnisonSync::options = {
## Change these

    'syncAccounts' => ['TestAccountRemote'],

	'accounts' => {
		'TestAccountRemote' => {
			serverRoot => '/home/mrjc/wikiconsulting.com/twiki',
		    serverAccount => 'wikiconsulting',
		    serverSite => 'wikiconsulting.com',
			webs => ['Sandbox'],
			debug => '2',
			dryrun => '',
		},
		'TestAccountLocal' => {
			clientRoot => 'c:/temp/syncContribTest/TWiki',
	        serverRoot => 'c:/moreprgs/indigoperl/apache/TWiki',
			webs => ['Sandbox', 'CleaverSite'],
			unisonOptions => '-backups',
			debug => '2',
			dryrun => '',
		},
	}	

    'clientServerPrivateKey' => 'c:\\Documents and Settings\\Martin Cleaver\\PuttyPrivateKey.ppk',
    'clientRoot' => 'c:/moreprgs/indigoperl/apache/TWiki',
    
    'plinkExecutable' => 'c:\\program files\\putty\plink.exe',
    'plinkTempLauncherScriptFile' => 'c:\\temp\\plinkLauncher.bat',

    'clientUnisonExecutable' => 'c:\\moreprgs\\unison\\unison-2.12.15-win-gui.exe',
    'serverUnisonExecutable' => 'unison',
    
## End of commonly changed options
    'unisonStdErrFile' => '%timestamp%-%accountName%.stdErr',
    'unisonCaptureErrors' => '2> %unisonStdErrFile%',
    'unisonCaptureLog' => '%timestamp%-%accountName%.uniLog',

    'unisonLogfile' => '%timestamp%-%accountName%.log',
    'unisonUimode' => '-ui text',
    'unisonOptions' => '%unisonBatchMode% %unisonDebugMode% %unisonUimode% -logfile %unisonCaptureLog% %unisonIgnoreTWikiHistory% %unisonTimeOutProtection%',
    'unisonIgnoreTWikiHistory' => '-ignore "Regex ^.*,v$"',
    'unisonTimeOutProtection' => '-sshargs "-o ServerAliveInterval=60"',
    'unisonDebugMode' => '-debug none', # none, all, update
    'unisonBatchMode' => '-batch', # e.g. -prefer roota or -force roota (see docs)
    
    'dataDir' => 'data',
    'pubDir' => 'pub',
    'protocol' => 'ssh',
    
};

1;
